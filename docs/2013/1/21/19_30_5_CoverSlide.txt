mongo has atomic commits, with couch i don't know how would one do that, using a PUT would be racy