andrepadez: You could simply move the conditional inside the template.  technically the extend would still be processed but it would achieve what you desire