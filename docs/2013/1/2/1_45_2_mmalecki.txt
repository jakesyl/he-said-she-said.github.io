I did some AVRs back in the days and this was waaay more complicated