i'm basically not sure whether the code is blocking or not