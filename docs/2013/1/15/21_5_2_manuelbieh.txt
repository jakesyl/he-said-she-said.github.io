and my thought was: promises/deferreds to the rescue