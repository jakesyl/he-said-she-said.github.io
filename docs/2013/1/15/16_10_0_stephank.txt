I'd like to try and bump this PR again. I believe all it needs is some decision making. https://github.com/joyent/node/pull/3036 (Response object for HTTP Upgrade/CONNECT)