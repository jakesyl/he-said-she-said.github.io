ssc-steve: somebody smarter could probably give better direction, but you probably want something like this http://hastebin.com/canehededa.js