JohnBeales: well, if you want stuff to happen after the async function, you'll need to give it a callback function that does that stuff.  However, I'm guessing that your issue is that you want the results of the async function to affect the results returned by the top function?