I could pass in a callback to thumb, which is called from the graphics magic stream, just passing it the stdout stream, but I'm curious if I can do a simple stdout.pipe(foo) and foo is returned originally from this thumb function