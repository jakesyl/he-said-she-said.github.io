Isn't that kind of what yield does in Ruby?