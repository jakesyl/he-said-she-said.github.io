promises are OK.  but iced coffeescript has a better program flow