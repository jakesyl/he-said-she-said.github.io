all you're doing in your bitwise stuff is adding 65536 to 3