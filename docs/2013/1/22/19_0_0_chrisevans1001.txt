so, in my example and yours, the code still fails.. i.e. data.request is missing - doing a check on it will result in cannot read property request of null