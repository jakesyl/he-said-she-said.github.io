this is worth reading even though it's for lua: http://www.lua.org/pil/16.html