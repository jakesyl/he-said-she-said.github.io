self and scope carry over to javascript