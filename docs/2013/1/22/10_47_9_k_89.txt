and damn, controlling scope with closures is awesome