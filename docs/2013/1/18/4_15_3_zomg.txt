Which coincidentally could be something you could use to solve this even in javascript, although not really as conveniently as in haskell