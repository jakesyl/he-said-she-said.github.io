it takes a file path and a function as parameters