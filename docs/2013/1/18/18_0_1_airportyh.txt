testem/testacular are designed specifically for what your are doing, if I understand you correctly