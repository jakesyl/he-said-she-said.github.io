i wonder, maybe a fibrous-style API (https://github.com/goodeggs/fibrous) for promises would help. it would attach .promise to Object.prototype and Function.prototype to automatically "promisify" functions, so you could use db.promise.query("blah").then(