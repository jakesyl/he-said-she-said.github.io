Is there something I'm missing here?  I see that you can listen for the "socket" event, but that's only emitted after the socket is connected.