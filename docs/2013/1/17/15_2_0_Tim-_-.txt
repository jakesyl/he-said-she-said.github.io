looks the problem may actually be with ace editor ( http://ace.ajax.org ) botching the eol characters for some reason... 