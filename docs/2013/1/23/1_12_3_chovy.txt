but if you really want to do that, look at async library.