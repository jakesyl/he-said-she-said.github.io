aroman: it's probably a super anal way to do things, but it ensures that you never have a situation where you're just passing around connection state via a global