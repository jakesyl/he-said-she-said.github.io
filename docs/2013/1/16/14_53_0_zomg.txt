kpko: you can just implement some sort of timeout, store a timestamp on the user and when you receive a message from them, compare against the timestamp