othiym23: right. so working off of your original code sample, and using function-based modules, I might have something like this? http://pastie.org/5691545