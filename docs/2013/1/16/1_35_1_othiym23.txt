although I need to do some more work to make sure I don't break virtual host requests