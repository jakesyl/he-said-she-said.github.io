how do I handle "socket hang up" for an http request?