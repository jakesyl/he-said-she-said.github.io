bnoordhuis: it'd be easy enough to place an ->IsNaN() check in the assert area and just store a non-snan and return. if that'd be enough.