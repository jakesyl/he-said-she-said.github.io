ljharb, [in module1.js] var m2 = require('module2'); [in test.js] var m1 = require('module1.js'); m1.m2.someFunction = ....; m1.callRealFunction(); <-- this must be a way better method than mocking the whole require