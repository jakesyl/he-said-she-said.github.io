sinon would let you mock database before module even creates it, so you don't need to expose it