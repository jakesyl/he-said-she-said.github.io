my reference implementation on (what I think of an) ideal web service framework is here https://github.com/engina/zita