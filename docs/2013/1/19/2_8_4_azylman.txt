Using async, you can process each file independently and then, once both are done processing, return your result.