Would you mind taking a look at this etherpad? I've included a short (12 lines) example of how my code is currently structured.