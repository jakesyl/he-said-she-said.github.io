I'm trying to construct a page dynamically... I think what I'm doing is called middleware.