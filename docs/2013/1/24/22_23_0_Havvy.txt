Astraea: Have you looked at using a templating engine?