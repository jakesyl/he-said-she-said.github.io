The other thing you could do so you didn't need middleware and didn't need to accumulate data would be to just have a function that took in a page and added the header and footer to it