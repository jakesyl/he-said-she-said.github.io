ok so you're calling a function (16 * worldSize)^2 * 256 times. no shit that's going to be slow