JohnMcLear: alternatively, `console.log(haystack.match(new RegExp(needle, 'g')).length);` might be what you're after