alternatively you could use an async lib but it's usually less hassle to inline a counter yourself