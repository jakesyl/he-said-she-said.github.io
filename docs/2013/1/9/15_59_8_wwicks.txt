notice how it handles buffers differently now?