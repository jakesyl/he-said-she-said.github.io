the built-in zlib module does it in threads iirc