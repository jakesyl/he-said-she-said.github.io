wrapping the whole thing in a self-calling function