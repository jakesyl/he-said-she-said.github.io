is it better to write your code first, and then add on async based on your problem spots?