xk_id: os x is an atrocity from the perspective of a systems programmer