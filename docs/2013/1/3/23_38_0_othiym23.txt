cellvia: look at this instead https://github.com/joyent/node/blob/master/lib/_stream_readable.js#L287-L393