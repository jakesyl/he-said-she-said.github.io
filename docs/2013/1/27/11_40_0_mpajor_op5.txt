the issue now is simply that it displays duplicates in the list, and removing users from the list upon disconnection doesn't seem to work like it did earlier. I did this to remove a client from the list: delete usernames[socket.room][socket.username];