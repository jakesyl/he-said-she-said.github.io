https://npmjs.org/package/passport.socketio is probably the least broken implementation? But it looks like it still relies on cookies, and the flash transport can't see those.