For anyone interested in automaticaly indenting their JavaScript in vim I have created an easy-to-use plugin https://github.com/euoia/vim-jsbeautify-simple