I know that i can do it with just a custom function i pass into my routes, but that feels dirty somehow.