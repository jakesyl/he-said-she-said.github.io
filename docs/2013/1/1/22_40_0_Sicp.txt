but when I call something like response.end(do something), I only get one shot at it, the response only ends once