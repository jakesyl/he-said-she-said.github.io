bnoordhuis, I think it's a problem that you can't reuse the socket right away after the 'close' event fires