bnoordhuis: so is it possible that the error and close events being emitted too early? i.e. before c++ land has completely pending actions