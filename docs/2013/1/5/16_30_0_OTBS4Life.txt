I started this path with an Express module that made the response emit an end event:  http://codereview.stackexchange.com/questions/20069/patching-in-res-end-event-for-node-js-http-express-by-dynamically-replacing-func