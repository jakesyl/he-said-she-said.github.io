well... you would pretty much do what you would do in a normal browser. the only hacky part I see is spawning a phantomJS instance every time.