writing an ircd kinda sucks