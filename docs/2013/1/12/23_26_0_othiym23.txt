cxreg: the original version of my patch didn't explicitly trap events and put them on the domain, but that process.nextTick(function () { throw err }) caused the world to explode, and the current conditional logic is there to fix that