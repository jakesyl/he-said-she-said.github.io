just tested __dirname in a submodule its returning the directory of the module for me not the running process dir