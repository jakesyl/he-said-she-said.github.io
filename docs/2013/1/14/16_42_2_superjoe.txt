slow, but better than blocking the event loop