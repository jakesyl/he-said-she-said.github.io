because the function (err, whatever) executes after the io.sockets.socket mess