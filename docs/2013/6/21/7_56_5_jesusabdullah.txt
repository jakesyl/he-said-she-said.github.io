That query is asynchronous, if you're doing something like, db.query(some_query, function (err, whatever) { lut1 = whatever; }); io.sockets.socket('bro').emit('hey', lut1)