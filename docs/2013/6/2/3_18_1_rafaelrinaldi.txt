tried async before but was having the same issue