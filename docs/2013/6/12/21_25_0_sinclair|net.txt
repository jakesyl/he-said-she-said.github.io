ckknight: way better than middleware