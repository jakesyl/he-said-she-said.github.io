it may be that catching EPIPE is the answer to this question