for C you could always use the libuv codeâ€¦ that's a straightforward thing