do a while (txt) { if (txt.match) { /*redirect*/ } else { /*cut off a "directory" */ }