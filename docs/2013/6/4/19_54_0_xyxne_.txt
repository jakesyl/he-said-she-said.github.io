the only thing I didn't do was the logic for deciding when/if to join