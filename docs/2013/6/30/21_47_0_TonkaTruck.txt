github user madhums has a nice example using passport with the Local user strategy, too.