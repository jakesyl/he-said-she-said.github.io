and I'm suspecting that you can't update virtual variables with a $set query, but using some other method. Investigating further