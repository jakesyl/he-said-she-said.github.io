client side is optional of course