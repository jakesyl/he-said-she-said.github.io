i suck at blogging - but a blog post about writing a template middleware might have some interest