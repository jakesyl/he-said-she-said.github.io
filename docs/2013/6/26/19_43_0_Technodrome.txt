its pretty confusing setting up all the config stuff