var counter = 0 ; var endfunc = function endfunc() { counter--; if (counter <= 0 { res.end etc } } ; < some stuff counter++ where I pass endfunc, and that finishes with process.nextTick(endfunc) }