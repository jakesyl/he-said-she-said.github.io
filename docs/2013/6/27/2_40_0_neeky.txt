so using my super simplified description, connect's session middleware code might be a bit cleareer