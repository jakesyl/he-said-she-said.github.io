s5fs: functional over imperative