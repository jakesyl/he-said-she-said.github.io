ak5: you could probably write a single middleware