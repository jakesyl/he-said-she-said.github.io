i'd open the connection as a global (as a simple but gross solution, or some other shared state between modules, which in itself could be a shared 'database' module), access it from your request handlers to do your DB queries and respond w/ appropriate results