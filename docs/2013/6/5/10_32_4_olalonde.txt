wahed: see my comment on gist