the whole point is to run it on both node and the client