yalamber: there's nothing in that gist that suggests you're doing it wrong to me, but appWorker isn't in scope here