if you can't connect, can your server even run? (and if it can, shouldn't it be checking if it's connected via some state, instead of 'asking' via some callback)