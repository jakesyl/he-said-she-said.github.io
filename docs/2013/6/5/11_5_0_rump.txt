well the other solution is to rewrite it async