for example, ClientRequest must emit "close" before "end" if connection lost, but the real order is reversed.