unrelated: How should I test that if a function throws an error that it is not handled by its caller? Note: I don't have control as to when the function is called, since it is asynchronous.