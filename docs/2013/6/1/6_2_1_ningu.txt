detecting the error works fine. but I lose the non-streamed part of the json object, and also the first streamed chunk.