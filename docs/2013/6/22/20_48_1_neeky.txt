create a module that does the simulations, and take as an argument a callback.  when you finishe the work, call the calback