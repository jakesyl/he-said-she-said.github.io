but how do you implement memoization without keeping some sort of state :o