it prefers websockets but not all browsers implement them