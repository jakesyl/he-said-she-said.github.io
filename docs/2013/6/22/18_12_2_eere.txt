how to write dNode "server function" for async callbacks ?