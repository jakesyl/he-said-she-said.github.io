ak5: type checking is probably the ugliest part of javascript