ssafejava except there's a bunch of javascript going on