I just ended up writing individual clients for broweser, app, etc and did an API