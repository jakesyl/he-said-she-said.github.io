mbalho: +x casts to number, you probably want x = x | 0 for casts to integer