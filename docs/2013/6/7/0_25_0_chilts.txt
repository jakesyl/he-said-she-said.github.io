I suspect once that has been done, checking for url.parse("http://user:pass@host.com:8080/path?this=that").hostname means it's either worked or not ... if there is a hostname then all good, if there is 'null' then it's an invalid URL