bnoordhuis: I think I was confused with mutex locks vs. non-blocking sockets, sorry