the equivilent C code isn't eating up any memory, as expected