http://www.jstorimer.com/blogs/workingwithcode/7982047-is-lock-free-logging-safe