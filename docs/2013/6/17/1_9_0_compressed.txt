here's some example of what I'm trying to do: https://gist.github.com/compressed/5794074