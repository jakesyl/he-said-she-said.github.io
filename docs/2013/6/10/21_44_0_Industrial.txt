I'll be creating directories in random directories, but I'm not sure at what level to abstract (or even mock).