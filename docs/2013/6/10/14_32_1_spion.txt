what do you usually do when you're writing tests for a node-module that executes different code depending on available optionalDependencies?