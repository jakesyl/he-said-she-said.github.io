Is there a programmatic way to reuse the code npm uses to resolve dependencies?