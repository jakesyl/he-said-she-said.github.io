I keep getting "Unexpected end of input" when reading a file, right after it has been changed. How do I avoid this?