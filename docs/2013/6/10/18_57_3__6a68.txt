the real question is whether the duplication is more or less work than trying to, say, force a client-side thing to work on the server (and all the funky bugs that will turn up)