and it seems to run those inside-loop queries only with the last result of the before-loop query