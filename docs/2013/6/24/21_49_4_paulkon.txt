redis pub/sub with a queue behind it + persistance is the way to go imo