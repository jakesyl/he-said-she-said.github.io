bnoordhuis: have you ever implemented the visitor pattern in javascript?