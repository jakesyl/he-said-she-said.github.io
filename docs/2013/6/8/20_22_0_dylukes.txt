I wrote a whole little fully declarative (routes can be loaded from json) router than fires off events.