is there a prettier way of making it work than (function(n) { callstuff(function() { doSomething(n)})})(i) ?