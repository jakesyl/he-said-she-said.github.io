q is set before the async