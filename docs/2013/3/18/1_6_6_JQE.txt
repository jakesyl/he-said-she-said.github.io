if i send to through the same function from the tcpserver it doesn't