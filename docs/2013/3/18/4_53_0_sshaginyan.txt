knc: I simplified it and it work but don't have any idea what's going on