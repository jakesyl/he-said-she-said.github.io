so the question remains how come the success function never fires in the socket.on function