and malloc should be like:   deltaContent->range = (git_diff_range*)malloc(sizeof(git_diff_range));