mattmcclure: yeah, there's something fishy calling socket.emit inside app.on(). Maybe some async weirdness? I'll try with some sort of callback...