for some reason, the session middleware is being called twice in each request