Not sure who I was talking two an hour or so ago about a capabilities based API server library.. but if you're interested I just wrote up some notes on how I see it working https://github.com/pomke/peanutbutter comments welcome before I start implementing it