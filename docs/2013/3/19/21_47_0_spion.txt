StephenS, doesn't socket.io do that automatically?