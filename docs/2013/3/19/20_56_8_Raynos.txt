Seriously, rewrite it in node