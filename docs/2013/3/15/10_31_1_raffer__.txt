For our mongodb we use a primary/secondary setup. If the primary goes down, 2 becomes 1. If the first is back up, he is 2. Now HAProxy routes every request to the 2 ... (unless we rewrite the HAProxy of course...)