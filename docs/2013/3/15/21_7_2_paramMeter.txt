azylman: hmm, I see I need to pass a function in. Does this mean I should create some sort of closure that holds the array temporarily?