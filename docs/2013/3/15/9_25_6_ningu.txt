define a socket factory with that function?