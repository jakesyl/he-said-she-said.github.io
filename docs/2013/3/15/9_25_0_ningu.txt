I think I was confused by the 'socket' arg to factory