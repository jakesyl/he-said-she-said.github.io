ningu: this is a WIP but it's what I'm using currently http://hastebin.com/tulidujofu.js