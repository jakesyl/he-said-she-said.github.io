the error handling of this code I'm working on is so ... vacant that I'm often not sure if a c-fail is because of my bad in C++ or using it wrong in JS