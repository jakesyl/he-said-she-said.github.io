Would someone take a look at my dilema: https://gist.github.com/samholmes/5094282