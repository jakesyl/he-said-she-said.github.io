i've made one C++ extension, and i went through the same pain you're going through right now