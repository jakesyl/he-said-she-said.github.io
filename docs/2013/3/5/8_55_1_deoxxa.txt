sshaginyan: i actually have a library for that exact thing already, but it uses loops: https://github.com/deoxxa/dotty