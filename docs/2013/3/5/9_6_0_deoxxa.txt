now i wonder if generating functions would be faster than using loops