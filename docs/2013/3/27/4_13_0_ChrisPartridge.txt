agu10^: look at howe other templating solutions work would be a good start