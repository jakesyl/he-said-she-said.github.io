the ECMA spec is an absolute mess