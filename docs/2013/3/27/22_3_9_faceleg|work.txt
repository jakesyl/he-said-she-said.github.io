it's confusing to call it a sync callback though