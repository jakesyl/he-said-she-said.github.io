it could get a little messy in javascript though