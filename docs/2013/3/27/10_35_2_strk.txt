it actually didn't really reach .end() but the o ther end of the pipe interrupted (sigpipe?)