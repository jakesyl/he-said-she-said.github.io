havvy: it's a fairly thoughtless port of the xml api