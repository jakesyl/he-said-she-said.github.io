as async as it could be of course, as you can not rmdir in wrong order