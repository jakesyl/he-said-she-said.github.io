for example your code (you are overriding write and end of stream) and attaching extra properties on a stream object, which isn't really using streams