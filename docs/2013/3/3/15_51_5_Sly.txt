You can reset, recommit, split into a different branch, and then rebase on master once you pull the new code in.