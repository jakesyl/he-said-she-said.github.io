emitter should have been a mixin