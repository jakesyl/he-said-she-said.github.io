someprimetime: as I said before, this is a prime example of what you should be breaking out into middleware