should have done it in C