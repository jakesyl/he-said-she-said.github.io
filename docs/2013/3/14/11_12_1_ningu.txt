faceleg: https://code.google.com/p/tortoisesvn/source/browse/branches/GitTest/ext/libgit2/src/diff_output.c?spec=svn23908&r=23908