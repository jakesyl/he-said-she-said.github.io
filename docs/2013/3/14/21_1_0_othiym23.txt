bnoordhuis: https://gist.github.com/othiym23/5165200 -- second one seems reasonable, not sure about the first one