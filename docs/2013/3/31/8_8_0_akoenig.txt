A good example of this separation is the NPM client. https://github.com/isaacs/npm/tree/master/lib