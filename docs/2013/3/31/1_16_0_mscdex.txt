jeffstieler: you can probably rip out the function used by the zlib module: https://github.com/joyent/node/blob/v0.10/lib/zlib.js#L138-L169