however i think the first method is more in the spirit of socket.io