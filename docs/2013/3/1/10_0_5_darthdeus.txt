Sven_vB: this is my current implementation https://gist.github.com/darthdeus/7a51249e6dd92ab893ff