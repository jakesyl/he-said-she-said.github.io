SomeoneWeird, ljharb: https://gist.github.com/stenehall/fcc538af34471f5b5b77 is the code, if you want to come with a better solution.