esp why its only in the debugger that it fails