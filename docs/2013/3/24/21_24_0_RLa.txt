you can either use bind or var t = this; before creating the callback (and then using t inside it)