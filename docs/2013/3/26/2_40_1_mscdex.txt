and you had to handle buffering in userland