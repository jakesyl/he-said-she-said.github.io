I had it simple but then I started to do more stuff (like check for submission votes as well) so it started to get bigger and that's when I started running into this issue