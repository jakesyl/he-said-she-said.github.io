one does repo.commit(hash, func(e, commt) 