substack: does dnode use sockjs internally? just wondering how it decides whether to use sockets, long-polling etc.