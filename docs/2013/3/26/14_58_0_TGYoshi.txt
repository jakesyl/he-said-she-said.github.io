Those nested functions and variables "remaining valid" then feels to weird