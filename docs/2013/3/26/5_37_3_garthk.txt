Having written a module to turn node-expat's callbacks into a stream of objects, when I had to switch to another parser, all I had to do was write a new tagstream module. Worked a bloody treat. :)