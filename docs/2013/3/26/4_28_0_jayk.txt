the read(5)... read(6) was a bit confusing to me, I couldn't tell at first if it was 'do this if you get 5 bytes or do this if you get 6' - it wasn't until I parsed the Readstream class you wrote that I worked out what it was doing.