mattmcclure: yes, I can call io.sockets.emit from anywhere, but the result is the same: no data. I haven't tried putting the emit into a separate function yet--I suspect that might be the answer.