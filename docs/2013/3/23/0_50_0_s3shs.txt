domain.active should at least be defined until the end of myDomain.run(function()...), completes right?  That is, the callback completes.