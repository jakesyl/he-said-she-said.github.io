do I block or something? do I need process.nextTick and wrap the code I got in the url inside a function?