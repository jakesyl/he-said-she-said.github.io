client -> proxy -> auth -> controller -> generator -> cache -> client