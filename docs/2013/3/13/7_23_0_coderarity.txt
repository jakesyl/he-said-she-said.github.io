zeromodulus: you need to call the callback after set too, otherwise it'll only get called sometimes (and you'll probably have stuff you need to run in there too)