adding more debugging lines to see what's going on, indeed I see the outermost callback being invoked before the innermost.. I could have some aliasing problem