I have a socket that usually receives 'end' but not always, sometimes something goes wrong