i think you'd have to map that async call into a new execution contest, for else you can't know whether all the other async calls it started have finished yet. in simple cases where you can assure it will transport a callback that's called really only when everything it has spawned as completed, you can build the repl with that callback as the thing that makes it repeat itself.