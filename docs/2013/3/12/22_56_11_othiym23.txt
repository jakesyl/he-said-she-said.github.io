I don't object to writing something that uses getrusage(2) or times(3), but if somebody's already solved this, I'd love to know