because the closure one is simpler to test, but it feels a big ugly