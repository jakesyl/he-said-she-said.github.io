samholmes: global state is just always painful in the long run