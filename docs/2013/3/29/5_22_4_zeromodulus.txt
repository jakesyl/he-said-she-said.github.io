Paccc: Your connection.connect() call and connection.query() call happen right after the other, asynchronously.