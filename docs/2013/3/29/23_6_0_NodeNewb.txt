seems like a lot of re-writing, but I'm not sure how I put a custom function inside of a new model