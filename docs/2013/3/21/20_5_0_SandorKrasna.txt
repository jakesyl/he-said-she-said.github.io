here is the code to better understand my issue http://pastebin.com/u3ZR05v2