I haven't used jsdom but it sounds like that fills your need