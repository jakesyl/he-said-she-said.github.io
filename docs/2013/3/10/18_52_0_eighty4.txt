I seem to be totaly missing something, shouldn'g fs.truncate('myfile.txt', 0); truncate the file? Instead I get http://pastebin.com/2mki9AcB