but i found a bug in it where pipe chaining breaks