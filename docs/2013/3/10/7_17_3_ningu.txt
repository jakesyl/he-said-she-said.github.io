there is one callback for each iteration of the loop, one for when everything is finished