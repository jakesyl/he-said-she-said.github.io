and you can probably find better perf in js by changing your algorithm