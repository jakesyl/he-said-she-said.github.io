you need some kind of framing (https://github.com/geNAZt/tcp-stream-muxer/blob/master/lib/framecoder.js)