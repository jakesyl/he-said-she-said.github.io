I *have* to use C++ because I'm wrapping a C library 