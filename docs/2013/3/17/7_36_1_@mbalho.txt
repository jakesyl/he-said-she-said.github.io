it implements fallbacks like socket.io, if you dont care about fallbacks https://github.com/maxogden/websocket-stream/blob/master/index.js is just websockets + is only 50 lines of code