so I should buffer data and look for \n's