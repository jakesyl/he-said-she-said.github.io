jeremy_c: you can either used nested callbacks or use a stepping library like async