legacy code can be a pain