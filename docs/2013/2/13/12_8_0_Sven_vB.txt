it looks to me as if the error is delayed by testing for it too late. if it was tested that early, chances seem that the offending .post() call would be at the end of the trace.