so you just need to register the callback and wait until the async call is completed