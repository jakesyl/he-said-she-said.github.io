still sounds like callbacks, even if you're flattening them out with named functions