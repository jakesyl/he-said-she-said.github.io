and if you really want to dig in, just read the source