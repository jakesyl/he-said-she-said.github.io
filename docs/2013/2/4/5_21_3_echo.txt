With the code in the Gist, phantomjs makes a screenshot, sends the base64 encoded value -> binary -> gm -> stream -> concatenated -> stored as one blob in a riak object. 