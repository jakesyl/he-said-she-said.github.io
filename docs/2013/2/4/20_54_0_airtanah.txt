diogogmt: in short, you want dependency injection