the best way to deal with global variables is not to use them