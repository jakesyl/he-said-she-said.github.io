this is probably a worst-case scenario, where you put the switcher in the innermost loop and do very little computation in-between switching check calls