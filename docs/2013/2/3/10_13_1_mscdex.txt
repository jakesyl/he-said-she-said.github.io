Ralt: it's a bit messy, but i attempted a libssh2 binding awhile back before going pure js: https://github.com/mscdex/ssh2/blob/3bbdcd4b485e1734e5c1326999300a82b2ed1dd1/src/session.cc