for the stuff I do, where I'm instrumenting third-party code, anything that touches the global context has to be wrapped in protecting wards and glyphs