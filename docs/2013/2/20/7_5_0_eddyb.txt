Swaagie: as it is, you might need to make serious changes to the main function, if you want to do anything fancy