just in case anyone wonders why HAProxy/ELBs don't work well with socket.io, it's not because of websockets. socket.io does two TCP connections before it upgrades to websockets. The solution, use a redis-backed store