I've already run into bugs with this magic