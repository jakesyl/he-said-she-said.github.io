The problem I have is that getting the next line is being called during a line read, corrupting the line.  Is there a recomended way of blocking nextline calls while a line is being read?  Or am I doing this entirely wrong?  Example code is here http://pastebin.com/gwiX4j08 any suggestions or example links would be greatly appreciated.  Thanks.