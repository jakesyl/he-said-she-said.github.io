I honestly never realized you could put named functions inside of other named functions. Damn.