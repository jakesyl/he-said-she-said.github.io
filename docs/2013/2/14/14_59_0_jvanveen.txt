this seems to work as expected, http://paste.kde.org/671456/