it's a little kludgy since it doesn't really know about Buffers.