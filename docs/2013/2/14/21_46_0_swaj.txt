jschall: https://gist.github.com/swaj/4956571 <-- fixed the bugs.  That code should work for generating a password with the salt attached, and then validating a given password against the full hash with salt attached.