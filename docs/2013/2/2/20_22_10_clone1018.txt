hrm, which vm function to use!