Need to wrap the callback to use it in async etc.