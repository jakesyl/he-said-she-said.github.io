there is another match syntax using callbacks that does exactly that