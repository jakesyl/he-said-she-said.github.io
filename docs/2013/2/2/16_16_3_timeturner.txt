 I found a node module that does exactly what I want but it's written in coffee :/