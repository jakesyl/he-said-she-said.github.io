https://gist.github.com/spion/4756759 - generic node async breadth first search algorithm :)