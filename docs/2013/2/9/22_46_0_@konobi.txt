you might need to buffer and then split on something you know won't match (newline?)