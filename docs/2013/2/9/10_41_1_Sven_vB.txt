does this approach waste resources, as in did readdir() already stat() all the files?