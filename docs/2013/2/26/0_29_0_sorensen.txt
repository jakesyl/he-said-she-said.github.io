it would be fun to write a lib to do that actually...