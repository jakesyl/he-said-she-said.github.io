hehe this is pretty crazy. running browser code both in the server and the client