that's a matter of moving your auth and your bodyParser() or S3 uploading stuff around, nothing to do with whether you're writing to disk or uploading to S3