      buf = realloc(buf, size + 1);