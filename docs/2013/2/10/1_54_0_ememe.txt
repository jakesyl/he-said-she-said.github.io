I actually wrote it that way the first time using browserifies helper module. It was pretty strong but found this one was easier plus it gave me more context (require.paths) for generated client side require