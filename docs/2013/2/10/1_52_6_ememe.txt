I'm not using the AST approach because it doesn't handle requires with logic. So require("./foo" + 'bar'); wouldn't parse