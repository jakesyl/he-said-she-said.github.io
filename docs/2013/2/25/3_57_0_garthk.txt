You can also pass the socket as an argument to the function that creates the server, or pass the server to the function that creates the socket (which can then call server.on), or whatever arrangement funnels both the server and the socket into a function that creates the function that encloses the socket and hooks it up to the server.