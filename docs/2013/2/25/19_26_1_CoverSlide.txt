would rather take a stream as a parameter than a buffer of an entire file