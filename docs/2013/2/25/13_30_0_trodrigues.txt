bcave: yeah, the if shouldn't be a problem because that's evaluated at runtime