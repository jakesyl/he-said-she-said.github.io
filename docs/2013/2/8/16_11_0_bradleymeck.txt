but you don't need to use semaphores or stm