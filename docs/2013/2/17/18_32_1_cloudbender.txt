I'm trying to avoid having two functions on the stack