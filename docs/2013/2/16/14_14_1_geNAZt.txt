https://github.com/joyent/node/blob/v0.8.19-release/lib/stream.js#L36-L42