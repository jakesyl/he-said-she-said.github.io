Is there a library out there for doing the middleware pattern outside of http?