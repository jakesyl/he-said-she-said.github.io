im attempting to write my own but its very unclear how best to structure the app