Does it make sense to use https://github.com/miksago/node-websocket-server ?   