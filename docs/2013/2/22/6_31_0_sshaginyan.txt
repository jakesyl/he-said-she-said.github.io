vikash: http://hastebin.com/gucexogomi.vhdl