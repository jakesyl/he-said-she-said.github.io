doomslice, I want to separate a lot of these functions, but I don't know how to pass the variables without putting it in the callback function