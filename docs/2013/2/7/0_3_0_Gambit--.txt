man, all of these globals... so obnoxious.