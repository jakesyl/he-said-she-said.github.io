xinmin: so if you suspect that may be the case, you can do something like if (process.domain) callback = process.domain.bind(callback) and then pass the callback into your async operations