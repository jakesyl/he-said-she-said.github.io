turns out promises are really good for async cascades