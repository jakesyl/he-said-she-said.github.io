like Python's `for line in open(fn): do_something_with(line)`