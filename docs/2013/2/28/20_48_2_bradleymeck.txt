and buffers causing deopt is very very very bad