how can I use pipes and use a file buffer instead of a buffer in memory?