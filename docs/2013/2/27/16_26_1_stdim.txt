phrearch: I'd probably do try { window; } catch (e) { ... if error, then window doesn't exist and define a global window, set it to null } 