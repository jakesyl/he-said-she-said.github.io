I am using nvm and just installed nodejs v0.8.20 and when I run npm, it uses the one from under the 0..8.20 directory. Now when I ask npm to install a package locally which is "preferred" to be installed globally, npm goes ahead and installs it globally, despite my wish to install it locally. All I see is this message "npm WARN prefer global jake@0.5.8 should be installed with -g"