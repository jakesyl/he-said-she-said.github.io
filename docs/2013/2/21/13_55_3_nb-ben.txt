could someone review this code? http://pastebin.com/iYSz8f3c