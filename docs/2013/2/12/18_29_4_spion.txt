and i can't make a less nested callback version