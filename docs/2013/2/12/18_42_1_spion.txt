amurdaca, there is a neat little property of JS which allows you to define a function below the place it is referenced. this allows you to both avoid nesting and still have the code flow linearly from top to bottom: https://gist.github.com/spion/4772125