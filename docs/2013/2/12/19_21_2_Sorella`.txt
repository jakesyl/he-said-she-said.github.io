A better promise library would probably give you a new promise when you call `waitFor`