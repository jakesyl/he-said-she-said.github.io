when doX, doY and doZ are asynchronous functions