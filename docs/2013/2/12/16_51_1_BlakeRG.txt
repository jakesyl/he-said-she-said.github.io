i have a couple of nested loops and async function calls and i'm having a hard time figuring out when all of the logic is "done" so that i can preform some more operations. is there a particular design pattern i should be following?