still having issues with sockets