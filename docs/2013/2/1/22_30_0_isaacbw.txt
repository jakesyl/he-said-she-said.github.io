hmm, I'm sure it's trivial but I can't figure out how I would have a loop of promise thens