isnt there some funny business about f and stdin?