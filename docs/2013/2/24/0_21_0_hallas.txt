other than that looks fine, might aswell do app.use(flashMessages); before the router is added to the stack