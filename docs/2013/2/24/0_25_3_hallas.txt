well, the only reason you can even do app.locals is because you're defining your routes and their respective middleware is because its in the same file where the app is a part of the scope