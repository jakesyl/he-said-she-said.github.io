well that's why I suggested using redis to track state