I thought you were saying that loop iterated 4.5 million times in 1 second, if that's so, then setImmediate would be called that many times