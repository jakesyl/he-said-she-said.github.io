it also feels dirty to check "if !client.isIn(room) { return; } " in each event handler