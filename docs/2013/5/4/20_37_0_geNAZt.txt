its the full angularjs function