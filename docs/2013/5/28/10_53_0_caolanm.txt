rvagg: https://gist.github.com/caolan/25d04149295749b7d89f