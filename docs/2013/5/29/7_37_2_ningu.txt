you should also look into browser templating systems too -- jquery templates, jade, etc.