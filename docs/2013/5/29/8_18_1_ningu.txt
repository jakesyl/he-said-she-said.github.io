you are finishing the outermost async.eachSeries before the inner one has a chance to finish