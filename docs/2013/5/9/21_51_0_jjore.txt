You could run it under the /usr/bin/env program and watch that with strace to see all the places that are being checked for your program, in-order, and see where it disagrees with your expectations.