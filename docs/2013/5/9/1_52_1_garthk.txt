Hell, even Erlang — built to do this kind of thing from the ground up — leaves most of the coroutine business up to the library and environment rather than the language.