chiel: yeah, so you're trying to clean up on exit, right? If it were me, I'd look at a few approaches: 1. can I catch the process.exit (though it's doubtful you have time to complete a cleanup), 2. clean up on start up.  3. if you're testing with nodemon, then definitely catch the SIGUSR2 signal, cleanup, then kill your child.