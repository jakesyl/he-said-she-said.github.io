In JS, is this the correct way to capture the result of a user-supplied callback when working with a 3rd-party API? https://gist.github.com/anonymous/29693a7db25e210789f0