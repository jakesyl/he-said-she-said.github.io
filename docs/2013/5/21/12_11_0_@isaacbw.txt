or actually, even better would be to do self.socket.once('data', function() { callback() }) in socket.write