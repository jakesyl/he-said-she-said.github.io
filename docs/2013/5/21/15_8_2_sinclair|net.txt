brainproxy: has to be able to handle loops