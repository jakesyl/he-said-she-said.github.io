it rewrites the source to continuation-passing style