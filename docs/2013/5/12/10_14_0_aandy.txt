you're actually almost there. a (untested) example would be: http://pastie.org/private/75vcdbaexaukevdhdl8i1w