minibn: well, I don't know your app but I suspect you can factor out more logic than you have