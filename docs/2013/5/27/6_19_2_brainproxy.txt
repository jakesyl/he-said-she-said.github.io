static typing is nice, but if I had to choose between that and persistent data structures, I would choose the latter