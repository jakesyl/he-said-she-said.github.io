What was so bad about having a middleware function for Connect/Express?