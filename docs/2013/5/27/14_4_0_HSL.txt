this is the serverside code (which I completely stripped to find the cause)