it would be miserable to try to emulate the same thing with c++