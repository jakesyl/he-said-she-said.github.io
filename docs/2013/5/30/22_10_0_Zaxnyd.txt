is it because the task needs to end before output is flushed?