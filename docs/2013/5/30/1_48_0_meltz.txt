so this is how the library I found does it: https://gist.github.com/meltzerj/5675274