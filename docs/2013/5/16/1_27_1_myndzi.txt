if there's a network error you get the error event and not the close event