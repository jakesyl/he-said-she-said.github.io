For the extension portion of the logging, I personally love connect's logging. Expose a function they can provide a callback for, exposing the values to them and let them do their own thing with it.