but it also can be solved with async control flow