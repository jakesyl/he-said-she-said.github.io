defunctzombie: worst case, you branch for each major version