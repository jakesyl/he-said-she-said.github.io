I've never looked at Node's source.