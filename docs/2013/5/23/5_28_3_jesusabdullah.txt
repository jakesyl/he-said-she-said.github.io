I mean, why not just use dnode piped over stdio for worker and child and call it a day? That's pretty easy