you're basically saying you want dev, testing, production? so just have 3 branches and work on dev branch and pull in to testing then to production and your deployments just follow the branches