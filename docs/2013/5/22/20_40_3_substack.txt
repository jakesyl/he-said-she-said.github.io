d4rklit3: it sounds like you are really hell-bent on middleware but I have no idea why since it doesn't seem to be a good fit for what you want