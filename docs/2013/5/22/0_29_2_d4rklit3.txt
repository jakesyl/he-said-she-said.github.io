i need look at how middleware works here actually