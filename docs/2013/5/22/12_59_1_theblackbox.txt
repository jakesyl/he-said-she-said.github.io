some connect-like middleware perhaps