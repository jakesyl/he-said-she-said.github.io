it's pure js, no magic involved - you just need some knowledge of node's internals