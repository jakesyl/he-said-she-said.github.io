sinclair-work: check out how some other modules are built.  like https://github.com/isaacs/redsess or https://github.com/substack/mmmify