niggler: i should check that out.  for now at least i'm making progress again.  it turned out the code i was testing was fine, but the test case was bad :)