state machine is enough more is bloat