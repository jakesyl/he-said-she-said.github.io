Oh, I figured out one of my socket storage problems, you can't return from inside a forEach(function() {}), ha, that's a duh.