other languages deal with this by buffering the file (or reading ahead). I'm surprised it's so complicated to handle this situation in node. It's one of the most basic things, read lines from a file.