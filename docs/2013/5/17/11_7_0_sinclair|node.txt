http://pastebin.com/25SnmrRP <-- yay, callbacks