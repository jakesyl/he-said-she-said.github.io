parseInt(req.query['categories']) <-- does that make sense, it looks crap tastic to me as i wonder why you have a integer hashed under a name called categories 