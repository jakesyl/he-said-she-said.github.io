samholmes: seems reasonable although it obviously isn't general like the async module since you have to inline the finish code and manually code the # of functions