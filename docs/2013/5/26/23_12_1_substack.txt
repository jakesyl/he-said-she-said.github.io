soon I'll finish the refcounting in browserify so that third-party libs can set up watchers