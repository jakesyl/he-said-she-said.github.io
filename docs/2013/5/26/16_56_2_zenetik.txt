the code is working, but i doubt this is a legal way