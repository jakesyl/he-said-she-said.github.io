the problem i have is that b is different in the middleware function than when its created