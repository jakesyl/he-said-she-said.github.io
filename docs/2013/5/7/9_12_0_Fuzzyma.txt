mh - I never implemented middleware by myself - how is that done?