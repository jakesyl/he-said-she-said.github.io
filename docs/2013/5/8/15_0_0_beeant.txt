i have to write considerably long codes compared to http curl if i use http.request