but at some point you're calling a function that does IO - I would expect this function to accept a callback argument