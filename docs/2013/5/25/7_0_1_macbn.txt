my array gets messed up cos of async each