and the result in the final callback has undefined