macbn: give names to your functions, and don't insert them inline