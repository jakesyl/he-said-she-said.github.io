how can i break the loop and the rest of the function after it reaches the callback