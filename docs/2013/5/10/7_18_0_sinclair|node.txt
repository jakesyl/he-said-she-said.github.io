ljharb: the TS compiler is smart enough not to typecheck things twice