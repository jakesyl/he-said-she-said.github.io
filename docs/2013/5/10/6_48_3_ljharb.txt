sinclair|node: smaller API surface, easier to test, easier to refactor