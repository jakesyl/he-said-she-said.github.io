but the "correct" way to do that is to analyze AST