sinclair|nz not too hard to write a control flow lib that does what you want