pachet: however, its handling logic in callbacks i find difficult 