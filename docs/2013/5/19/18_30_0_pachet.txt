there are a couple of ways to do it, but you should try and get your solution working using callbacks