taken from https://github.com/TheAlphaNerd/interface.js/blob/master/server.js