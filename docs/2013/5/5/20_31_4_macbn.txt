using that problematic function i talked about before