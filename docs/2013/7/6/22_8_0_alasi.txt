isaacbw, how do I stick connecting to the socket inside a function while keeping the object global?