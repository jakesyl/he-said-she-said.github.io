ckknight: not to mention that running sync code inside async loops can cause real issues