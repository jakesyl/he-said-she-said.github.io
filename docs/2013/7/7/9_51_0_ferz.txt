foofoobar: I usually when I need to do complex and long running task I just split presentation and model: I enqueue the request on a queue like (activemq, gearman or such) then some queue consumers will do the job on same server or in multi node cluster, then they just write their result and presentation show it as soon as it's available.