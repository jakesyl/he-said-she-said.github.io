my code was so glorious (in a bad way) before someone pointed me to async