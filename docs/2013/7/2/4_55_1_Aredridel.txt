ss_: Your variables are colliding. You never declare i with var i, so they're the same variable in both functions.