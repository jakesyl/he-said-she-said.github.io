Im coming from tornado where I could open as socket only if the post data was valid or match some sort of filter. In node I ended putting that in the app.post and started socket server left and right. So I had to start the socket server on load but later when I get data from a post the socket code has already been loaded and I dont know how to interact with it.