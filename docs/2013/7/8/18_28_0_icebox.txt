jasonkuhrt, when the callback is finished, the promise gets the state resolved or rejected