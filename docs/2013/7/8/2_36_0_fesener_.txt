thought me a lot about node.js/socket structure