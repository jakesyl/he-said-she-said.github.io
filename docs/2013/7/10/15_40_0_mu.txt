So I'm having a problem trying to implement a non-blocking function...