modularize everything as much as possible