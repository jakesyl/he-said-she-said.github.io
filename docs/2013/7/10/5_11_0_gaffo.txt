okay, I'm getting issues on a temp directory now... http://pastie.org/8126938