if you can't follow your own flow nested in two callbacks, it's not simple enough