ifandelse: the cache is based on fully resolved path