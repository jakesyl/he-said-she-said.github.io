mbalho: so I'm trying to figure out how to compose streams in a way where a read stream knows when to close because it's not needed anymore - which I believe is the same mechanism as EPIPE in unix pipes