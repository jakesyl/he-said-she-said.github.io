mbalho: but without every stream being aware of every other stream in the pipe, it doesn't seem that there's a standard way to do this (or at least, I haven't found one yet)