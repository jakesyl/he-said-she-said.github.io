it's the most minimal implementation of the promise+generator bridge I could think of