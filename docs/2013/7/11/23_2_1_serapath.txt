i'd like to have a pattern to deal with this in arbitrary complexity