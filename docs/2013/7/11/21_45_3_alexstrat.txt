Is https://gist.github.com/alexstrat/c6e31e6d96ee96a467f4 a correct implementation of a writable stream ?