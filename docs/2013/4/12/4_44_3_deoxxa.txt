it makes the generated code so much more complex though