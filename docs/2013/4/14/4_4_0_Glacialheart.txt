i'm nesting my code, but i'm finding it's hard even then to see the callback heirarchy