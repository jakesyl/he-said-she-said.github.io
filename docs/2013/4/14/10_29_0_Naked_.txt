so the callback gets replaced with one that does emit 'error' between write() and _write() inside doWrite, effectively