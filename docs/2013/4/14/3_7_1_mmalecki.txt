while readFile is a rather complex function