Here's what I have so far: https://gist.github.com/jimmybaker/e63d6f99eeec2bdfc8ff