we are now back to putting application logic inline