mscdex, please ignore any comments, bad code. http://ideone.com/eFa6aG