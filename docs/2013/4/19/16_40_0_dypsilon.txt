logicalcat, because you are calling the callback _before_ appendFile is finished. What you need to do is moving the callback from line 11 to line 26 so it's called after the file is written.