eddyb: there are some reasons to let node.js now the state of a terminal.