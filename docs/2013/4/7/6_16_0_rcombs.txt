meanwhile, I may have the strangest race condition in the history of node.js