check uses async and does a bunch of network operations