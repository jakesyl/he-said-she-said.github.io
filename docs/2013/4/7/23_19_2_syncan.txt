hasn't been updated in a while, but it's an inline node-level version