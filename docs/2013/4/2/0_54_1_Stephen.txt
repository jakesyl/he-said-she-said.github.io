If you are doing logic inside those conditionals, I would encourage you to at /least/ write a class that holds the various functions so you trim down the text in the templates to a simple MyFuncs.GetName() or something