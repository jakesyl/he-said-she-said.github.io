golang is smart for solving this at the language level