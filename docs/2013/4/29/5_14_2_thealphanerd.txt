some weird meta code generation stuff with a functional language called flocking