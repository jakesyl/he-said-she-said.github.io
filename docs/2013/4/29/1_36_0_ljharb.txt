monokrome: essentially what you want to do is, "walk" each path by making a promise for it. then "walk" each subpath, doing the same. each path's promise shouldn't be considered resolved until all of its subpaths' promises are resolved.