ljharb: I rewrote it in JS