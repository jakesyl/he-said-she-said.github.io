the JS that CS generates is pretty messy