https://gist.github.com/aih/961523 - something like this ?