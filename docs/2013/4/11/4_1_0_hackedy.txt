a module that collapses repeated xs in source code