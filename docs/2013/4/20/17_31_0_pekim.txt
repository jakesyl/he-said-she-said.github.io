Dearcham: That looks reasonable, so I guess the problem may lie in what you do with the buffer.