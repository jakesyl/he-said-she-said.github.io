but keeping a big array/buffer in memory is also unpleasant