That's why I was hesitant to write to a tempfile before... extra file I/O can be mighty slow