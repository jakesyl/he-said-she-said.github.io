take HTTP, a tcp stream is piped to an http parser, the tcp stream could be closed cleanly and "end" is emitted