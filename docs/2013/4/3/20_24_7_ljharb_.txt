ugh, the comma operator, and using booleans for flow control.