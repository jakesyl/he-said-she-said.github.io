superjoe: I would imagine the best way to approach that is to create a "backreference" of say... 50 lines, run the regex, remove a few bytes, read a few bytes and so on