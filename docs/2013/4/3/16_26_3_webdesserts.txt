it splits a stream by it's lines, I'm sure it wouldn't be hard to adjust this to do a regex match