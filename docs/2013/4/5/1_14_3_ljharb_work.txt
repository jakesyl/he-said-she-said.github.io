samholmes: promises make your code *look* synchronous, but it's not actually sync. your suggestion makes it work synchronously, which is broken