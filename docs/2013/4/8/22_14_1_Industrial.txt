the session middleware places a session object (with existing session values) in each req object and then your callback gets fired, so req.session always exists.