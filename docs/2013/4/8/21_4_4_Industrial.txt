functional decomposition to the rescue!