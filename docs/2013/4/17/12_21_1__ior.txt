so i've got this: https://gist.github.com/anonymous/7b68303e0fb2d3daefa4