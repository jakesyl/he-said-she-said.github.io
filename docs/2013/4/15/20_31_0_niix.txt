I feel like it's kind of cheap doing it as a callback