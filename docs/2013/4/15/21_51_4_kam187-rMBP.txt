yeah, basically there's no generic way to do it, because there are too many cases you can't guard for