a more elegant way would be to use futures