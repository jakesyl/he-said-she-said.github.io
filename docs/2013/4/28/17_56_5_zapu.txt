wrapped whole thign in function