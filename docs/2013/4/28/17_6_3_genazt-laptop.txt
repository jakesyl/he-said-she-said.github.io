and i think breaking out of the async loop with a throw can work