OK, so it looks like what I'm trying to do is use exec synchronously and call two functions that rely on it's output when finished. Can anyone recommend a good tutorial on writing async/sync code, or how to bend my mind around async style nodejs when I'm used to procedural php?