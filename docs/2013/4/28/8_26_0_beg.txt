How would I create a diff patch and json strings effeciently on a http server?