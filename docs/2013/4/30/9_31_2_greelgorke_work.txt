it's the same aproach behind learnboosts up lib for http server, you can just prot that