is there a way to make the connection process for websockets synchronous?