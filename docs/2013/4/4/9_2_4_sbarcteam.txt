here's the correct version: http://pastebin.com/SQtFaQeT