how can it it be non-blocking and sync?