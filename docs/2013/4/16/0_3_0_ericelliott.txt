"then you place the template rendering inside the query callback" -- is this ever good advice?