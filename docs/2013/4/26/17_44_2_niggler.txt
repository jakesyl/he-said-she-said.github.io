actually __APPLE__ guards can be put around it