SrPx: to me the best way seems a variation on point #3, but with a twist - as 'world' doesn't seem to be part of my_class.js, you still inject that dependency into my_class.js, but do it on a file scope - say whatever file needs acccess to 'world' thing, you inject it in main.js after requiring my_class.js, and store the injected one in files local scope