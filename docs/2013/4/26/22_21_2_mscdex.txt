isaacbw: i just check if __APPLE__ is defined, then use tr1 version, otherwise use std::unordered_map