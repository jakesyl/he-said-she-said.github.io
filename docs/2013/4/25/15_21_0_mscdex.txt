why split on \n just to get the text before it? just use trim()?