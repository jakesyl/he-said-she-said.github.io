counting up a variable when spawning a lazy line-by-line reading process and counting down on "pipe" event