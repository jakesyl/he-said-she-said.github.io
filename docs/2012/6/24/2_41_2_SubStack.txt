returning nested functions in objects via callbacks