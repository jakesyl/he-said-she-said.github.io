and how does stream pipe actually work