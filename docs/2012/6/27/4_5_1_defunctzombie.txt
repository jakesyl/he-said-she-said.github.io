@bnoordhuis take a look at http://pastebin.com/QQY9jmKv