scruz: how do you know? what does buf.length return?