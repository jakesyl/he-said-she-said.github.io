regality: it's strange to use a pre-processor when you're looking for perf :D