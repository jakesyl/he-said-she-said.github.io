and if that condition is true, then wait for a 'drain' event to start writing again