https://github.com/c9/vfs/blob/master/socket/consumer.js and https://github.com/c9/vfs/blob/master/socket/worker.js