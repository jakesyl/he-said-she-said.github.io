dshap : I've updated the gist https://gist.github.com/2999909