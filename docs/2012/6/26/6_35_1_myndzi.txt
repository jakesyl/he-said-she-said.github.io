cleaned up some stuff too, but that was the heart of the problem