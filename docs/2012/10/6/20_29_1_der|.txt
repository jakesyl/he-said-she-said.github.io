I'm having some weird behavior with regexes, don't know if I should call it a bug...  https://gist.github.com/3846018