never use sync code inside of an event loop