it's one or the other with the guards, if the preprocessor sees any of the solaris/dtrace it no compiles