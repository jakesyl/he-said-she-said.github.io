readline and sockets is very buggy