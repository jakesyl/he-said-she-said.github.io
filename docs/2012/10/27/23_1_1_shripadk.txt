if its calling handleDisconnect for all child processes then the problem is with the if block being short circuited