i can't find any easy way than just allocating buffer in 2x size and copying over