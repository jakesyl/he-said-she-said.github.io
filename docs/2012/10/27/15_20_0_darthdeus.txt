but that fake socket would need to have expectations on callbacks