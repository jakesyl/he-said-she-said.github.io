for this code: http://bin.cakephp.org/view/1047104355