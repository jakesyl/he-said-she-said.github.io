you'd just do read(), find null, and when you're done processing/buffering you'd call read() again