adambreen_: https://gist.github.com/15c303e6d593e7c649a6 -- i don't know if i need return in checkPermission()