all your code seems to be doing is setting the session over and over