so basically, its setting some session data on connection, you change it, a new connection is made and your session data is over-written