they should just design a semaphore class