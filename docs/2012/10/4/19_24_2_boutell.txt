gnarula: actually, javascript is great for this. You have closures, use 'em. 