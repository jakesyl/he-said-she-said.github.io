each function runs from start to end