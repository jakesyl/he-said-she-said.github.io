typescript genuinely gets in the way