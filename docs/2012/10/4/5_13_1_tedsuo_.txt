but it requires the dom to work in the browser, so there's no escaping it