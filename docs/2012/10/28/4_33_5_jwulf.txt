i'm using restler atm, but want my code to be portable