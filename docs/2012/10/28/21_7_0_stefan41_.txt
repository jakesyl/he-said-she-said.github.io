is there a good way to wrap an async call to make it synchronous?