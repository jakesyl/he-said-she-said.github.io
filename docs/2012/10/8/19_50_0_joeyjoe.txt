I got to the bottom of the performance issues. Turned out I had too many open file handles. Figured it out through strace. ulimit fixed it.