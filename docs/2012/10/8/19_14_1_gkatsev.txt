lispyscript creates a tree as it parses and then uses templates to convert the tree, that's pretty clever