what's the best way to check if a file exists and is writable?