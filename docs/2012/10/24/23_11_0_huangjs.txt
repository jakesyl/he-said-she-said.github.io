the only solution i can come up with is to serialize everything in session and use success callback to do the merge. totally bizarre 