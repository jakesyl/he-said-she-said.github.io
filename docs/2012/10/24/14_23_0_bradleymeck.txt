dschatz: there are just too many ways to do that to reply easily, i would recommend using 0mq or an existing solution that takes care of that for you