should be working off promise objects instead