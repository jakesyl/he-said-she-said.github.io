this has to be self-contained, and shouldn't rely on global modules