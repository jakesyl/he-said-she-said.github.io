at least the middleware pattern