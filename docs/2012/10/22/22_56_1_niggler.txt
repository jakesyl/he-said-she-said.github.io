but I'm debating whether leveraging javascript's error mechanism is better or worse than faking an errno