you could have a packet queue that is emptied when 'data' is emitted