i've got a bunch of exported functions, each of them generates a packet and writes it to a socket, then there's an event listener for 'data' on the socket that fires the callback