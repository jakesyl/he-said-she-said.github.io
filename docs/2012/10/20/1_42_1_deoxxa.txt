main loops are a performance drain