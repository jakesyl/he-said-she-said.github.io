it would be great if you just sent over the client code and used the same socket as a duplex stream