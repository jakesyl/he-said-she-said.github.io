takes a specification of a function