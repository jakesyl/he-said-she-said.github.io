it would take what async/caolan does with .auto() and combining it with named conditions in buffered streams