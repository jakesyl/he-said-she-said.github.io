the buffer is an uint8 array