dEPy: so you need some authentication, and then for handling messages use something like socket.io (if you want to support non-websockets), and have users subscribe to "conversations" -- and store messages on receive. send old messages on connect