if you use something like github.com/flatiron/broadway or github.com/c9/architect and pull your DB calls out into a data access layer, you can come up with a much cleaner approach overall