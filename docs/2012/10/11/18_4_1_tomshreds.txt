the whole promise thing seems a bit weird