niallo: I'd start with some tests :)