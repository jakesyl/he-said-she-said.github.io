it works with browser-based and websocket connections