perezd: try something like this https://github.com/Raynos/buffered 