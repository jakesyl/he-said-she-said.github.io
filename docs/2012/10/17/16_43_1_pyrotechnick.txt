if you can already know the socket died or otherwise closed you shouldn't be trying to write to it