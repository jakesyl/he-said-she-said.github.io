socket.write trow error or something?