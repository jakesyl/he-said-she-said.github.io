also, it looks like the after function doesn't get called if the test fails or throws an error... that's kindof... ineffective...