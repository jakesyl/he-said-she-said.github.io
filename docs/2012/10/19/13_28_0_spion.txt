the author of that book should really rename that function to busyWait.