generally I think its accepted that if you have a CPU-intensive task, and you're doing it in the web server process, you should off-load it somewhere else.