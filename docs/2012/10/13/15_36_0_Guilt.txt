the C code for that is usually compact