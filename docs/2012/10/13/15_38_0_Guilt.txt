#define rdtsc(t) long long t; asm volatile("rdtsc" : "=A" (t)); t; <-- then you expose it however you want.