if there's no compelling reason to do it per-handle, it should go into the event loop