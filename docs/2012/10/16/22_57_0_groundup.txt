ChrisPartridge: what I don't understand though is how the callback populates the necessary objects before I output the template.