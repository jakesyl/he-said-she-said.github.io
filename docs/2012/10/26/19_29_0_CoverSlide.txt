darach: so you want to require something and use the npm api if it isn't present?