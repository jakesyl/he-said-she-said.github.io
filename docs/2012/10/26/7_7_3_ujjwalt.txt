so am writing a session class that emits a packet event