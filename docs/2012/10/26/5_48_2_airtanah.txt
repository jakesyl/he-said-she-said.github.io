if the callback is synchronous, it will be executed immediately, otherwise it will be queued for later