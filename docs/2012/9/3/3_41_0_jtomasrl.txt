ChrisPartridge: is not really complex what it does, https://gist.github.com/3606595