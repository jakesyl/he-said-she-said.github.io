I *could* use a child process, but that's ugly