that collects all data until socket closes