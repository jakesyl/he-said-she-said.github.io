gildean: i now have this as server.js http://pastie.org/private/wjzplnmb9clyq0w8sjmia wich is mostly not written by me ;)