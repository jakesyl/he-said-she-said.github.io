Let's say I have a function that writes some data to a file.. and if the dirname of the file does not exist it tries to recursively create it. What is the best design to test this behavior without interacting with the file system?