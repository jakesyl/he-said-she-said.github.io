if you look at the gist above, i guess i'm just asking if there's a way to get rid of the part in the middle where you have to assign a bit of the stream machinery to a temp variable, write to that, and then continue the piping