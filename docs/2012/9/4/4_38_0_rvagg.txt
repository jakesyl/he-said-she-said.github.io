see my comment on the gist