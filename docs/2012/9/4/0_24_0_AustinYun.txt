can anyone tell me if there's a shorter way to do the piping thing here? https://gist.github.com/3525257