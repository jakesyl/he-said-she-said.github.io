maybe something like two-stage subclassing?