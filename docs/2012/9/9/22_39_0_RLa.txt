maybe it could be done with proxies: http://stackoverflow.com/questions/6985582/monitor-all-javascript-object-properties-magic-getters-and-setters