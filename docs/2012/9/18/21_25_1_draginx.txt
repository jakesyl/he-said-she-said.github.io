http://pastie.org/private/hxjbuzywx5srwid0tnsmw anyway to shorten this?