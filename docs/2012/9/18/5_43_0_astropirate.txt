wacky combination of functional and procedural