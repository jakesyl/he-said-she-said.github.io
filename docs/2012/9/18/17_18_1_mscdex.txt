tnorris: also i was going to tell you that i "upgraded" the lastIndexOf on my buffertools fork to use reverse boyer-moore instead of the previous naive method. it'd be interested to see what kind of results you get with it