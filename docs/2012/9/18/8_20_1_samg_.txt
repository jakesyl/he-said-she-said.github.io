The code is here: https://gist.github.com/3741978  The race is between the pipe established on line 29 and the destructive modification to listeners on line 24. Is a race there possible?