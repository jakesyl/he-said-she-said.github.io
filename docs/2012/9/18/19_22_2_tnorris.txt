mscdex: tested your new implementation. about 60% faster than before. Not as fast as js for loop for single character, but much faster than raw js as the number of characters increases.