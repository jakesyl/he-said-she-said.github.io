I'm trying to understand Q/promises. https://gist.github.com/049443291af4e88b816e