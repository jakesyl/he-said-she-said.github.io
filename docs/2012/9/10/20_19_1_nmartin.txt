i just jumpe in here, but vim has a very good javascript plugin to do "proper" javascript indentation