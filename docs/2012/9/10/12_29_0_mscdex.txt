bcave: maybe, something you could do to prevent from using too much memory is to only store the last x messages that are sent to newly connected users