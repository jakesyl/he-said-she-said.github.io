maybe keep old interface and have a switch for async mode?