async.mapSeries(files, function(f, cb) { im.identify(source_dir + f, cb); }, function(err, featuresArray) { /* do stuff with array of file features */ });