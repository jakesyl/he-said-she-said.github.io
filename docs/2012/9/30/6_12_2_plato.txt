you would have to manually keep track of the length of the new buffer contents, i think