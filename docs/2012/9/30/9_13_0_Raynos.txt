promises are nice but lack composability / compatibility