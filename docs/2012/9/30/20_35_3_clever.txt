ive used the proccessEvents style functions in firefox before, to do processing in a while loop without blocking the event loop