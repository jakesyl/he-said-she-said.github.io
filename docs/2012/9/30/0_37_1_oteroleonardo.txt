just take a look on Ruby performance issues