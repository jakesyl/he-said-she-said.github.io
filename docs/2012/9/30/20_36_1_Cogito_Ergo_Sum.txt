calling it recursively with timer = setTimeout(add2, 0); solves the problem of call stack max size, however, process.stdin.on("data", function(cmd) { clearTimeout(timer); printresults(); process.exit() } doesn't seem to do anything