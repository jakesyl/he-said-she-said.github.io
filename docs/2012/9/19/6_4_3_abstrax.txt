i am executing user submitted code via haml, but sometimes bad things happen - see this code - http://pastie.org/private/77kkyr120tu4gtjfvwjkea