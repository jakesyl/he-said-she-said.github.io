I encode functions in my Smith protocol