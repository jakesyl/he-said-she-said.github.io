mikrowelt: is the 'q' library set in stone?  async could do what you want, is widely used, and well documented.