if restarting is that deadly, setup a connection manager process, and use separate services, look into substack's seaport perhaps? but you never want to change the function on a live server unless you want to deal with lifecycle collision with old and new functionality