Anyone here used this sort of tail-call optimization for recursion? https://gist.github.com/1697037