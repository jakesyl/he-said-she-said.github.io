https://github.com/thlorenz/runnel/blob/master/examples/error-handling-throw.js