node.js is surprisingly low-level at times