ksmth: if you can do everything synchronously i would see nothing wrong with using a single state object