socket.pipe() isn't a method to any socket object so far as I know, unless you've named a readable stream "pipe"