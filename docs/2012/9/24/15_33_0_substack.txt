it just implements exactly the websocket api with fallbacks