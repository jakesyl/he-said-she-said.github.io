all other ways are based on continuation-passing style.