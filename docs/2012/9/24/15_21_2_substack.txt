probably should also c.on('end', function () { cons.splice(cons.indexOf(c), 1) }) too