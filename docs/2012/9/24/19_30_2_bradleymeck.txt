promises must wrap every api if they want to look sane