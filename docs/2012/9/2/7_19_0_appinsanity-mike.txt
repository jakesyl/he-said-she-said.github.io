in all fairness, it was nested inside another function, as he was declaring globals all over the place