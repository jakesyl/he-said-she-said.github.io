Why isn't the read buffer cleared?