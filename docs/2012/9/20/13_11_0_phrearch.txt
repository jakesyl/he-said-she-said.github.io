what pattern can i use to handle such a case