templates should have less logic, not more