looks like perl's quotemeta is just str.replace(/(\W)/g, '\\$1')