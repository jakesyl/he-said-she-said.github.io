what's a good solution for routing with conditions and workflows in a single-page app?