i want to handle things like state-dependency