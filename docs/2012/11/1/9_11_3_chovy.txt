yeah, that looping over db was a good catch