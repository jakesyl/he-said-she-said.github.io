trying to do things in a way that doesn't totally destroy the v8 JIT's ability to optimize