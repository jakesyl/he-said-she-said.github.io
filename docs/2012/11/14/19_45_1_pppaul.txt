maybe i should use a control flow lib instead of a promise lib?