but i run into the occasional library with some crazy statemachine thing that makes the code mad complicatd