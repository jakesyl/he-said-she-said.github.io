i'm having trouble getting assert.throws to catch an error from a function that the passed function calls. any ideas?