I think that's how pipe() does it