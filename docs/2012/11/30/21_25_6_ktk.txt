what I did is that I created functions on the "global" scope, so the callback functions are named and defined *outside* the first calling function