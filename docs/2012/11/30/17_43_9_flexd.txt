Anyway, I'm being a idiot in https://gist.github.com/a7feb814f30ecfe6a539