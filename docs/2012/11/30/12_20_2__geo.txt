xhr looking simpler, never tried with websockets