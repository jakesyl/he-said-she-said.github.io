async's insides aren't that nice