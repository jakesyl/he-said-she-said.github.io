vhttp://pastie.org/5170852