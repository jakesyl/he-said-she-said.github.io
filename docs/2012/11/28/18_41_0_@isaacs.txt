it's a bit weird that we decided that zlib was slow enough to asyncify, but crypto is done in the main thread.