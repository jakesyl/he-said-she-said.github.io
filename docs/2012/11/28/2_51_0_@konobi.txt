bnoordhuis: i suppose the "proper" non-blocking route would be to set SO_RCVBUF to 0