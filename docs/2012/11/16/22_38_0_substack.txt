xp_prg: completely rethink your approach and throw away all your existing code