is there anything suspicious in this code that could affect memory usage? http://pastie.org/private/dozenzqzpiq3hh2dfg12oq