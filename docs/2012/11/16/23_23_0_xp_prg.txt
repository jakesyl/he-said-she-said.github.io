I have suspend execution of my program (interrupt it) push all its state onto a stack, wait for it to be re-invoked via a callback, restore its state and use the input from the callback, that is called a context switch boys and girls, operating systems have this built in and have been doing this for over 50 years