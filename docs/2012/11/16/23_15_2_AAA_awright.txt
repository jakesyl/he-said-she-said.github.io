xp_prg: It's called an event loop