clever: i basically just rewrote the logic from their stupid in-browser js and made it more robust