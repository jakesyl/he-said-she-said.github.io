chapel: it gets ugly even auto requiring and passing app around: https://gist.github.com/4084718