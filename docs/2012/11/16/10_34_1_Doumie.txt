shouldn't forEach be blocking?