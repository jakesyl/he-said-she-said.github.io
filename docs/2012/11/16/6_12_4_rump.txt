you treat the modules as sub apps mounted as middleware or you pass around var app?