nb-ben: of more use perhaps is a cas() (check-and-set), and perhaps even a method that'll automatically assign a new key for you, but they may be best for a higher level lib