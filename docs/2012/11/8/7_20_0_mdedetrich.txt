ljharb: the thing is, I have essentially been doing this https://gist.github.com/3889970#gistcomment-588675