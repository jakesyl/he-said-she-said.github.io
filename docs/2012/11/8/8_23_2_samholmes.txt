Why not just put a bare repo in a /.git dir and then set up the checkout to checkout to /../ ?