my code is a bit hacky about submodules