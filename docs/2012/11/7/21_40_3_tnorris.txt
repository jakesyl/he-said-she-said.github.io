sinclair_: I created an extension to Stream to allow for that: https://github.com/trevnorris/deluged/blob/master/lib/segp.js