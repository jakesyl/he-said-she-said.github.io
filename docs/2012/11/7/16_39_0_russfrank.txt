the only edge case is triple equality, and it's probably possible to work around that issue in node