heh. there's libgdev that does similar things already, except that seems to be someone's sunday project.