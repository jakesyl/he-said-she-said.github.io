npm doesn't solve it, it ends up installing two copies of the same module, which breaks the semantics of ECMAScript that lots of applications depend on (i.e. that a String created in one module will === String in another)