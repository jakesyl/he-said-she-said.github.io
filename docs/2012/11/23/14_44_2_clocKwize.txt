what you should do is return straight away and call a acllback when its done