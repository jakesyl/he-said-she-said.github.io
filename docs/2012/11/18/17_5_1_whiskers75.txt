have a look at the source: http://github.com/whiskers75/zork/