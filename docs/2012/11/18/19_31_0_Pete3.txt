i'm going crazy trying to figure out how to test whether a process that spawns another process will clean up correctly