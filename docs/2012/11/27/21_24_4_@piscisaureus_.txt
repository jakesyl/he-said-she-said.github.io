bnoordhuis: what happens if a write() has already started, and then the fd is closed?