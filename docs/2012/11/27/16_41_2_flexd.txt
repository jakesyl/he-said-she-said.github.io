It's a bit odd wanting things to happen in sequence when node inheritly is asyncronous, I was hoping there was a better way than this