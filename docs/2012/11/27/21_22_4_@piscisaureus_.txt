bnoordhuis: actually, what is unix supposed to do when you close() an fd while a read/write is pending on another thread?