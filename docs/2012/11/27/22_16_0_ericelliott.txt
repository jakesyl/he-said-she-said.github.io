I'm writing web apps using browserify. In my library code, I want to fall back and expose the library on the window object if browserify is not there. I was doing: if (typeof module !== 'undefined') { module.exports = api; } else { window.foo = api; }