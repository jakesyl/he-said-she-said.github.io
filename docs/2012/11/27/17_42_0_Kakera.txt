can someone explain why this outputs garbage? https://gist.github.com/4155782