bnoordhuis: https://gist.github.com/4157340#gistcomment-608963