it seems relatively simple once you know what you're doing with esprima / escodegen, but I would love to see how he manages the execution graph with the SHA objects