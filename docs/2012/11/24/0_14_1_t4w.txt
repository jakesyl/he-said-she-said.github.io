Rewrite the project in C++