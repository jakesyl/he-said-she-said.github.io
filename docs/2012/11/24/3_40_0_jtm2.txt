I create a redis client outside of my socket connection event. On connect (for redis), I initialize the socket.io's on connect event. When I try to refer to redis sometimes I have to use this. and sometimes I need to use redisvariablename., or sometimes neither work as expected.