does emiting event generate a context switch ?