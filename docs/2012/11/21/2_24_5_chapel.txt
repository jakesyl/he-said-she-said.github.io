the update function is separate