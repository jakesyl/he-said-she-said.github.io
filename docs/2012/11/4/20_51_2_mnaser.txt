yes but i'm doing the foreach inside my main function async