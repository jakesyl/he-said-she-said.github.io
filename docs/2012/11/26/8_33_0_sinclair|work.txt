ljharb: you can add the extra step of buffering the output, and error handling