so compress takes a callback