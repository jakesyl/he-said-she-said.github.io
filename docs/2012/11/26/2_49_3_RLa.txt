you could also write multiple versions, one with the library, and other without it