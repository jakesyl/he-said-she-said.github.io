rump: zlib.gzip() is asynchronous, hence your compress() function should be too