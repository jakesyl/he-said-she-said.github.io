Blegh, database woes. Current setup is bulky and weird, but I don't like the alternatives