But that object should be built by the piece that finishes responding to the client, not the function where the error happened