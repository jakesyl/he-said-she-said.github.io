I need to extract that thing into like three separate modules