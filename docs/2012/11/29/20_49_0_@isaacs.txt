gavri: why not just do this? var child = spawn(process.execPath, ['app.js'], { env: { NODE_ENV: test } }); // then later... child.kill()