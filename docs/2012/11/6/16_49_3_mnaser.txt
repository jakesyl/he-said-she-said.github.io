niggler: i'm going to try to make a test case to replicate it outside the huge codebase