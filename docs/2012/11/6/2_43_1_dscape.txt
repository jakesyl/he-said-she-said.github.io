code doesnt break in tests