c is a terrible library to write reusable pieces in