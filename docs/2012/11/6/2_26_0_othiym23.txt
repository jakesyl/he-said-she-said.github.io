the main difference between what I wrote and what's built into node is that I don't try to automagically preserve stuff across EEs and handler boundaries because I have explicit control over the context