I had it working and then for some reason decided to go all fancy with a progressbar.