one way I cheated to solve that problem before was to use phantomjs to run a browser on the server and so I could use the existing client-side code to generate static pages