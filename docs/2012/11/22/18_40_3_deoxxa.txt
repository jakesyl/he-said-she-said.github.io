actually, maybe the fork() stuff is weird