Your func def gets hoisted to the top, which lets you do controller = controller();