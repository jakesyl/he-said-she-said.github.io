i just mock the public interface and then control the inputs and outputs in the testsuite