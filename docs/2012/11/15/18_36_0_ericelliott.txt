IMO, the best solution for now is to lean on a lib. If you've already got one loaded that does this, use it.