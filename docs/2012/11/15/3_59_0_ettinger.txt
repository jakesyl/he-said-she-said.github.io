you have to use callbacks for everything, like ajax on client side