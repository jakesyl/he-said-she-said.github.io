shouldn't until entire function is executed