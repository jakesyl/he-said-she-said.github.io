it should be more like for( var tokenIndex = 0; tokenIndex < length; tokenIndex++)   {  â€¦ buffer[i++]  }