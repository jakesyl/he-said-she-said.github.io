i think the git history has a version that uses reduce