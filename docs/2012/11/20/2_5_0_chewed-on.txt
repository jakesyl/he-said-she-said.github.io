OK, so let me get this right, stream.write() is asynchronous, that means if I have a for(var i = 0; i < length; i++) {   â€¦.   stream.write(buffer);  }   wouldn't that mean that i would have reached the end of the loop before stream.write(buffer) even finish ?