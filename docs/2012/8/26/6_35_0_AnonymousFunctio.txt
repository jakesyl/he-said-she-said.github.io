This time, I didn't replace the entire socket object with my own... I simply changed the ondata function to my own, and I still call the original function.