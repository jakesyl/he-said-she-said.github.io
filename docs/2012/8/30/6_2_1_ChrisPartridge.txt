deoxxa: you should write a book on if/switch