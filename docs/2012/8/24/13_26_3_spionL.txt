okay, I got it. I'm gonna separate my agents RPC thingy ( https://gist.github.com/3437767 ) into two parts. The first will be client-server stragents, which can attach to any read/write streams and send/receive messages as well as publish virtual multiplexed read/write streams.