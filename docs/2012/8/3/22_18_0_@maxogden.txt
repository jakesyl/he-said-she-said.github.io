its not async if the whole data structure is in memory already