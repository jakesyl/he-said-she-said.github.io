Another way of expressing my goal: a bouncy listener which examines the headers and, if they're for something it wants to route, uses mux-demux to open a connection to a special friend and then bounces to the stream. The special friend, in turn, opens a TCP connection to the server requested in the metadata. Bouncy's pass-all-the-headers behaviour is perfect for this.