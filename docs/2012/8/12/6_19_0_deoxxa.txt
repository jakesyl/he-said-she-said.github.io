or take a look at socket.io if you want a super high level abstraction