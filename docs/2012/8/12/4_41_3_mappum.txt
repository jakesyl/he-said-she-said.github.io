then i have soem ugly code that woudl eventually become the actual client