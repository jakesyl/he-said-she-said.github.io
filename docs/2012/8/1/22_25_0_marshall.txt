timoxley: what do you think could cause this confusion? I'm trying to get a logout view working. the login view attaches a user id to the req.session, then there is middleware on the app that checks for session.user._id, retrieves it if there is one, and does res.locals.user = user