spionL, have you seen this one:  https://github.com/dominictarr/mux-demux