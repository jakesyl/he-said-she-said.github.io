the race condition happens now, if you only listen to 'exit'