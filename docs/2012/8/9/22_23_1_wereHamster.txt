can someone explain how this works: https://gist.github.com/2a0c24d58f53ab7c19d0 ?