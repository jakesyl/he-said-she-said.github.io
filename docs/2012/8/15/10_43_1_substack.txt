that is so crazy hard to do with channels or stm or mutexes or joins