I was thinking of something more like a DSL inside my functions that could be used to say (this one is required, this one is required, this one is optional, this one depends on the one before it) etc.