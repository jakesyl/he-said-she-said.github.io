theblackbox, not totally sure when your var statement placement - but usually, in that situation where you have callbacks in a native loop, you have no way to guarantee what your var is when the callback returns