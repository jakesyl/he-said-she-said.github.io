i would like to send multiple discrete JSON payloads to a socket, what the best practice for detecting when i have a full JSON object, given the data might not be pushed atomically due to exceeding 4kb