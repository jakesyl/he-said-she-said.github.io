small race conditions can be nightmares