xavier_: npm does something like this.  each top-level command is a module in lib/ that exports a function like install (args, cb) 