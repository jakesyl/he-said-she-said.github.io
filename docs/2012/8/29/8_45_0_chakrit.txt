erione: stream.write does returns a boolean which tells you wether the buffer is full or not (i.e. not yet written)