this is the test client code http://pastebin.com/qnyCR7MG