this code creates an endless loop, unless i change the name of the event to something else than data, http://dpaste.com/793149/