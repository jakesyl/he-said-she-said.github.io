dnnsmanace: you can probably just pipe to a child process that executes imagemagick, tell it to read from stdin and write to stdout, then pipe stdout to your request to s3