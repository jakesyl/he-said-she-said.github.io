how do i make the response in the requestFunction method generate only when the _getMessagesForChapter has finished