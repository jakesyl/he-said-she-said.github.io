@ anyone who care to figure this one out: http://pastie.org/private/studphpgo50o7tcqcluumq