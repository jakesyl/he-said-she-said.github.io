http://stackoverflow.com/questions/7268579/for-loop-and-async-callback-in-node-js