feels kind of weird to abuse closures this much'