xer0x: I know, but this gives me different results, which means that it doesn't wait for it to be finished, right? or should I just replace function with the actual function that takes the output from this one?