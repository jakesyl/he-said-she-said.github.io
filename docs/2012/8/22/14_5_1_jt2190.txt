jmar777: the domain specific behavior is in the middlewear functions