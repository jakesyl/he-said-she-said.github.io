bradleymeck: http://pastebin.com/Q0YQvb71