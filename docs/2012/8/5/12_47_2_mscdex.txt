liam: use a callback. something like this: https://gist.github.com/04144d95fdfabc056913