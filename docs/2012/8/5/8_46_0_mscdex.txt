braoru: maybe i'm oversimplifying things here, but what about just checking the host header, creating a request to the appropriate destination and then just pipe any body to the other end and pipe the response back?