now I can barely understand it because of templates