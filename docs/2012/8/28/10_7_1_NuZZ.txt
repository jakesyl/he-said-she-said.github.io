this coffeescript looks so delightful, no more awkward hasOwnProp and other loop issues, no more undefined var referenceerror issues. it's too bad I cant use globals