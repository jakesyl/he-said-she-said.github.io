ccowan: https://gist.github.com/3501648 is the full stack