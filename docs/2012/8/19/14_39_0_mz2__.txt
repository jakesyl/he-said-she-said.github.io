i can't work out how to create a suitable connect middleware func to deal with it