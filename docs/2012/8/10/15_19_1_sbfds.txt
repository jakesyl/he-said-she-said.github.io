how can i capture the return val of a callback function?