maybe there's a race condition with the pipes