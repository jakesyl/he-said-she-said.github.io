how will single pass handle nested ones?