How do I read in data from a client via a tcp socket until received data includes '</foo>'?