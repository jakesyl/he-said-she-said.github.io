FWIW I've done both in production, and I had problems with rebuilding some dependencies that had shitty wscripts. Honestly I wouldn't check them in unless you know they are all on gyp and npm rebuild works properly