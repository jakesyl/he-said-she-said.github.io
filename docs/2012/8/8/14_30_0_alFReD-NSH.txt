Gonna try to write one like that, but a bit more memory friendly