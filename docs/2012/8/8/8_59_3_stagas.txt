mtsr: https://github.com/visionmedia/send/blob/master/lib/send.js#L332-386 it uses the range diff to set the content-length instead of the stat.size