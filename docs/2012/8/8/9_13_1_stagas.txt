mtsr: Math.min(ranges[0].end, stat.size - 1) probably because the range is 0-based and size is not