https://gist.github.com/18f6b47c35071471aaa3 this should be the same without the unneccessary stuff