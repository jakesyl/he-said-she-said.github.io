basically as far as i can see there is nothing in your entire gist that is async