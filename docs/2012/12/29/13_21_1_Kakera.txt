here's my approach http://privatepaste.com/6fcc593db0