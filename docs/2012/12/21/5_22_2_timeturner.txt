and then use the results after all the async callbacks have returned