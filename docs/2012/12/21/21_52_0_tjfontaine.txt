Cheery: if you are going to be mixing things then perhaps a unix socket and dnode would be a better solution for you