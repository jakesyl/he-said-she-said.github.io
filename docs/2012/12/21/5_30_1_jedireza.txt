EventEmitter and the async module saved me from a lot of crappy code