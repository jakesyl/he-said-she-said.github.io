what is the recommended way for handling lots of error checks in a big async func ?