you should be able to copy a buffer to itself safely