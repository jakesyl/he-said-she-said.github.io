iirc, in C land you had to do open, then fdopen to get that result