is there not a way to tell the 'size' of a buffer? since buffer.length is the allocated length, not the contents size