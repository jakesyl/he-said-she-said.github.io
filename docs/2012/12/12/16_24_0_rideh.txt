warz so pesudo code cuz this might help: http://dpaste.com/844766/