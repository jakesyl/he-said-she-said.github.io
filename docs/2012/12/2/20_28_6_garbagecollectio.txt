but the main thread blocks the callbacks