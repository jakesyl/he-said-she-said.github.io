@djazz, i want to implement c function: https://gist.github.com/4189821 