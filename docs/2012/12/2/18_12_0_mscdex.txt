owen1: something like this?: https://gist.github.com/4d8e689c2f33b67474b7