this is my real code, http://paste.kde.org/626936/