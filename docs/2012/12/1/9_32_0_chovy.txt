bitfed: https://gist.github.com/59745fab2fee1bbf9ba2