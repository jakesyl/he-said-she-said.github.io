How do you guys deal with iterating over an object with a for loop that contains an async function (such as a database query) and not returning to a parent callback (not within the for loop) until all the iterations have completed including their async responses?