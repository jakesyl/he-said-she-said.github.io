"<niggler> javascript scoping is somewhat painful" <- then what would be PHP's scoping? :)