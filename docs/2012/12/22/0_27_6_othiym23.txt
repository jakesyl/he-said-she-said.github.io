samholmes: socketstream might do what you want out of the box