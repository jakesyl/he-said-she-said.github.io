This is a fairly broad and deep topic and closely related to how best to modularize your code