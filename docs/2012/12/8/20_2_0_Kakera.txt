and https://github.com/joyent/node/blob/master/src/tcp_wrap.cc