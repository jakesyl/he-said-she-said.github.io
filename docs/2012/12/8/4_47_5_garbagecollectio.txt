ok so if that's true then tell me about how the event loop works