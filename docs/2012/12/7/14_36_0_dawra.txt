there must be some way to get line number and file name where the error occurs http://pastie.org/5494130