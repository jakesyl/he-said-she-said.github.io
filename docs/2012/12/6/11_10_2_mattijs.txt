or update the emmitNewPin function to check if callback exists