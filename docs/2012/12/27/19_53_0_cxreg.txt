i couldn't put it in enter/exit directly because that seemed to induce infinite recursion