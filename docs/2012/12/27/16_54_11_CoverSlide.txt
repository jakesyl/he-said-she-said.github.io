abstract out http to userland i say