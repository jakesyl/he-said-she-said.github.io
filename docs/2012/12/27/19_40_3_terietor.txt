this is my code, http://paste.kde.org/632390/