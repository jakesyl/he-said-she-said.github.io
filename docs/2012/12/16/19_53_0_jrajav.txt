Also, you should probably figure out how to short-circuit that forEach. As it is it looks like you'll traverse the whole set even after finding the user.