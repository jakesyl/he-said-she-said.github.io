damn why can't javascript have partially applied functions :(