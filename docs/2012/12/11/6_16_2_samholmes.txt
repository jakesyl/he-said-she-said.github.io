TehShrike: Here's the snippet of my code (WIP): http://pastie.org/5509668