globals are really infuriating because they don't show up in the dependency graph