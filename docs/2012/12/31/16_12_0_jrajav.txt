Solving problems with scope-leaving would really only make sense in C++