Sounds like you're essentially doing dependency injection