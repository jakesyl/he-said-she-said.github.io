I am using socket.io and if I disconnect the client, I notice sometimes it sends an emit while being disconnected, so client.handshake.address.address become undefined. In fact client.handshake.address even becomes undefined.