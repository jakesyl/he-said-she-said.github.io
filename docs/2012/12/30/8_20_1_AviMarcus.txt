chainable query API with joins and stuff