so in the closure you added, I check if it's a new client and add *res* to a list of clients?