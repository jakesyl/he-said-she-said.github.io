jcrew: This JS is confusing. How is "(function(global, window)" legal JS?