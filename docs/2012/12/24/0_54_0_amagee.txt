yeah if you want to get more complicated you can investigate a library like this https://github.com/caolan/async