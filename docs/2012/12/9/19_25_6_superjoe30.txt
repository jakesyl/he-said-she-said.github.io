smlefo, that api is impossible because it is open to race conditions