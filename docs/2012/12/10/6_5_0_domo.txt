can someone help me optimize this code