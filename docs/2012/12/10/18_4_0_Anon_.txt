AAA_awright, this is the entire method right now: http://pastie.org/5507452