use caolan/async or similar