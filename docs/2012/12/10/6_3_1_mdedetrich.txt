whats the idiomatic way in javascript to create factory for a class