IIUC events are not guaranteed to be processed in order, but the sample echo server relies on "connection" being delivered before "connect" in order for the client to receive the hello message