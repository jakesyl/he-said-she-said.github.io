not having a lot of insight into the history it feels like https://github.com/joyent/node/blob/master/lib/repl.js#L248-263 should be in the provided eval statement instead of for all evals