I have a feeling someone smarter than me might have solved this for node, like isaacs or someone