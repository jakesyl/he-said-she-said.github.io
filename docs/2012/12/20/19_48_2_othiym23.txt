abandon all hope ye who write lots of stateful code ;)