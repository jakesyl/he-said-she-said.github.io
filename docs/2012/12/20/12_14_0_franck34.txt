but createCredentials functoin is opaque