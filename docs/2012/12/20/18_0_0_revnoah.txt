I'm having a confusing issue with node-validator. I am trying to clean data queried through mongo. When I create a string with the bad code (ie script and form tags), the xss() function replaces it correctly. But when I pass the data in from the query, it doesn't. The typeof the text is string and when viewed in the console appears to be identical.