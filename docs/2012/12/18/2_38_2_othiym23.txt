jrajav: you could do it with direct recursion, but use process.nextTick instead of simply calling the function