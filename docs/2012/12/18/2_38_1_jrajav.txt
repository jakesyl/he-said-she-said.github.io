Is it enough to write the loop as an accumulating recursion, or could/should I wrap each iteration of the loop in a process.nextTick?