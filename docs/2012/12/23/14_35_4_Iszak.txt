using websockets to pub and sub