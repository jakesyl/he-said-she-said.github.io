do your work inside a callback