really hard to ensure unit tests work