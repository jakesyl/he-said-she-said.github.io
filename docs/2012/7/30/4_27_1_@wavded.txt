basically given those examples, the destructor for ~Socket is being called prematurely