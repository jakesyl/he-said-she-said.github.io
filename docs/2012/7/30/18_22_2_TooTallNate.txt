that is, the final write() is the "flush"