You can write to `data.txt.tmp`. Unlink `data.txt`. Then move `data.txt` into place.