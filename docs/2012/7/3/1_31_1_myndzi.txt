process.nextTick -> socket._destroy -> socket.emit -> socket.onclose -> error