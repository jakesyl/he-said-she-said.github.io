the circular references were causing the issue