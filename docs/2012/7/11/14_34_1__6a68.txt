in a browser context where pieces are loaded asynchronously and in unpredictable order