gozala has experimented with proxy+promises for firefox extensions. i do not recall which lib.