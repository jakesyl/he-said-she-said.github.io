there's really no way to make string matching async, so you just do it