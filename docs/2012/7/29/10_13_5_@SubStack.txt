the source spans a lot of files, not sure if I would call it particularly modular