AviMarcus: what's happening is that because js only has function scope, the variable `i' only has the last value in all the loop. So, you need to add a new function to capture the variable in the current state in a new scope