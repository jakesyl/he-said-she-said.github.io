For IoC I use pipes.