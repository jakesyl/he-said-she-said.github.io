bnoordhuis: https://gist.github.com/3129376 , I'm not posting the c++ bindings as they're basically copied from the ones in unix-dgram