I wrote one back when socket.io was just about websockets with fallbacks