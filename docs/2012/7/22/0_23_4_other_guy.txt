though I still think Buffer should be less stupid and should cache it's length property