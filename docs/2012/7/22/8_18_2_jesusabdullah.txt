and at some point the middleware abstraction ceased to be useful