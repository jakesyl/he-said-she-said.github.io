pushing to array removes the optimization