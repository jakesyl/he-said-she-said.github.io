even with something like libuv or libev that makes it pretty nice