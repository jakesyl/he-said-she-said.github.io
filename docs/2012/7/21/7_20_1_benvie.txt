and reduces the C++ end of it down to a few basic functions