cainus: why use middleware if you can use a simple function before your routes?