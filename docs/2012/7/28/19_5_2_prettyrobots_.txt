mikeal: So a function to sort out th request, then routes.