at which point does my one liner become a middleware