this is the function that works with the object, there is no other code affecting it http://pastebin.com/FHK2Nir6