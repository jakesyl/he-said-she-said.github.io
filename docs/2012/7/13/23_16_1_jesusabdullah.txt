pooya: bad assumption. Don't use globals, don't expect "this" to resolve to global.