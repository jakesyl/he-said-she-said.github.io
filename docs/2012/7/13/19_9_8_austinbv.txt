should still be using the 'local' globals