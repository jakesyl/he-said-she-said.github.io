here's what i've done: https://github.com/joeandaverde/joed/blob/master/joed.cpp