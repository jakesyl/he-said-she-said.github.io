implemented all of the pieces necessary to set up the filter chains