well still, 250,000 is a lot in one loop. i say that because i think the problem may be that you're hitting the max number of sockets for your http Agent