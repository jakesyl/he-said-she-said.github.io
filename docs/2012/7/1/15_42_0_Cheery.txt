https://raw.github.com/cheery/essence/master/coffeesipper.py