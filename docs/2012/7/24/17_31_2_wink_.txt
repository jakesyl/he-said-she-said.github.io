retro: well you clearly need to wait to execute your confirmation logic in your async callback