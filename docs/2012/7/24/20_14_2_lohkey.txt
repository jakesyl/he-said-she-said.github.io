sharing more general code though has been a bit of a pipe dream for me