decouple the algorithmic parts from the ui rendering