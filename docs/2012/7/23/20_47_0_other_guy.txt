the constructor does the event.emit in a process.nextTick() to make sure the .on('ready') gets picked up