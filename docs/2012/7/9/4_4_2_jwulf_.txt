and I take it that connection.end is asynchronous?