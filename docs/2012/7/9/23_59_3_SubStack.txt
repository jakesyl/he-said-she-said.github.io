or like haskell stm channels