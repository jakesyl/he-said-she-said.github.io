couldn't use any code because of promises