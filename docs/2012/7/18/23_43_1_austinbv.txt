done should not be called twice