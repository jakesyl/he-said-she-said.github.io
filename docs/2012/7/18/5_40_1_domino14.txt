do i just write my own middleware in the middle, and how?