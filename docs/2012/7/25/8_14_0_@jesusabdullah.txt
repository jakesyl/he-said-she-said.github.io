Yeah, expect is a program for doing exactly what you're talking about and I think there's a perl module that does similar