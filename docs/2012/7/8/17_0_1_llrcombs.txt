you haven't removed the race condition, you've just made it trigger less often