using closures seems like it would be a bad idea for memory usage