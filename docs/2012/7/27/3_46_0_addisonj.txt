hrm... closures in C... having seen it in C11 I am not sure thats a good idea