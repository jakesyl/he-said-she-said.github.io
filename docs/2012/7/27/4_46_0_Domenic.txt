The caching works when used programmatically