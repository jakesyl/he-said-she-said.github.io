"you need to define the function inside a scope that has access to the 'test' variable" - this makes sense to me, but I don't know how I would do that