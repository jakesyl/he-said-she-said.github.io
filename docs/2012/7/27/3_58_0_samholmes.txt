What exactly is your problem, is it with the fact that you're using three emits?