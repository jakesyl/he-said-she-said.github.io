--- Log opened Wed Oct 10 00:00:43 2012
00:18 < MI6> joyent/libuv: Ben Noordhuis master * cb03e3b : darwin: work around concurrent write() kernel bug  Simultaneously writing - http://git.io/NFBvpQ
00:19 < MI6> joyent/node: Ben Noordhuis master * 5823290 : deps: upgrade libuv to cb03e3b - http://git.io/us78Yw
00:21 < sgorthi> i'm trying to write cucumber tests that uses soda to hook into selenium to launch my browser
00:21 < mscdex> why does the github bot link to a compare view now instead of the commit? :S
00:22 < sgorthi> however, I seem to have some trouble passing the soda browser instance into my tests
00:22 < sgorthi> http://jsfiddle.net/XsNpQ/
00:22 < sgorthi> http://jsfiddle.net/wMQgx/
00:22 < sgorthi> could I get some pointers on what I'm doing wrong?
00:23 < sgorthi> I think I'm not setting up the world properly and returning the right world instance to use in the tests
00:50 < llrcombs> I managed to deal with that mdns issue :D
00:50 < llrcombs> it was just the version in the JSON. Sent in a pull request; the maintainer is quite pleased
00:52 < harrisonm> Who maintains MI6?  Interested in the source
00:53 < Zak> MI6?
00:58 < othiym23> Zak: the Node.js commit bot
00:58 < othiym23> harrisonm: I have no idea -- maybe ask in #libuv?
00:59 <@Nexxy> [20.58.01] [freenode] »¡«  ircname  : cia replacement, see tjfontaine
00:59 < othiym23> maybe it's piscisaureus's baby? He has the logs on his site
00:59 < othiym23> Nexxy is smarter than me
00:59 <@Nexxy> no no
01:02 < harrisonm> Not showing up on tjfontaine's github repos
01:03 < harrisonm> I'll check #libuv, thanks
01:03 < TooTallNate> harrisonm: i think it's just in a gist somewhere
01:03 < harrisonm> oh okay
01:04 < TooTallNate> harrisonm: https://gist.github.com/3794720
01:07 < harrisonm> TooTallNate: thanks!
01:41 < Raynos> Does anyone have a tool to require css through npm?
01:41 < niggler> require css?
01:43 < ChrisPartridge> Raynos: check out jscssp
01:44 < Raynos> ChrisPartridge: that's a parser
01:44 < Raynos> I want browserify (enable npm) -> javascript, ?? (enable npm) -> CSS
01:44 < Raynos> I want to npm install bootstrap
01:44 < ChrisPartridge> sorry, misunderstood your question
01:44 < Raynos> then do @require bootstrap/buttons
01:44 < Raynos> and have the CSS compiler figure shit out
01:45 <@Nexxy> Raynos, but you'd have to piece up all the less 
01:45 < Raynos> ignore the fact bootstrap is written in less
01:45 <@Nexxy> seems easy enough though
01:46 < Raynos> well yeah it's not hard to write
01:46 < Raynos> but if someone has written it already i shouldnt re-invent it
01:46 <@Nexxy> of course you should!
01:53 < Raynos> Nexxy: dont encourage NIH
01:53 < Raynos> that's evil.
01:55 <@Nexxy> Raynos, I'm not!
01:57 < jesusabdullah> Nexxy: GOOD HEAVENS
01:57 <@Nexxy> jesusabdullah, WHAT
01:57 < SomeoneWeird> huh
01:57 < jesusabdullah> encouraging NIH
01:57 < jesusabdullah> what were you thinking XD
01:57 < SomeoneWeird> WAT IS DIS
01:57 <@Nexxy> WOW YEAH THAT'S WHAT I SAID
01:58 < jesusabdullah> Raynos: substack has a library that does that
01:58 <@Nexxy> of course he does
01:58 < Raynos> jesusabdullah: if its yarnify then no
01:58 < jesusabdullah> whaaat
01:58 < jesusabdullah> I thought yarnify totally did css
01:58 < Raynos> it does a crazy thing
01:58 < Raynos> its the wrong solution
01:58 < Raynos> to the another problem
01:59 < jesusabdullah> pffffsht
01:59 < jesusabdullah> *spittle*
01:59 < jesusabdullah> fffbbbbbfbfbfbfffff
01:59 < jesusabdullah> Raynos: probably someone else hasn't invented exactly what you want
01:59 < niggler> Raynos: is it "the wrong solution to an unspecified problem" or is it "the right solution to a different problem"?
02:00 < Raynos> niggler: its solving a different problem (a real one) and does it wrong
02:00 < jesusabdullah> Raynos: and it may be easier to make than to adopt whatever other thing to kinda-sorta do what you want
02:01 < niggler> any good windows computers on the market or should i just wipe an old imac?
02:01 < jesusabdullah> Raynos: sub's face: http://www.reactionface.info/sites/default/files/images/saythattomyface.jpg
02:01 < mmalecki> niggler: get a mac/install linux
02:01 < jesusabdullah> niggler: thinkpad?
02:01 < niggler> mmalecki: i need fucking lacerte
02:01 < jesusabdullah> thinkpads are still nice
02:02 < niggler> jesusabdullah: aren't they chinese now?
02:02 < niggler> lenova or w/e
02:02 < jesusabdullah> yeah but they still make them good
02:02 < jesusabdullah> I mean
02:02 <@Nexxy> lol, "now"
02:02 < mmalecki> niggler: no idea what lacerte is
02:02 < jesusabdullah> do you really expect to get hardware that's "made in amurica" ?
02:02 < mmalecki> if so, get a hammer
02:02 < niggler> Nexxy: no semblance of american heritage, unlike apple's "designed by apple in california"
02:02 < niggler> mmalecki: its this tax software
02:03 <@Nexxy> lol you troll
02:03 < niggler> made by the friendly trolls at intuit
02:03 < jesusabdullah> you can get away with that on embedded shit a lot of the time but not for consumer electronics
02:03 < jesusabdullah> you do understand that apple buys all their shit from foxconn and other taiwanese vendors yes?
02:03 < jesusabdullah> and that lenovo has hardly changed the original thinkbook design at all?
02:03 < jesusabdullah> and that the thinkbook design was in fact drafted by IBM?
02:03 < niggler> (my remark was clearly tongue in cheek -- we all know where apple makes their stuff)
02:04 < jesusabdullah> I see.
02:04 < niggler> but im debating between getting a mac or getting some other thing
02:04 < jesusabdullah> Inm high school a friend blew a fuckton of his parents' money on an Alienware full tower
02:04 < niggler> dell had issues honoring st121.3 but apple was all too happy to accept it
02:04 < jesusabdullah> and it broke almost immediately
02:04 < niggler> alienware = dell
02:05 < niggler> which, by the looks of their stock price, are in for a world of hurt
02:05 < jesusabdullah> dells are definitely "value" boxes
02:05 < jesusabdullah> and Alienware is all about the "hrrd k0re g4m3r" image
02:05 < jesusabdullah> or used to be
02:06 < jesusabdullah> honestly best way to get a desktop these days imo is to buy the components yourself
02:06 < jesusabdullah> and buy a nice case
02:06 < jesusabdullah> like an antec or lian li
02:06 < jesusabdullah> I built one from my 'rents with an antec case, it was very nice
02:07 < Raynos> jesusabdullah: come down here then!
02:08 < Raynos> niggler: why you racist?
02:08 < harrison1> Exactly.  I looked into building my own laptop too, but it's really impractical
02:08 < jesusabdullah> Raynos: ololo
02:08 < niggler> im sure there's a way to get a "made in america" tax credit
02:09 < EyePulp> yeah - it's called off shore tax havens.
02:09 < jesusabdullah> if you like US made stuff look up TI's MSP430 line of uC's
02:09 < niggler> EyePulp: not quite at that scale
02:09 < jesusabdullah> at one point they were selling some for $4.30 apiece with pinouts and shit
02:09 < jesusabdullah> and TI is still aptly named
02:09 < jesusabdullah> unlike Milwaukee tools
02:10 < niggler> does atmel still produce stuff here?
02:10 < jesusabdullah> maybe! unsure
02:11 < EyePulp> Is Makita American made anymore?
02:11 < EyePulp> =)
02:12 < niggler> i wish someone would compete with apple
02:14 < EyePulp> by compete, you mean copy?  Because that seems to happen occasionally...
02:14  * EyePulp trolls because it's easier than actual conversation
02:15 < niggler> anyone know of any good tax software other than intuit's turbotax/lacerte/proseries?
02:15 < Oddman> plenty of competitors
02:16 < Oddman> I can't stand apple's approach to handheld devices
02:16 < niggler> "competitors" "try"
02:16 < Oddman> not really
02:17 < Oddman> I find the nexus devices to be leagues ahead of Apple in a number of ways
02:17 < niggler> look at blackberry lol
02:17 < Oddman> but more importantly, they don't lock me into THEIR way of doing things
02:17 < Oddman> opinionated companies are great if you don't have an opinion of how you like to do things
02:19 < zivester> is express 3.0 app.listen() asynchronous without any callbacks or does it block?
02:19 < Oddman> probably better off asking in #express zivester 
02:39 < TehShrike> eh, I don't remember any mobile browser developers giving a crap before Safari Mobile.  I'm not a big fan of Apple's, but I'm glad they're forcing people to compete.
02:56 < sinclairzx> is there a way to terminate a long running node process?
02:56 < sinclairzx> actually, nevermind
03:21 < tonymilne> What are peoples thoughts on adding properties to arrays? E.g. var a = [1, 2, 3, 4]; a.foo = 'bar';
03:22 < tonymilne> Or var example = function() { // CPU Intense }; example.memoize = {};
03:23 <@Nexxy> zivester, it's async regardless, w/o a cb you're just not adding an event listener for... listening
03:24 < SomeoneWeird> tonymilne, why?
03:25 < tonymilne> SomeoneWeird why? because i am interested in other peoples opinion of the practice. E.g. is it weird to them? Do JS interpreters hate it? Etc.
03:25 < SomeoneWeird> it's weird to me :p
03:25 < SomeoneWeird> use an object todo <some>.<thing> = "something"
03:25 < tonymilne> SomeoneWeird my use case currently is patching paging onto Mongoose's Query object,
03:26 < tonymilne> and when it executers the query, i was going to add a pagination property to the returned array of models.
03:26 < tonymilne> so you can just write models.pagination.render()
03:26 < tonymilne> or models.pagination.pages.forEach(function(page) { 
03:27 < tonymilne> and since i often use Step flow control, when doing parallel calls, it prefers a single value callback
03:27 < tonymilne> so that seemed to work best for my use case / constraints.
04:10 < niggler> fuck windows
04:10 < niggler> ok get this bullshit
04:10 < niggler> i ran compress
04:10 < niggler> and somehow it compressed the boot manager ><
04:11 < SomeoneWeird> dafak
04:11 < SomeoneWeird> http://cdn.memegenerator.net/instances/400x/28102518.jpg
04:25 < mdedetrich> man I should stop having arguments over the internet
04:27 < astropirate_> mdedetrich, ya think?
04:27 < mdedetrich> yeah......
05:04 < eneguru> test
06:04 < Zak> yeah, it's pretty quiet
06:04 < Zak> whats going on
06:05 < zhodge> it is quiet 
06:05 < zhodge> so node
06:05 < zhodge> yeah
06:06 < other_guy> So nlf and I wanted to use node's native HTTP parsing engine, but it's not exposed very conveniently
06:06 < other_guy> well no longer...
06:06 < other_guy> eat our delicious parsnip https://github.com/nathanaschbacher/parsnip
06:06 < other_guy> mmmm
06:07 < ChrisPartridge> eww parsnips
06:09 < other_guy> they're tastier than you think
06:10 < other_guy> but they're really hard to dig up
06:10 < other_guy> seriously the function in the native HTTP parser we had to dig through was 1266 lines long
06:10 < other_guy> one. function.
06:10 < other_guy> 1266 lines
06:10 < other_guy> It is a travesty
06:15 < ChrisPartridge> other_guy: sounds like you guys had some fun :)
06:15 < other_guy> ChrisPartridge, it was certainly a terrifying escapade
06:15 < other_guy> I kept thinking… "I cannot believe I'm going to deploy this in production."
06:15 < other_guy> :-)
06:16 < other_guy> but it seems to work for folks
06:16 < other_guy> so might as well through caution to the wind myself
06:17 < other_guy> I usually start the refactoring process when my functions hit ~40+ lines of code.
06:17 < other_guy> for a complex function
06:17 < ChrisPartridge> yeah, since using node I dont think I have anything longer than 20-30 lines in my larger methods
06:18 < other_guy> That one function in the core http module is more lines than almost my entire Riak client :-)
06:18 < other_guy> anyway, well we rooted out the native HTTP parser and I bundled it up as a handy little module in case anyone else needs it.
06:19 < other_guy> even has a test!
06:19 < ChrisPartridge> Not really a c/c++ guy, but perhaps it was done that way for speed
06:20 < jerry__> hello, guys
06:20 < other_guy> Oh, I don't think so… I am a c/c++ guy, and it is way, way, way to branchy to have been done for speed :-)  I think it was done out of "get this done now" idness
06:21 < other_guy> but whatever, it appears to be stable code, and unless you're a glutton for punishment like we were, then you never have to dig in it much.
06:21 < other_guy> or at all
06:21 < other_guy> you've got idiots like me to do it for you ;-)
06:30 < niallo> seeing weirdness if i do setEncoding('utf8') on stdout and stderr streams from child_process.spawn() - https://gist.github.com/3863486. is this a bug or i'm just silly?
06:31 < niallo> not even sure why i wanted to setEncoding utf8 in the first place hrm.
06:32 < niallo> odd thing is that test only fails half the time, feels like a race condition somewhere (run it a whole bunch of times)
06:34 < niallo> node 0.8.11 / os x 10.8 fwiw
07:09 < hemanth> isaacs, nodeup.com   
07:09 < hemanth> needs a link fix 
07:10 < hemanth> class="bullet" must be class="notelink" for moment
07:15 < syskk> is there a package for getting someone's timezone based on IP ?
07:17 < SomeoneWeird> http://stackoverflow.com/questions/10615828/how-to-use-timezone-offset-in-nodejs
07:17 < SomeoneWeird> https://npmjs.org/package/geoip
07:19 < syskk> thanks people
07:25 < AAA_awright> syskk: Whose timezone? From a web browser, from an OS?
07:26 < AAA_awright> I'd just recommend UTC-0 (no timezone)
07:26 < syskk> AAA_awright: the browser
07:26 < AAA_awright> As opposed to UTC+0 which means you live in Eurpoe
07:26 < syskk> AAA_awright: i'll try geoip  + req.ip
07:26 < AAA_awright> syskk: So since that's not sent over HTTP you have to use the Date object
07:27 < AAA_awright> Ultimately it isn't a Node.js question, but it's trivially accessible through the Date object on the browser
07:27 < syskk> AAA_awright: how do I tell node.js to use UTC-0 timezone btw?
07:27 < AAA_awright> You just use the UTC functions instead of the timezone functions
07:27 < syskk> AAA_awright: yes, but I want to support JS disabled, that's why i was going with IP
07:28 < syskk> ok
07:28 < AAA_awright> IP to geolocation? That's... a bad idea, for a number of reasons, it's unreliable, but most importantly, proxies
07:28 < syskk> anyways, im storing to mongodb which doesn't seem to support timezone so i guess utc+0 or utc-0 will be the same
07:29 < syskk> AAA_awright: is there an alternative if js is disabled?
07:29 < SomeoneWeird> AAA_awright, if people are gunna use proxies then they should expect somethings not to work
07:29 < syskk> AAA_awright: first i get user submitted time (prepopulated in JS), then exif data, then fall back to ip
07:30 < AAA_awright> syskk: http://www.w3.org/TR/timezone/
07:32 < AAA_awright> All the things that need to be considered when working with timezones
07:32 < syskk> AAA_awright: thanks, but it doesn't offer an alternative to JS. would be nice to have a http header but if that exists it must be a new standard
07:32 < syskk> AAA_awright: will take a look
07:32 < AAA_awright> What are you trying to do anyways?
07:32 < AAA_awright> Usually you don't translate timezones for people
07:33 < syskk> AAA_awright: first i get user submitted time (prepopulated in JS), then exif data, then fall back to ip
07:33 < syskk> i want to make the date/timezone an optional field in my form…
07:33 < syskk> I don't think there's any alternative for people with js disabled
07:38 < mdedetrich> does anyone know if there is a date package for node
07:38 < mdedetrich> that is similar to jodatime
07:39 < mdedetrich> i.e. immutable and allows manual updating of timezone data
07:41 < mdedetrich> I'm looking at time however it doesn't allow me to add/subtract one date from another
07:44 < gmancode> ?
07:45 < nathan7> mdedetrich: moment.js seems to do that
07:45 < nathan7> mdedetrich: unsure about the timezone things
07:45 < [AD]Turbo> hola
07:48 < mdedetrich> nathan7: it looks perfect
07:48 < mdedetrich> nathan7: unsure about timezone though, checking that now
07:50 < mdedetrich> nathan7: https://github.com/mde/timezone-js
07:50 < mdedetrich> perfect
07:50 < mdedetrich> found it
08:42 < eff> hi, i'm looking to generates webservices to serv json data according to my db in a RESTful maner, and so i am looking for a module who would generate the crud for me (based on express.js would be a must)
08:42 < eff> do you have any suggestions please
08:43 < eff> i've been looking at railway.js but i cant figure out a way to use only the map.ressource() part, i dont want any view rendering, templeting engine, and so on, just servind json :)
08:43 < hemanth> eff, http://mcavage.github.com/node-restify/ ?
08:46 < eff> hemanth: sound promising on the first section, let me take a deeper look at it, thanks
08:46 < hemanth> eff, np
09:08 < T0bsn> is spdy always encrypted? am i getting this right?
09:27 < stiang> is it possible to write a fast node http server that accepts a connection, immediately serves content from a redis key or an empty result if there is nothing in redis, but then starts a background job of some kind to retrieve some content from a slow http server and puts the result in redis?
09:28 < astropirate_> stiang, yes
09:28 < stiang> btw, I understand that node can check redis, I’m just not sure how to implement background jobs.
09:30 <@mbalho> stiang: you dont need background jobs for slow i/o when using an evented i/o framework like node
09:31 < astropirate_> stiang, well there is no background-job as in a seperate thread. but from what i understand you want to serve out the ocntent, then do yoru other stuff
09:31 < astropirate_> node wont just exit the stack because you serve a response
09:31 < astropirate_> it will exit when there is nothing left to do
09:31 < stiang> aha. so I can return something to the user, and then just continue to fetch the content, and put in in redis when done?
09:33 < stiang> yes, I guess that’s exactly that you said… thanks, I’ll go try this out now.
09:38 <@Nexxy> mbalho, \o/
09:39 < dax_roc> Morning
09:40 < dax_roc> How would I get node to ignore ctrl+z 
09:41 < eff> hemanth: i might have spoken too fast, after reading the doc, node-restify doesnt seem to answer my need, i'd like something who generate the CRUD requests for me, proving a table schema something who generate the according validate rules, and create update and delete records from the database
09:41 < mscdex> Nexxy, \o/
09:41 < dax_roc> *I've a console here where I need to pass ctrl+z to the serial
09:41 <@Nexxy> mscdex, 
09:41 <@Nexxy> \o/
09:42 < mscdex> dax_roc: you might try listening for SIGTSTP
09:42 < mscdex> or wait, maybe you can't intercept that
09:43 < mscdex> well, it's worth a try :-)
09:46 < hemanth> eff, oh!
09:47 < dax_roc> mscdex: how would I go about sending it to the serial, I'm thinking of interpreting two returns as SIGSTP
09:48 < mscdex> dax_roc: ASCII decimal 26
09:50 < mscdex> this is just plain weird: http://www.dizbee.com/
09:51 < dax_roc> what every budding serial killer want's for christmas...
09:51 <@Nexxy> mscdex, omg, buying one now
09:56 < sh0ne> how can I further optimize (reduce size) of a JS file that is already optimized using require.JS optimizer?
10:00 <@Nexxy> sh0ne, refactor?
10:02 < sh0ne> Nexxy: well, that's plan B for sure :)
10:02 <@Nexxy> sh0ne, there's always gzip
10:03 < mscdex> omgzip
10:12 < sh0ne> Nexxy: thank you, I think we'll try it with gzip prior refactoring
10:13 <@Nexxy> :)
10:17 < dax_roc> I'm trying to capture the SIGTSTP event, rl.on('SIGTSTP', function(){ // Nothing }); but it doesn't stop the event. 
10:26 < mscdex> dax_roc: what is rl? you should be listening for signals on process
10:26 < dax_roc> *readline
10:27 < dax_roc> I don't think it has the stop event ? 
10:27 < mscdex> dax_roc: process.on('SIGTSTP', ...);
10:27 < mscdex> dax_roc: http://nodejs.org/api/process.html#process_signal_events
10:29 < dax_roc> Yeah, I thought readline had the same, seems it's not implemented 
10:30 < dax_roc> mscdex: appreciate it
10:30 < sh0ne> how can I tell Node to just make a single js file out of multiple files but to skip optimizing the file? I used 'node r.js -o build-profile.js' but that run optimizer too.
10:31 < sh0ne> build-profile has only shim and paths and nothing more.
10:33 <@Nexxy> sh0ne, `cat file1 file2 file3 >> bundle`
10:33 <@Nexxy> or just > if you want it to rewrite (obv)
10:34 -!- mode/#Node.js [+o piscisaureus_] by ChanServ
10:37 < sh0ne> Nexxy: ok, so there is no option to skip optimization step and just to concatenate all the files?
10:40 <@Nexxy> sh0ne, I have no clue what the context of your question is
10:41 <@Nexxy> I just told you how to concat all the files though ;P
10:41 <@Nexxy> w/o any optimization whatsoever
10:43 <@Nexxy> uh oh
10:49 < sh0ne> Nexxy: thank you for your help, you helped me a lot really, problem solved :D
10:51 <@Nexxy> sh0ne, you're quite welcome :)
10:51 <@Nexxy> sh0ne, if you really want to move the concatenation of files into node, you can do something really simple with child_process.exec
10:52 < RLa> hm, can't you use browserify to concate files?
10:53 <@Nexxy> yeah
10:53 < RLa> oh, i see you use requirejs already
11:06 < pixie79> hi all - how can i set my exit status to 2 ?
11:07 < pixie79> its ok  - i have found my answer :)
11:08 < hemanth> process.exit(code=2) 
11:08 < hemanth> ?
11:13 < pixie79> how do i pass a variable to a function inside a libary, currently i pass a callback, but i need to send the name of a file to the library so it can open the file
11:15 < mscdex> pixie79: doesn't it have a parameter for that?
11:17 < pixie79> mscdex: this is what i have so far https://gist.github.com/3864877
11:17 < mscdex> i'm still confused
11:18 < pixie79> that makes two of us :)
11:19 < pixie79> basically, my lib exports one function which has a callback, i need to add into it that ability to access a variable which will hold the config file name
11:19 < pixie79> i am just unsure how to do that, and get the calling function in the main program to use set it
11:20 <@Nexxy> pixie79, a... function parameter?
11:21 <@Nexxy> you're already passing a callback
11:22 < pixie79> yep and i tried (config, callback) to pass the variable as well but it just seems to pass 'Function' when i output the result of what was passed
11:23 <@Nexxy> pixie79, gist it?
11:24 < pixie79> Nexxy: mscdex updated gist with the full content of both calling script and lib https://gist.github.com/3864877
11:26 <@Nexxy> pixie79, you're only passing it one function
11:26 <@Nexxy> the callback isn't accepting the parameter, your exported function is
11:26 <@Nexxy> but you have the callback accepting the config parameter instead
11:27 < pixie79> that is where i am confused.
11:28 < pixie79> until i added the config var everything worked fine
11:28 <@Nexxy> right
11:28 <@Nexxy> because now you've bumped your callback parameter with the config parameter
11:28 < pixie79> ok - so how do i have both ?
11:29 <@Nexxy> you should also use optimist
11:30 <@Nexxy> and your callbacks should probably follow the convention of accepting error parameter first, then data
11:30 <@Nexxy> so a successful callback would be called like `callback(null, data)`
11:32 < pixie79> i tried setting error but i get getting function err not defined :)
11:32 <@Nexxy> pixie79, start here: https://gist.github.com/3864929
11:33 <@Nexxy> the other issue is that your callback function is supposedly accepting itself as a parameter
11:33 < jorick> i wanna rebuild Drupal in nodejs, where do I start?
11:34 <@Nexxy> it would probably be a lot easier for you to follow things if you would name your functions
11:34 <@Nexxy> pixie79, http://callbackhell.com/
11:34 <@Nexxy> jorick, I'd start by reexamining your motivation
11:35 < pixie79> Nexxy: thanks - i have read callbackhell and this is my first attempt at node - still trying to understand where i am going but i think i am getting there
11:36 <@Nexxy> yeah you're close
11:36 <@Nexxy> but it really does help to break your components apart and name them rather than defining everything inline
11:42 < pixie79> Nexxy: i still seem to be getting 'Function' output when i do the console.log in the lib rather than the string?
11:44 <@Nexxy> pixie79, gist again?
11:45 <@Nexxy> pixie79, also you're calling you callbacks multiple times
11:45 <@Nexxy> callbacks aren't like returns, tehy don't stop execution of the current scope
11:45 <@Nexxy> so you're executing your callbacks twice in the case of error conditions
11:46 < pixie79> Nexxy: https://gist.github.com/3865074
11:46 <@Nexxy> once in parseConfig and once in readData
11:47 < pixie79> should i return errors instead ?
11:47 < adamramadhan> hallo can anybody make node 0/8/11 in centos 6.3
11:47 < adamramadhan> 0.8.11 is it still the same issue with centos 6.2?
11:48 <@Nexxy> pixie79, you just need to return after an error
11:48 < nathan7>  
11:48 <@Nexxy> pixie79, some people just do `return cb(<error>)`
11:48 < adamramadhan> ah anyway the master version is working
11:49 < pixie79> ok - that makes sense
11:49 < nathan7> return cb(err) <3
11:50 < pixie79> nathan7:  '<3' ?
11:50 < adamramadhan> wew the build is fine but then error node 2 is still there
11:50 <@Nexxy> ♥
11:51 -!- mbalho changed the topic of #Node.js to: node.js - useful for controlling helicopters
12:09 < nathan7> [4~[4~[4~<3pixie79: ♥ == 
12:09 < nathan7> err
12:09 < nathan7> pixie79: '♥' == '<3'
12:13 < pixie79> what ?
12:14 <@Nexxy>  they're hearts
12:14 < tuhoojabotti> ♡
12:15 <@Nexxy> ♥
12:15 < tuhoojabotti> what is this disgrace
12:15 < tuhoojabotti> luckily I could disable colors
12:15 < nuba> that one is unicode + irc color codes
12:18 < aandy> thanks for reminding us irssi users that we're square! :)
12:18 <@mbalho>  ♥
12:19 <@mbalho> i wish there was unicode pizza
12:19 <@mbalho> or unicode tacos
12:19  * nuba on irssi & colorful :)
12:19 < nuba> unicode, too
12:19 < aandy> nuba: did you do anything specifically to get unicode in irssi?
12:20 < nuba> that's from your term, not irssi -- unless you've decolored your world with some plugin :)
12:20 < aandy> i have plenty of color in my life
12:20 < aandy> but not in irssi
12:20 < aandy> :(
12:21 < aandy> well, i'm using putty right now, will check in iterm when i'm on my laptop
12:21 < nuba> aandy: i've got this set in my environment LANG=en_US.UTF-8
12:21  * nuba on gnome-terminal
12:21 < aandy> right, me too. and in .screenrc, and term_charset in irssi
12:21 < aandy> ah, some genious set Fixedsys as font
12:21 < aandy> d'oh
12:22 < nuba> my setup is gnome-terminal -ssh-> bash with that set, then screen with no tweaks on that, then bash, then irssi with no tweaks on that either
12:22 < aandy> same here, but different terminal
12:22 < nathan7> aandy: what?
12:23 < nathan7> aandy: putty defaults to non-UTF-8
12:23 < aandy> i like to put defutf8 in .screenrc though. i've had some issues with scandinavian chars + irssi without
12:23 < nuba> i've had problems with encoding with putty
12:23 < nathan7> and screen does too
12:23 < nuba> yeah what nathan7 said
12:23 < nuba> need to tweak that manually, buried somewhere in the prefs for a session
12:23 < aandy> nathan7: yeah, i've set utf8 manually in putty, and locale + screenrc on host
12:23 < nathan7> and /set term_charset UTF-8 and /save
12:23 < aandy> yup
12:23 < nathan7> then it should be fine
12:24 < aandy> nathan7: it is, sorry. as mentioned, the error was the font :)
12:24 < aandy> hard to show a heart when the char doesn't exist ;)
12:26 < nuba> guys, in a completely unrelated note: a coworker wrote a node2cassandra gateway kinda of thing, and I (/me grab the operations hat) need to bring that up as blazing fast as possible, on a debian box. any tutorials or articles you'd recommend? /me googling as we talk
12:26 < nuba> oh,  don't mean "bring the service up" fast, but "bring a fast service up"
12:28 < nuba> even better if there's any node benchmark with code/snippets I could get and run locally, that'd rock my world :D
12:29 < aandy> nuba: console.time, console.timeEnd ;)
12:30 < RLa> prepare for kernel tuning :)
12:30 < aandy> console.time('oh noes'); require('snippit')(function(e) { console.log('oh noes'); }
12:30 < nuba> RLa: ay aye matey! :)
12:31 < aandy> ); :(
12:34 < nathan7> aandy: heh
12:34 < nathan7> oh hey
12:34 < aandy> typoes are free. my coffee's still brewing ;)
12:40 < jchannon2> I've got node-inspector running but I dont see root level scripts. Any ideas guys?
12:41 < sirspazzolot> is there a good resource for hosting a javascript application through apache?
12:42 < RLa> sirspazzolot, why apache?
12:42 < sirspazzolot> I already have it running on my servr
12:42 < RLa> anyway, i think you want mod_proxy then
12:42 <@Nexxy> lol
12:43 < sirspazzolot> alrighty. thanks
12:43 < RLa> also note that you lose some benefits of node with it
12:43 < sirspazzolot> is there a way to host a node app and a normal http webserver on port 80?
12:43 < RLa> like having lots of persistent connections with low resource usage
12:43 <@Nexxy> sirspazzolot, haproxy
12:44 < jchannon> account issues. anyhow, anyone have root level script issues with node-inspector?
12:44 < sirspazzolot> haproxy. okay. class just got out so I have to go apparently
12:44 < sirspazzolot> thanks guys!
12:44 < aandy> anyway, i think you want (nginx|pound|varnishd|ha) then [fixed that for you]
12:46 < mdedetrich> hi everybody
12:47 < jchannon> i'm going to say Hi as no-one else will
12:47 <@Nexxy> hi mdedetrich :)
12:47 < mdedetrich> so how is everybody
12:47 <@Nexxy> fabulous.
12:48 < jchannon> stuck with node-inspector :)
12:48 <@Nexxy> jchannon, is your app running in debug mode?
12:48 < jchannon> yup
12:48 < jchannon> it debugs scripts under folders just can't see app.js which is in the root
12:49 < jchannon> it also shows things like http.js in the root when they are not
12:49 < jchannon> probably not understanding node-inspector properly
12:49 < mdedetrich> does anyone know if its possible to combine moment.js
12:49 < mdedetrich> with timezone-js
12:51 < stagas> mdedetrich: try it! :)
12:52 < mdedetrich> well I am
12:52 < aandy> mdedetrich: what is it you're trying to accomplish, adding timezone support in moment?
12:52 < stagas> mdedetrich: interested to know how it goes
12:52 < mdedetrich> aandy: basically yeah
12:52 < jchannon> just logged an issue with node-inspector https://github.com/dannycoates/node-inspector/issues/135
12:52 < mdedetrich> and I need it to read off tz data
12:52 < mdedetrich> which timezone-js does
12:53 < aandy> well, i think you can just sub it in
12:53 < aandy> as timezone returns a "regular" Date object
12:53 < aandy> you could do a helper which normalizes it based on the tuplet
12:53 < SomeoneWeird> ^^ easiest way
12:54 < jchannon> out of interest what editor are you guys using
12:55 < SomeoneWeird> sublime
12:55 < jchannon> i'm trying ST2
12:55 < aandy> sublime/vim
12:56 <@Nexxy> sublime text as well
12:56  * dax_roc just downloaded sublime
12:57 < aandy> mdedetrich: there's a getTimezoneOffset() function which might be of interest. you could extend the prototype to include a .normalize = function () { return moment(this).add(this.getTimezoneOffset()); }
12:57 < RLa> aww god damn today i hate mysql for boolean fuckup
12:58 < aandy> +/-*
12:58 < jchannon> I did a blog post about using ST2 and Hello World http://blog.jonathanchannon.com/2012/10/08/node-js-express-hello-world-formula-1-style/
12:58 < aandy> clicking on link based solely on "formula 1 style" :>
12:58 < jchannon> :)
12:59 < aandy> now that we have so many sublime users, which color settings do you use? i'm o solarized dark/light depending on time/mood
13:00 < jchannon> https://github.com/jfromaniello/Grandson-of-Obsidian
13:01 < aandy> ah, not bad
13:06 < mdedetrich> aandy: actually I seem to have found something
13:06 < mdedetrich> aandy: https://github.com/timrwood/moment-timezone
13:08 < aandy> nice :)
13:10 < jchannon> do you guys use node-inspector with ST2?
13:14 < mz2_> hello
13:16 < analphabet> mz2_: hello
13:18 < mz2_> i'm having some issues with the cluster module: i've set up four workers, each of which has an event emitter based control flow. from logging and following the four processes in top i'm observing that at any given point in time, there's only one at a time spending any major cpu time
13:24 < jondot`> hey guys. is there a good aggregator that I can announce open source projects on targeting node.js ?
13:24 < mz2_> it looks like at a time, only one of the four worker node processes is running and the three others are sleeping. this doesn't fit the pattern i see from running a single worker, which runs at close to 100% CPU most of the time. the machine i'm developing with has four cores, so i'd expect better CPU utilisation. there is no IPC between the master and workers or amongst the workers in my code, they're all entirely independent so i'm having a hard t
13:24 < mz2_> understanding what the bottleneck is caused by.
13:27 < analphabet> mz2_: that's no good. so sorry for you. I wish you good luck.
13:27 < mz2_> analphabet: any pointers at profiling tools that would help sort this?
13:29 < analphabet> mz2_: I'd build a test case, and see if your problem is caused by node or by the way you write your code.
13:29 < analphabet> re profiling tools: I'd google it.
13:31 < analphabet> mz2_: you could also, provide a link to your code and the node version you're running, but that's up to you
14:09 -!- mode/#Node.js [+o piscisaureus_] by ChanServ
14:11 < mz2_> thanks for such sarcasm free, kind answers :)
14:21 < arinel> I'd like to ask for a favor: can someone on a 32 bit machine run 'node -pe process.arch' and show me the output? thanks!
14:21 < therealkoopa> I'm a bit confused about keeping node modules in git. I know it's recommended (Mikeal) for your own private projects, but what about some of the modules such as bcrypt, where it needs to be installed again for each user?
14:21 < superjoe> arinel, or you could just read the docs.
14:21 < superjoe> http://nodejs.org/docs/latest/api/process.html#process_process_arch
14:22 < mikeal> therealkoopa: don't check in deps of modules you publish
14:22 < mikeal> just check in modules that are in your app that you're deploying
14:22 < arinel> superjoe: thanks ;) asking for a favor adds a bit of a human touch to the experience though :)
14:22 < superjoe> arinel, I suppose some people are into that ;)
14:23 < SomeoneWeird> lols.
14:23 < superjoe> mikeal, you're suggesting committing node_modules deps instead of putting them in package.json and using npm install?
14:24 < therealkoopa> mikeal: That's what I'm doing. I have my project, which has a dependency on bcrypt. When I cloned it on another computer, the only way I could get it to work, was to rm -rf node_modules and npm install -d.
14:24 < therealkoopa> superjoe: http://www.mikealrogers.com/posts/nodemodules-in-git.html
14:24 < mikeal> superjoe: for an application you deploy, yes. for a module you publish, no.
14:29 < superjoe> interesting post
14:29 < superjoe> I'll have to ponder over it
14:29 < therealkoopa> Yea, I like the idea of it, I just don't know how to handle special cases like bcrypt.
14:29 < efbeka> hi
14:30 < superjoe> therealkoopa, what's so special about it?
14:30 < efbeka> small question pleaseeeeeeeeee
14:31 < baudehlo> therealkoopa: as the article says, you just run "npm rebuild" on deploy if you have compiled modules.
14:31 < efbeka> someone?
14:31 < therealkoopa> superjoe: Compiled modules.
14:32 < baudehlo> my only question is how do you "npm install" without compiling so you can check in the module?
14:33 < superjoe> therealkoopa, doesn't `npm rebuild` at app deploy time solve that?
14:33 < therealkoopa> superjoe: I don't know, trying it now.
14:34 < efbeka> can someone help meee?
14:34 < therealkoopa> superjoe: Yes, indeed it does. Awesome.
14:34 < baudehlo> efbeka: don't ask to ask. Just ask.
14:34 < efbeka> okay thks, i was looking at this
14:34 < efbeka> http://es5.github.com/#x15.3.4
14:35 < therealkoopa> Although, this is pretty lame. After a rebuild, there is a .lock-wscript file that was changed. I guess just add that to .gitignore?
14:35 < baudehlo> mikeal: if you're checking in node_modules into git, how do you get stuff in there that compiles without compiling it? (i.e. how do I get "npm install" to just download and not compile stuff?)
14:35 < efbeka> baudehlo: the description of Function.prototype and itsnt very clear
14:35 < baudehlo> therealkoopa: just add node_modules to .gitignore *after* adding things.
14:36 < efbeka> for exple why false !== Function.prototype?
14:36 < baudehlo> efbeka: what description?
14:36 < efbeka> here http://es5.github.com/#x15.3.4
14:38 < baudehlo> Well that's the language specification. What's confusing for you? These are very low level issues.
14:39 < baudehlo> If you want to read about usage, not language specifications, use MDN. https://developer.mozilla.org/en-US/docs/JavaScript/Reference/Global_Objects/Function
14:39 < efbeka> baudehlo: why undefined !== Function.prototype? i am confused about the real value of Function.prototype can u explain me this paragraph?
14:40 < baudehlo> No I can't. But if you need to question the language specification the node.js IRC channel is probably not the right place. Why not joint the ES mailing list?
14:41 < efbeka> ill probably go there, but i just wanted a quick answer
14:45 < baudehlo> Why would Function.prototype be undefined?
14:45 < baudehlo> It inherits from Object. It can't be undefined.
14:46 < RLa> hm, about testing, anyone running speller on their files/texts as part of automatic build?
14:47 < therealkoopa> baudehlo: Did you figure out how to do 'npm install' to download but not compile?
14:47 < efbeka> baudehlo, according to what they said its itself a Function object, and its retun undefined
14:47 < baudehlo> efbeka: if you execute it.
14:47 < baudehlo> i.e. if you do: Function.prototype()
14:48 < baudehlo> > Function.prototype();
14:48 < baudehlo> undefined
14:48 < RLa> hm, getting rid of stupid spelling mistakes is pretty nice tho i haven't seen automatic testing guide that would cover using spellers so far
14:48 < cushman> Function.prototype ~= function (){}
14:49 < baudehlo> therealkoopa: nope.
14:50 < superjoe> baudehlo, wtf, no, don't add node_modules to gitignore after adding them
14:50 < therealkoopa> I want: "Please put node_modules non-compiled stuff in git and if I run npm rebuild, ignore everything it changed."
14:51 < baudehlo> superjoe: just looking for a simple solution to @therealkoopa's point here ^^^
14:51 < SomeoneWeird> don't even commit it to git
14:52 < SomeoneWeird> why would you want/need to?
14:52 < superjoe> SomeoneWeird, http://www.mikealrogers.com/posts/nodemodules-in-git.html
14:52 < superjoe> I'm not completely sold, but he raises a good point
14:52 < baudehlo> I've seen these issues crop up, and am ready to do it, just need to work out the compiled module issue.
14:53 < jt2190> Hello... I need some advice on promoting a node.js project night in Boston, MA
14:53 < therealkoopa> Perhaps shrinkwrap is the answer? http://blog.nodejs.org/2012/02/27/managing-node-js-dependencies-with-shrinkwrap/
14:53 < superjoe> baudehlo, what's the issue? besides the fact that you are reluctant to create .gitignore  files?
14:54 < SomeoneWeird> Today there are roughly 5,500 packages in the npm registry. Last month over 600 new packages were pushed and over 5,000 packages were updated. 
14:54 < SomeoneWeird> maths fail
14:54 < baudehlo> superjoe: well the question is, is that the solution - add a bunch of extra .gitignore files for each of your node_modules (and their node_modules, etc)
14:54 < jt2190> if anyone has a recommendation on ways to promote, please DM me
14:54 < baudehlo> jt2190: meetup.com?
14:56 < therealkoopa> Specifically: http://blog.nodejs.org/2012/02/27/managing-node-js-dependencies-with-shrinkwrap/#note2-note
14:56 < jt2190> baudehlo: I'm in contact with the organizers of two meetups here in Boston
14:56 < mikeal> baudehlo: on deploy do $ npm rebuild
14:56 < jt2190> baudhelo: I'll have them post the event, rather than duplicate
14:56 < mikeal> will rebuild your compiled modules
14:57 < mikeal> so checkin the source for the compiled deps, and git ignore the compile targets
14:57 < superjoe> mikeal, having seen the blog post about shrinkwrap, you haven't changed your mind?
14:57 < mikeal> nope
14:57 < mikeal> shrinkwrap is great
14:57 < mikeal> but it doesn't solve a more fundamental problem with managing an application
14:58 < mikeal> dependency code is part of your application, period
14:58 < mikeal> changes to dependency code effect your app
14:58 < mikeal> you want an audit trail that is identical to the code you write for your app
14:58 < mikeal> skrinkwrap doesn't help you use git bisect to find out where bug crept in
14:59 < mikeal> shrinkwrap solves some deployment issues if you don't checkin deps, but there just isn't any reason *not* to checkin deps
14:59 < baudehlo> mikeal: so the process would be: edit package.json to include deps, npm install, create .gitignore files to ignore the binary parts (manually) and then git add -A ?
14:59 < mikeal> yeah
14:59 < efbeka> cushman: ure right, thks
14:59 < mikeal> actually
14:59 < mikeal> no
15:00 < mikeal> mkdir node_modules
15:00 < mikeal> npm install blah
15:00 < mikeal> then, in package.json, use bundleDependencies
15:00 < baudehlo> oh so you don't use package.json?
15:00 < mikeal> or else nodejitsu will just ignore the fact that you checked them in
15:00 < efbeka> baudehlo: my output of Function.prototype.toString() is 'function Empty() {}'
15:00 < mikeal> bundleDependencies is in package.json :)
15:00 < baudehlo> Oh I'm not on nodejistu and never will be :)
15:00 < therealkoopa> mikeal: I'm totally cool with doing a npm rebuild on deploy. But what about two devs sharing the code base, and each needing the compiled stuff? I just did a npm rebuild and I have almost a hundred changes in git for all types of files, including package.json of one of the modules (Bizarre).
15:00 < SomeoneWeird> $ node -pe "Function.prototype.toString()"
15:00 < SomeoneWeird> function Empty() {}
15:01 < mikeal> http://package.json.jit.su/
15:01 < mikeal> therealkoopa: what compiled dep is this?
15:01 < baudehlo> I have bcrypt and pg
15:02 < therealkoopa> I ran npm rebuild and aw2js/node_modules/mime-magic/package.json changed
15:02 < mikeal> and the changes aren't all in one folder you can just gitignore?
15:02 < SomeoneWeird> ^^ this is why imo its a bad idea
15:02 < SomeoneWeird> too much can change
15:02 < therealkoopa> Also libxml_to-js
15:02 < SomeoneWeird> and its too much of a pain
15:02 < therealkoopa> And others...
15:02 < mikeal> this is why i avoid compiled deps :)
15:02 < therealkoopa> And other silly things
15:02 < therealkoopa> defaultKeys.json
15:03 < therealkoopa> If it wsa just *.o, etc., then it's perfectly fine, but I think way too much changes.
15:04 < mikeal> these compiled deps sound pretty dirty :)
15:05 < therealkoopa> mikeal: Yea, they are filthy
15:05 < mikeal> if they are writing things to multiple directories and mutating package.json
15:05 < therealkoopa> But I don't know what to do if I'm just depending on aws2js and it is using all this other garbage.
15:06 < mikeal> well, you could just bundle the rest
15:06 < mikeal> and give up on aws2js
15:07 < mikeal> checking deps in to git is a good practice, but it's so painful for this one dep, just make an exception
15:07 < mikeal> no reason to be dogmatic about it
15:18 < MI6> joyent/libuv: Bert Belder v0.8 * b0c1a38 : windows: fix handle leak in uv_fs_utime (+1 more commits) - http://git.io/R1_ZZA
15:20 < aaronfay> Good morning
15:23 < th3d0g> Hello all - I have a quick question...
15:24 < th3d0g> I'm using Ubuntu, and I've downloaded and installed Node 0.8 by downloaded the tar, config and then make. But when I run node at command line, it appears to be version 0.6 - how do I ensure it's using the latest version?
15:27 < justicefries> mscdex: hey, I sent a pull request into mariasql. There's a bug in Client.prototype._ping where it's using an undefined self.
15:28 < thl0> th3d0g: try 'which node' and then ls -la that path to see which version it points to
15:28 < th3d0g> ok, thanks I'll try that
15:34 < MI6> joyent/node: Bert Belder v0.8 * 87518f1 : uv: upgrade to b0c1a38 - http://git.io/E9VJ4Q
15:42 < hellopat> is there any way to get the file creation timestamp using fs module?
15:42 < RLa> see fs.stat
15:43 < hellopat> thanks :D
15:43 < RLa> np :)
15:51 < niggler> is there a variable that is only set by node?
15:51 < niggler> and i dont mean fs/require
15:51 < niggler> something like "node" or some other way that i can test if the script is being run in node
15:52 <@konobi> eh?
15:52 < niggler> there are fun macros with most C compilers
15:53 < niggler> like __APPLE__ or __WIN32__
15:53 < tuhoojabotti> process object has some stuff
15:53 < chrisjaure> niggler: process.versions.node maybe
15:53 < tuhoojabotti> yeah
15:54 < niggler> ooh process.version
15:54 < niggler> and process.versions.node
15:54 < niggler> wait what's the difference
15:54 < tuhoojabotti> none
15:54 < cushman> though there's no reason you couldn't set that in any environment
15:54 <@mbalho> niggler: typeof exports === "object"
15:55 < cushman> process.version starts with a 'v'
15:55 < tuhoojabotti> oh
15:55 < niggler> cushman: its unlikely that i'd set that in a browser script :)
15:55 <@konobi> niggler: from JS space?
15:55 < niggler> the problem is that i have a set of scripts i want to run both in node and in the browser
15:56 < niggler> so i do some magic to get exports and fs to work right
15:56 < niggler> in the browser, to generate a file and present a download
15:56 <@konobi> if(!defined(document))
15:56 < cushman> mbalho: that seems riskier than process, one might implement an `exports` in the browser for compatibility 
15:56 < chrisjaure> niggler: mbalho showed the way most scripts do it
15:56 < niggler> oh duh konobi of course document isnt defined in node
15:57 < niggler> lol chrisjaure i ended up putting some ajax together to fake a 'require' by faking exports
15:58 < chrisjaure> nice
15:58 < niggler> so checking for exports doesnt work, but definitely 'document' will work :)
15:59 < cushman> until you start playing with a server-side DOM, anyway ;P
15:59 <@konobi> or couch
16:00 < nathan7> niggler: Browserify!
16:18 < shanebo> hey guys, does URL (http://nodejs.org/api/url.html#url_url) remove the trailing slash on pathname?
16:19 < superjoe> niggler, https://github.com/superjoe30/chem/blob/master/src/shared/chem/vec2d.co#L1
16:20 < superjoe> niggler, compiles to: http://satyr.github.com/cup/#c:_exports%20=%20exports%20?%20window@@Chem%0A_exports.Vec2d%20=%20class%20Vec2d%0A%20%20...
16:33 <@isaacs> hellopat: "creation time" isn't actually tracked in posix file systems.  so, no.
16:33 <@isaacs> hellopat: there's "ctime" which is the "change time". 
16:34 <@isaacs> hellopat: that updates every time the file properties are updated (ie, any read, utimes, chmod, chowm, or write)
16:34 <@isaacs> hellopat: and there's atime = "access time", and mtime = "modified time"
16:34 <@isaacs> hellopat: but the creation time?  nope.  that's lost to history.
16:34 < hellopat> isaacs: gotcha. if I have a file uploaded via FTP that I know for sure won't be modified by anything other than FTP itself, which property from stats is the best one to use?
16:34 < hellopat> mtime?
16:40 < superjoe> hellopat, mtime.
16:40 <@isaacs> hellopat: mtime tracks the contents
16:40 <@isaacs> hellopat: atime tracks reads of the contents
16:41 <@isaacs> hellopat: ctime tracks any change to any flags (including mtime or atime)
16:41 < hellopat> understood
16:41 <@isaacs> hellopat: note that mtime and atime can be explicitly set by the utimes call
16:41 <@isaacs> but ctime is always the last time that file was interacted with in any way whatsoever, other than just reading properties.
16:42 < hellopat> Great.  Thanks for the info!
16:47 < Raynos> Anyone want to recommend a good mock require mechanism?
16:50 < superjoe> Raynos, can you explain what you're trying to accomplish?
16:50 < Raynos> unit testing a module
16:50 < Raynos> that requires another module
16:50 < Raynos> that hits the db
16:50 < Raynos> so I want to load that module but swap out one of its dependencies so that it doesnt hit the database
16:51 < dax_roc> How would I send SUB to a serial console?
16:53 < christophsturm> is it possible to decrease the tick duration for node --prof ?
16:54 < dax_roc> *^Z, I'm not sure how to forward the CTRL+Z to a serail-console I have opened.
17:00 < shlevy> If I pipe a stream into an ClientRequest, it will end() the request at the end of the stream, right?
17:03 < superjoe> Raynos, maybe you can make your module's requirement injectable
17:03 < superjoe> Raynos, so that when you're testing, you send in a mock other module for it to use
17:03 < Raynos> superjoe: thats what I want. I think ill use proxyquire
17:18 < KingKaeru_away_> with async.foreach, it will run each item of the array against an iterator function.  the callback will be called immediately if any of the items passes err to the callback.  is there an async function that is the opposite of foreach?
17:18 < KingKaeru_away_> as in an iterator will run against all items in an array and continue successfully if a successful condition is found on a single item in the array
17:19 < KingKaeru_away_> i *could* use the err condition as my "success" test but was wondering if there was a better way of doing things
17:32 < test_> sup people
17:41 < lucariello> terminator
17:58 < vicapow>  /join #nerdtracker 
17:58 < Sven_vB> does anyone have github-independent copy of the node-async manual?
17:58 < vicapow> damn...
18:03 < aandy> hi. anyone who've used rss push (pubsubhubbup)? following the spec works fine for blogspot (appspot) feeds, but while tumblr's hub acknowledges the subscription, updates aren't pushed. wondering if it's a hub issue or my issue. anyone used it in regards to tumblr?
18:10 < aandy> hmm, seems to be an async issue. sync worked. http://superfeedr.com/documentation#pubsubhubbub if anyone else is interested
18:32 < enjalot> anyone here use restify to make a rest api with node?
18:32 < enjalot> i'm wondering what the best practice is for specifying date ranges (1 or more ranges) in a rest call
18:42 < shlevy> Hi. I'm doing many concurrent http requests with a small socket pool, so many of the requests block until the socket is available. Sometimes, the socket emits 'end' without having emitted 'error' first, when I haven't closed it myself. What could cause this?
18:43 < shlevy> Oh, never mind, I see
18:51 < durango> How do I manually overwrite the tmp dir?
18:51 < durango> err the tmp variable
18:54 < EhevuTov> does node-tap include itself as a test? I'm running only 1 plan, yet I have 2 of 2 tests succeeding
18:55 < aandy> ah, no wonder rss push never took off. douchebag tumblr charges money for every notification. i thought we were doing this to spam tumblr less.. i can pull every minute from the feeds for free, but when i only take bw 1x when a new blog post is added, i pay. "do the math" the docs say. well i did. infinity * 0 < 1 * sum_notifications
18:56 < thl0> EhevuTov: if you have a nested test function that itself counts as a test for the outer function (where your t.plan is)
18:57 < EhevuTov> hold on to whoever just answered me. my IRC screen buffer is wacky and I can't read your reply, but I got a notification saying someone did...
18:57 < thl0> EhevuTov: if you have a nested test function that itself counts as a test for the outer function (where your t.plan is) <-- again
18:58 < EhevuTov> thl0, ok that's what I assumed, but wasn't sure. Thanks!
18:58 < EhevuTov> I like that feature
18:58 < EhevuTov> tap is really nice
18:59 < thl0> well actually it is odd since it gives you a higher test count than you have
18:59 < EhevuTov> (first time using it for like?10 years)
18:59 < thl0> but agredd, for async tests tap is the best
18:59 < EhevuTov> thl0, yeah, I thought it was odd too, but kind of nice :-)
19:04 < durango> how can I input variables into process.env but not through javascript?
19:07 < gkatsev> export FOO="this will be available in process.env.FOO"
19:15 < aalex-sat> Hello. In a C++ addon, how can store persistently a JavaScript callback received as an argument?
19:20 < durango> if the full path is 777 chmod'ed why the hell do I still get "{ [Error: EACCES, mkdir " ?
19:38 < Sven_vB> does somebody know a utility library that allows me to defer tasks using something like .later(this, 'methodName', arg1, arg2) instead of .later(this.methodName.bind(this), arg1, arg2), without the double occurence of "this"?
19:58 < therealkoopa> substack: shoe would be a good module to use to stream redis monitor (redis-stream) back to the browser, right?
20:00 < Acionyx> Hi all! Need help with handling POST request - here is client code(browser) http://pastebin.com/Uv7i4T0j
20:00 < Acionyx> i'm running my server on local machine and sending request to external ip(same machine, but only external ip, not 127.0.0.1) and its coming to server after 30second-2minutes, why so slow??
20:08 < Acionyx> Hi all! Need help with handling POST request - here is client code(browser) http://pastebin.com/Uv7i4T0j
20:08 < Acionyx> i'm running my server on local machine and sending request to external ip(same machine, but only external ip, not 127.0.0.1) and its coming to server after 30second-2minutes, why so slow??
20:09 < shlevy> When a socket managed by https.globalAgent is closed or reset, does the agent still try to reuse it for the next request in the queue?
20:11 < shlevy> Ah, only on close()
20:11 < shlevy> OK
20:18 < timeturner> anyone have experience with search algorithms
20:18 < jnpetersen> I'm trying to create an image on the fly and have it display without saving down to a file.  Any suggestions on how to accomplish this?
20:19 <@mbalho> use RAM
20:20 < jnpetersen> can you explain mbalho?
20:20 < shanimal> jnpetersen http://en.wikipedia.org/wiki/Data_URI_scheme
20:21 < jnpetersen> so basically taking the image and display it in base64, is that what your saying?
20:21 < shanimal> <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUA
20:21 < shanimal> AAAFCAYAAACNbyblAAAAHElEQVQI12P4//8/w38GIAXDIBKE0DHxgljNBAAO
20:21 < shanimal> 9TXL0Y4OHwAAAABJRU5ErkJggg==" alt="Red dot">
20:23 < shanimal> there's a list of examples near the bottom of the wiki
20:24 < monokrome> Hey. Does anyone know how to tell where NPM is installing my packages? It's apparently not in my PATH.
20:24 <@mbalho> monokrome: in the node repl type require.resolve('somepackagename') and it will show you the path
20:25 < monokrome> node can't find it
20:25 < jmoyers> monokrome are you using vanilla npm install?
20:25 < monokrome> yes
20:25 < monokrome> It's installed globally.
20:25 < jmoyers> because if so, its just in ./node_modules
20:25 < jmoyers> oh
20:25 < jmoyers> thats different ;-)
20:25 < monokrome> Yeah, I know.
20:25 < monokrome> :)
20:26 < monokrome> I usually install coffee, stylus, jade, and brunch globally
20:26 < jmoyers> on macos
20:26 < jmoyers> for me
20:26 < monokrome> as well as locally in the projects using them
20:26 < jmoyers> its in /usr/local/lib/node_modules
20:26 < jmoyers> cant remember if i customized that somehow
20:27 < monokrome> That's where I thought that it would be, but it isn't.
20:27 < monokrome> I'll try to install it again. Maybe it failed.
20:27 < monokrome> Nope. Just npm is in that directory.
20:27 < monokrome> found it in /usr/local/share/npm/lib/node_modules/
20:28 < monokrome> npm tells you where it installed it
20:29 < monokrome> but that directory doesn't have .bin inside of it
20:29 < monokrome> what? :(
20:29 < monokrome> Weird. It puts the binaries in /usr/local/share/npm/bin/ now.
20:30 < jmoyers> there is a 'prefix' somewhere
20:30 < jmoyers> per docs
20:30 < jmoyers> not sure where it pulls it from
20:31 < monokrome> The new locations make more sense
20:31 < monokrome> well, no they don't.
20:31 < monokrome> hmm
20:32 < jnpetersen> what would be a good module for creating an image on the fly and getting the base64 data back from it?
20:33 < MI6> joyent/node: Nathan Rajlich master * 07774e6 : util: make `inspect()` accept an "options" argument  Consolidates all the - http://git.io/y3Shwg
20:34 < jmoyers> jnpetersen what kind of image are you creating?
20:34 < jmoyers> jnpetersen formats etc
20:35 < jmoyers> jnpetersen imagemagick/node does a bunch of stuff. crop, resize, convert
20:35 < jmoyers> base64 encode was built in perhaps? last time i looked i think
20:35 < jnpetersen> ok, I'll take a look
20:35 < jnpetersen> I am just wanting to create png files
20:36 < jnpetersen> that I can pass a certain dimensions and text to it and it will generate it
20:36 < jmoyers> node-gm is another to look at
20:36 < jmoyers> has a fluent api
20:37 < jmoyers> as has a .drawText method
20:37 < shanimal> nice
20:37 < electricsheep_> .
20:38 < jnpetersen> awesome, thanks, and I see it has a stream output, I'll look into it, thanks
20:38 < electricsheep_> can anyone suggest a good node.js tutorial for beginners? i'm decent with java but not much javascript. thank you.
20:39 < aandy> electricsheep_: off of Nexxy read http://callbackhell.com/ first. i think that'll save you some trouble when switching to javascript
20:40 < electricsheep_> thanks aandy!
20:40 < jmoyers> howtonode.org has a bunch of semi outdated stuff
20:40 < aandy> it's one of those things that can puzzle newcomers. but it's not node specific. it's just a heads up
20:40 < jmoyers> tim caswells thing
20:40 < jmoyers> though literally DONT even read the process.nextTick thing
20:40 < jmoyers> garbage town usa
20:41 < Chriffer> spend 3 minutes turning the socket.io basic example into some toy website, really simple, and can do some neat stuff with no effort.  It's all eventy so gets you in a good mindset
20:41 < aandy> electricsheep_: i'd advise that you take a look at some expressjs tutorial, as that'll introduce you to "middleware" (don't worry, you'll learn what that is), and more of the common design "standards" in node
20:41 < electricsheep_> ok, chriffer i will try that! 
20:43 < aandy> another js specific thing, is scope, namely "this", which is a bit different from other languages. http://javascriptplayground.com/blog/2012/04/javascript-variable-scope-this
20:43 <@mbalho> electricsheep_: http://blog.mixu.net/2011/02/01/understanding-the-node-js-event-loop/ http://jsforcats.com http://nikhilm.github.com/uvbook/ http://docs.nodejitsu.com/ http://nodejs.org/api/
20:43 < ralphtheninja> sup? trying to do a http CONNECT with e.g. curl -X connect host:port, but the 'connect' event doesnt fire on the server, any ideas?
20:44 < jmoyers> holy shit
20:44 < jmoyers> i've never seen this libuv book
20:44 -!- mode/#Node.js [+o piscisaureus_] by ChanServ
20:44 < jmoyers> always been interested since the screencast ryan did live coding a web server
20:44 < aandy> http://www.codethinked.com/preparing-yourself-for-modern-javascript-development seems like a nice intro to common patterns aswel
20:45 <@mbalho> electricsheep_: node is useful for lots of things that arent web app servers, it just also happens to be possible to write web app servers with it. so make sure to not just learn web app dev because most web frameworks in node are their own thing
20:46 < aandy> and then of course: http://shichuan.github.com/javascript-patterns/ :)
20:46 < jmoyers> i very much hate the 'module' pattern
20:46 < jmoyers> also, they should start out the 'namespace' section with "you probably won't need deeply nested namespacing ever"
20:47 < aandy> jmoyers: isn't that part of the module pattern though?
20:47 < aandy> to not do deeply nested namespacing
20:47 < jmoyers> no look, he says
20:47 < jmoyers> MyApp.MyModule.MySubModule.doSomething();
20:47 < jmoyers> even having that
20:48 < ppppaul> using exec in nodejs a good idea?
20:48 < aandy> which link, jmoyers ?
20:48 < jmoyers> codethinked
20:48 <@mbalho> ppppaul: it exists for reasons
20:48 < jmoyers> exec is nice
20:48 < jmoyers> shelling out to things is not bad
20:49 < jmoyers> if you control the environment
20:49 < jmoyers> unless its something big and complicated like tar imo
20:49 < aandy> jmoyers: right, i agree. i was looking at "classes" and anonymous functions. might not be the best intro
20:50 < jmoyers> anon functions, good, prototypes good
20:50 < jmoyers> i like something that is girded in 'this is the opinion of some' and 'here is another way to do it' and 'some people don't like this because'
20:50 < ppppaul> does exec('cd') work?
20:50 < aandy> the purpose of tutorials are more about teaching what is, not necessarily "you have to do it like this"
20:50 < aandy> jmoyers: right, exactly
20:51 < jmoyers> ppppaul you are looking for process.chdir
20:51 < jchannon> is node-inspector still under active development, the github repo was last touched 4 months ago and there is a lot of outstanding issues
20:52 < astropirate> Question to the folks that are using Node in production:
20:52 < astropirate> do you have QA people?
20:52 < jmoyers> jchannon thats kind of your answer, no?
20:52 < jmoyers> its on again off again
20:53 < jmoyers> i find it works for most simple things
20:53 < jmoyers> astropirate yes, i have qa people
20:53 < astropirate> jmoyers, what exactly do they do?
20:54 < astropirate> do they write unit tests?
20:54 < jchannon> jmoyers: thanks, is there something more current
20:54 < jchannon> i assume not
20:54 < jmoyers> my developers write unit tests
20:54 < jmoyers> i have people doing integration testing and end to end selenium type stuff
20:54 < astropirate> ahh
20:54 < astropirate> ok
20:54 < jesusabdullah> your developers TELL you they're writing unit tests <_<;
20:54 < astropirate> lol
20:54 < jmoyers> jchannon im not entirely sure, but i doubt it. its a hard problem to solve
20:55 < jchannon> shouldnt the node folks take it on or provide one themselves?
20:55 < jmoyers> well, its an open source project
20:55 < jmoyers> you could fork it :-)
20:55 <@mbalho> ive been waiting for the node folks to start giving me free burritos
20:55 < jmoyers> and no, i think many people get by with whats there. there are lots of problems to solve
20:56 < jmoyers> me too, where's the fucking taco truck!
20:56 < ppppaul> when i'm in the node reply '__dirname' is not defined
20:56 <@mbalho> there is a pretty tasty one that parks outside joyents offices actually
20:56 < ppppaul> repl*
20:56 <@mbalho> it has a curry burrito
20:56 < jmoyers> that sounds like a hot mess
20:56 < jmoyers> give a taco any day
20:56 <@mbalho> yea its crazy messy
20:57 <@mbalho> jmoyers: as curator of tacoconf i agree with that statement
20:57 <@mbalho> jmoyers: but there is also a time and place for a burrito
20:57 < jmoyers> so sreepy
20:57 < jchannon> is there a way to use chrome's developer tools without Eclipse?
20:57 < jmoyers> if you eat a burrito, your day is shot
20:57 < jmoyers> so basically: only on the weekends
20:57 <@mbalho> burrito + espresso at noon means extreme productivity for me
20:57 <@mbalho> because you get to skip dinner
20:58 <@mbalho> and code for like 12 hours
20:58 < jmoyers> i guess thats a power combo
20:58 < Chriffer> jchannon: One of the nodeup podcasts went into a lot of the testing stuff
20:59 < jmoyers> jchannon what does that mean, chromes developer tools without eclipse?
20:59 < jmoyers> chromes developer tools -- if you are talking about web inspector
20:59 < jmoyers> is just built into chrome
21:00 < jchannon> jmoyers: debug node apps without needing a Eclipse plugin, goes straight to chrome
21:00 < jmoyers> yeah dude, you totally can
21:00 < jmoyers> eclipse is secondary
21:00 < jmoyers> you use web inspector and you can inspect values, set breakpoints
21:00 < jchannon> with server side node apps?
21:00 < jmoyers> yea! node-inspector lets you connect
21:00 < jmoyers> thats the point
21:01 < jmoyers> its a little server that uses the webkit protocol
21:01 < jmoyers> lets you use the interactive debugger right in a browser instance
21:01 < jchannon> i thought node-inspector provided the GUI as well?
21:01 < jmoyers> noooo
21:01 < jchannon> ahhh ok
21:01 < jchannon> cool
21:01 < jmoyers> number TWO on their readme: "open http://127.0.0.1:8080/debug?port=5858 in your favorite WebKit based browser"
21:01 < jmoyers> boom, its amazing
21:01 < jchannon> did think they did a good job of copying the UI :)
21:01 < jmoyers> haha
21:02 < jmoyers> there is some whacky shit you can do if you're on solaris
21:02 < jchannon> in that case i'm not sure where my issue is at
21:02 < jmoyers> slash smartoss
21:02 < jmoyers> with performance and so on
21:02 < jmoyers> since v8's profiler is a little....
21:02 < jchannon> when i debug i never see app.js in the root of my project
21:02 < jmoyers> obtuse.
21:03 < jchannon> guess its not a huge deal
21:03 < jchannon> if i use node --debug your/node/program.js
21:03 < jchannon> i see script files in subfolders but not root scripts
21:03 < jchannon> but i do if i use
21:03 < jmoyers> ah
21:04 < jmoyers> yeah im sure it has no notion of root
21:04 < jmoyers> its assuming you are running out of the root/index
21:04 < jchannon> node --debug-brk your/node/program.js
21:04 < jchannon> jmoyers: hmm ok
21:04 < jmoyers> im sure you could get around it
21:04 < jmoyers> by doing something gross
21:05 < jchannon> just wondered why I couldnt see the app.js with all the express setup when using --debug
21:05 < jmoyers> index.js = require('your/node/program.js')
21:05 < jchannon> i can use —debug-brk to see it
21:05 < jmoyers> err...
21:06 < jchannon> a side note, does it have to be called index.js
21:06 < jmoyers> if you see it with debug-brk, you should see it no matter what
21:06 < jmoyers> there is a field in package.json
21:06 < jmoyers> called "main"
21:06 < jmoyers> you can call it whatever you want
21:06 < jchannon> its not in mine
21:06 < jmoyers> its common to see index.js though
21:06 < jmoyers> heh, thats because you customize your package.json ;-)!
21:06 < jchannon> but maybe i should add it and remember I can change it :)
21:07 < jchannon> jmoyers: lol, thanks ;)
21:07 < matbee> y0w
21:08 < jchannon> jmoyers: weird just added it but put app.js as the main and i still dont see it
21:09 < jchannon>  "main":"app.js",
21:09 < MI6> joyent/node: Ben Noordhuis master * e15f226 : Update AUTHORS and .mailmap - http://git.io/_mR6Gg
21:09 < jmoyers> so when you start node
21:09 < jmoyers> what command are you running
21:09 < jchannon> node app.js
21:10 < jmoyers> err i assume node --debug ;-)?
21:10 < jchannon> sorry
21:10 < jchannon> node —debug app.js
21:10 < jmoyers> sec let me look
21:11 < jmoyers> so
21:11 < jmoyers> when you go into webkit
21:11 < jmoyers> you see the list of files in tabs along the top?
21:11 < jmoyers> my main shows up in the list
21:11 < jmoyers> its certainly not full
21:12 < jchannon> Screen Shot 2012-10-10 at 22.09.54.png
21:12 < jchannon> bugger
21:12 < jchannon> imgur down
21:12 < MI6> joyent/node: Ben Noordhuis master * bdf3c82 : Update AUTHORS and .mailmap - http://git.io/mnSSaA
21:13 < jmoyers> well so
21:13 < jmoyers> there is a little arrow on the top of the main source browser on the far right
21:13 < jmoyers> right next to watch expressions and the pause button
21:13 < jmoyers> you should have a drop down of all available source
21:15 < jchannon> nope, no dropdown :(
21:15 < shanimal> you might need http://www.webkit.org/building/tools.html ?
21:16 < jmoyers> jchannon so, how about the tab on the far left --
21:16 < jmoyers> if you open that and drag that out
21:16 < MI6> joyent/node: Ben Noordhuis master * e3ee289 : Update AUTHORS and .mailmap - http://git.io/db5Klg
21:16 < jmoyers> it should have all the source files in your whole tree
21:16 < jmoyers> if not, im out of ideas for ya ;-)
21:17 < jchannon> http://minus.com/lbqvXBzLDRhzQF
21:17 < jchannon> i have all the files on the left, accept app.js is not there
21:17 < jchannon> *except
21:18 < jmoyers> jchannon mine shows absolute paths
21:18 < jmoyers> the list at the bottom only has node core modules in it for me
21:18 < jchannon> is main a path or file name
21:18 < jmoyers> app.js lives at the top of the list in the UI for me
21:19 < jchannon> in package.json
21:19 < jmoyers> path
21:19 < jmoyers> + filename
21:19 < jmoyers> main shouldnt matter for this
21:19 < jmoyers> if you are running the file
21:19 < jmoyers> it should show up
21:19 < jchannon> well the file just sets up the http server and routes
21:20 < jmoyers> so?
21:20 < jmoyers> mine too
21:20 < jchannon> when i hit localhost/test it debugs the route js file
21:20 < jchannon> i just dont see app.js anywhere
21:21 < jchannon> http://i.minus.com/ifpp7OSjJ1FkK.png
21:22 < jmoyers> and you say you are running node --debug app.js?
21:22 < jmoyers> not some test script or something
21:23 < jchannon> i'm using nodemon —debug app.js
21:23 < jchannon> i tried with just node —debug app.js
21:23 < jchannon> both dont show
21:23 < jmoyers> hmm
21:23 < jmoyers> seems like a bug, i guess
21:23 < jmoyers> never seen it myself
21:23 < jchannon> get the same in that screenshot i just posted
21:24 < jchannon> wonder how yours shows absolute paths
21:24 < jmoyers> yours is too
21:24 < jmoyers> for the directories -- thats what i meant
21:24 < jchannon> oh
21:25 < jchannon> here's what i have on the right
21:25 < jchannon> http://i.minus.com/ixP0L49EY03CX.png
21:27 < emilsedgh> i use FileReader api to read a file as binaryString, then websocket (socket.io) to transfer it to server. it works fine, except that i think it takes a bit longer than a normal http post call. anyone has any suggestions that how can i put this feeling into numbers?
21:27 < emilsedgh> how can i benchmark it, for example.
21:32 < jchannon> jmoyers: i'm having no luck, will stick with the —debug-brk option :(
21:32 < Antaranian> hi ladies
21:33 < Antaranian> which lib you'll advice to use as http proxy to transfer REST queries to remote server
21:33 < Antaranian> ?
21:34 < Antaranian> just want to work on front-end part of my app on local machine
21:35 < jmoyers> and you cant connect locally because… ?
21:35 < Antaranian> same origin policy
21:35 < jmoyers> in that case, node-http-proxy
21:36 < Antaranian> it handles all http headers and data out of box ?
21:36 < jmoyers> take a look https://github.com/nodejitsu/node-http-proxy
21:36 < jmoyers> maintained by nodejitsu
21:37 < Antaranian> yes, looking
21:37 < jchannon> see you later fellas
21:37 < jesusabdullah> I'm using it for http://github.com/jesusabdullah/my-little-proxy
21:37 < jesusabdullah> :)
21:37 < jmoyers> haha
21:37 < jmoyers> don't you like… work for nodejitsu?
21:38 < jesusabdullah> MAYBE
21:38 < Antaranian> <3 mlp <3 
21:38 < purr> Let it be known that Antaranian hearts mlp <3.
21:38 < Antaranian> :D
21:38 < jmoyers> well your terminal art is way better ;-)
21:38 < jesusabdullah> http-proxy lets you build proxy servers
21:38 < jesusabdullah> mlp adds sugar for writing small in-memory proxies
21:40 < Antaranian> yes, all I need is to forward all requests to a host:port and get response in callback with headers
21:41 < Antaranian> so I;ll go with mlp for <3 :) 
21:41 < Antaranian> jmoyers: jesusabdullah: thanks, guys
21:41 < MI6> joyent/node: Nathan Rajlich master * 4eb5399 : util: add a "customInspect" option to `util.inspect()`  For disabling cal - http://git.io/zGUw3A
21:43 < niggler> any good static file server with directory listing?
21:44 < jmoyers> connect has a directory listing middleware, or it did
21:44 < jmoyers> a long time ago
21:45 < niggler> hehe is there a php in node? 
21:45 < jmoyers> my god
21:45 < jmoyers> the answer is yes, but thats the dumbest thing ever
21:47 < Antaranian> jmoyers: as I know connect still has it, as Express uses it
21:49 < danny_> test
21:58 < Antaranian> jesusabdullah: does you <3 thing support redirections ?
21:58 < dragon> In node-http-proxy, what's the best way to createServer() to add a mapping after calling listen()?
22:01 < niallo> anybody have a multi-core linux machine running node 0.8.11 on which they could try this test program: https://github.com/joyent/node/issues/4112 ? 
22:03 < Antaranian> niallo: Ubuntu 12.04 on 64bit quad-core proc machine, test it ? 
22:04 < niallo> Antaranian: sure, lmk if the assertion is triggered, thx
22:05 < niallo> oh looks like it was my bad
22:05 < niallo> they closed the bug already :)
22:05 < Antaranian> ok
22:06 < ChrisPartridge> naughty niallo didn't read the docs ;)
22:08 < niallo> shouldn't the examples at http://nodejs.org/api/child_process.html#child_process_child_process_spawn_command_args_options be updated to use 'close' instead of 'exit' ?
22:10 < niallo> if i was dumb enough to make this mistake i'm sure others will too :)
22:11 < ChrisPartridge> niallo: the docs also state a Buffer is returned, but it's simply a string :)
22:12 < Leo_> Hello, i got a code that need's to make http requests. Thing is i need to keep track of what request im getting the callback off. Does anybody know how to acomplish this? Example of callback function(res, req.id) {
22:13 < niallo> ChrisPartridge: :-/ i just assumed string for better or worse !
22:15 < bnoordhuis> Leo_: you mean with http.get() or http.request()? the callback runs in the context of the request, i.e. this == req
22:15 < Leo_> http.request()
22:16 < Leo_> let me get a paste of the code.
22:19 < Leo_> http://pastebin.com/WXvbpzzB
22:45 < euoia> I'm a bit stuck on what style of exception handling to use, and at what point in the stack to try to catch errors, in my web application - are there any writeups on this topic?
22:46 < euoia> during development, I have found a few times that a syntax error or something errors without a trace
22:46 < euoia> which is clearly a problem with my approach
22:48 < othiym23> euoia: exceptions are hard in Node
22:48 < astropirate> othiym23, howcome?
22:48 < astropirate> dont they buble up the callstack?
22:48 < euoia> othiym23: most of the time I just see errors being thrown all the way to the top
22:48 < xp_prg> hi all I downloaded node.js just now
22:48 < othiym23> if you're just getting started and using Node 0.8+, take a look at http://nodejs.org/api/domain.html
22:48 < xp_prg> I heard I could use it to run a simple js file from the command line, can someone tell me how?
22:49 < othiym23> astropirate: most of the time, "bubbling up the callstack" ends at process.nextTick or EventEmitter.emit if you're in an async process
22:49 < euoia> othiym23: reading about them now
22:49 < euoia> othiym23: thanks
22:49 < othiym23> also, errors can be signaled either through async calls (where the convention is the first param of the callback is an error, if it exists), throwing errors, or emitting error events
22:50 < othiym23> and throwing is almost always the wrong thing to do in asynchronous code
22:50 < othiym23> I think that's why Fedor Indutny's Candor doesn't even have exceptions
22:51 < MI6> joyent/node: bnoordhuis created branch buffer-retained-size - http://git.io/EjlpcA
22:51 < othiym23> xp_prg: once it's installed, you can just run "node program.js", but you should probably read up on how to use modules in Node
22:52 < astropirate> othiym23, lets say we have a websverer, there is request hadnler if myou do a catch statement there
22:52 < astropirate> any exceptions caused during the request handling will be caught there
22:52 < xp_prg> how do I print to standard out with node please?
22:52 < othiym23> xp_prg: this is a good roundup of places to start from http://stackoverflow.com/questions/2353818/how-do-i-get-started-with-node-js
22:52 < othiym23> astropirate: only if you don't do any asynchronous calls from the request handler
22:53 < nathan7> xp_prg: console.log
22:53 < xp_prg> can you give me your opinion about typescript?
22:53 < othiym23> if you, say, make a call out to mongodb or MySQL, and your callback throws, it won't be caught in the request handler
22:53 < nathan7> I dislike TypeScript. It drops all the flexibility of JS.
22:54 < nathan7> It is reduced to.. some kind of C#
22:54 < othiym23> xp_prg: TypeScript has some interesting ideas, but its reliance on classical inheritance makes it awkward to use for a lot of things
22:54 < xp_prg> I hate normal javascript :(
22:54 < xp_prg> maybe I am just dumb
22:54 < aandy> either that or you joined the wrong chan ;)
22:54 < othiym23> if you hate normal JavaScript, CoffeeScript is more likely to be fun to use than TypeScript
22:55 < nathan7> CoffeeScript is write-only
22:55 < othiym23> but you're probably better off trying to get more comfortable with plain JS
22:55 < xp_prg> what does that mean nathan 1 of 7 ?
22:55 < nathan7> CoffeeScript is unreadable.
22:55 < aandy> that's not a fair statement
22:56 < othiym23> CoffeeScript is quirky
22:56 < aandy> proper coffeescript is readable, just as proper javascript is
22:56 < nathan7> I, and many other people, consider it unreadable.
22:56 < xp_prg> can I write a js program that uses like canvas that I can run from the command line of linux somehow?
22:56 < aandy> and vice versa for improper
22:56 < othiym23> it's designed to be comfortable for Python or Ruby hackers, so it borrows conventions from them
22:56 < euoia> from hackernews http://ceronman.com/2012/09/17/coffeescript-less-typing-bad-readability/
22:56 < othiym23> but some of those conventions don't adapt well to JavaScript
22:56 < nathan7> xp_prg: Try AppJS if you want to do HTML apps
22:57 < othiym23> e.g. how you can omit the parentheses for function calls with parameters, but have to includee the parentheses if there aren't any params
22:57 < nathan7> hm
22:57 < nathan7> I always use parentheses even in Python
22:57 < othiym23> which is unavoidable given JS's syntax rules, but never stops seeming clown shoes to me
22:57 < othiym23> euoia: if you are using Hacker News as your source of truth, something has gone badly wrong
22:58 < euoia> othiym23: agreed, I just thought I'd throw it in there since it was discussed recently
22:58 < nathan7> CoffeeScript does too much implicit shit
22:58 < nathan7> I like my var keyword
22:58 < othiym23> xp_prg: if you just want a scriptable browser, take a look at PhantomJS
22:58 < qmx> nathan7: I like vanilla js
22:58 < qmx> :)
22:58 < CoverSlide> they should make a wtfcs.com just like wtfjs
22:58 < CoverSlide> only there's loads more material
22:59 < othiym23> I gotta read a lot of other people's code for my job, and I really think the complaints against CS are overblown
22:59 < othiym23> I'm not going to use it because it doesn't give me any leverage for what I'm doing, but it's really neither terrible nor great
23:00 < othiym23> xp_prg: take a look at this and see if it floats your boat: http://code.google.com/p/phantomjs/wiki/QuickStart
23:00 < nathan7> qmx: Yeppers
23:01 < jmoyers> you can write shitty coffeescript just like you can write shitty js
23:01 < MI6> joyent/libuv: saghul v0.8 * 9a6f496 : win: fix compilation with MSVCRT < 8.0 - http://git.io/I5iRhA
23:01 < Antaranian> guys, is there any app which will mirror all html requests to another server ? So I won't write it from scratch 
23:02 < CoverSlide> Antaranian: you mean like a proxy?
23:02 < jmoyers> didn't we talk about this ant? what was wrong with node-http-proxy
23:02 < CoverSlide> node-http-proxy or bouncy can do that
23:02 < Antaranian> CoverSlide: yes
23:02 < blakmatrix> mirror !=== proxy
23:03 < Antaranian> jmoyers: need to handle with cookies in both send/receive 
23:03 < jmoyers> he said proxy earlier ;-)
23:03 < euoia> Could also use apache, no?
23:04 < othiym23> well, nginx, haproxy or varnish
23:04 < othiym23> Apache would be overkill for simple proxying
23:04 < s5fs> Antaranian: i say you rube goldberg your own solution, forget these so-called "reasonable" solutions
23:04 < othiym23> Antaranian: what are you trying to do with passthru?
23:05 < othiym23> e.g. why not just use a web framework like Express with a static middleware?
23:05 < Antaranian> actually the smartest thing I could think was  compiling chromium without all that same origin security stuff :)
23:05 < CoverSlide> you could just fix your aceess-control-allow-origin headers
23:06 < Antaranian> othiym23: I have a server running on remote, and want to work on local files on front side
23:07 < othiym23> Antaranian: OK, when I've needed to do something similar, I've used node-http-proxy, like a lot of these folks have suggested
23:07 < othiym23> it's pretty simple unless you get SSL involved
23:07 < MI6> joyent/node: Ben Noordhuis v0.8 * 6a128e0 : buffer: report proper retained size in profiler  Make buffers report the  - http://git.io/HOZtSQ
23:07 < Antaranian> no ssl right now
23:07 < euoia> Antaranian: I think you can start chrome with a special flag to disable that, rather than recompile
23:07 < othiym23> then it's pretty simple
23:08 < othiym23> and euoia is right, there is definitely a Chrome command-line flag to disable same-origin policy from the command line
23:09 < Antaranian> yes, --disable-web-security does the trick
23:09 < Antaranian> just was thinking about making it in my environment 
23:09 < Antaranian> so for later project to use same in all browsers by default
23:11 < xp_prg> does node js have a rules engine in it?
23:12 < xp_prg> or a library that gives backward chaining rules engine support?
23:12 < rodyhaddad> Hey guys, I tried doing: http.get("http://www.google.com/", function(res){….}), but it's throwing the error: connect EADDRNOTAVAIL. What am I doing wrong?
23:16 < othiym23> xp_prg: not built in, but you might take a look at nools
23:21 < ChrisPartridge> rodyhaddad: strange, DNS on the machine working OK?
23:22 < mscdex> node.js rules!
23:22 < s5fs> rodyhaddad: haha, try another url. i think google redirects to ssl, could be messing you up
23:22 < ChrisPartridge> s5fs: works fine here
23:23 < rodyhaddad> ChrisPartridge, yes. I changed the "http:…" to an 'option' object containing host, port and path, and it seems to work :P
23:23 < ChrisPartridge> rodyhaddad: older version of node then I'm guessing
23:23 < rodyhaddad> maybe I have an old version of node installed?
23:23 < rodyhaddad> lol
23:23 < ChrisPartridge> :)
23:23 <@Nexxy> s5fs, o hai
23:24 < s5fs> Nexxy: well hello friend!
23:24 < s5fs> welcome back
23:24 <@Nexxy> thanks!
23:24 < s5fs> Nexxy: you firmed up plans for friday?
23:24 < s5fs> basically i just need to know when i need to be home
23:24 <@Nexxy> Ill check!
23:24 < s5fs> gracias
23:29 < zimfo> hello all, I installed node with brew on the mac but I also need the 32 bit version, do I just copy the 32bit binary into /usr/local/bin and name it something else?
23:29 < othiym23> zimfo: uh why do you want the 32-bit version?
23:29 < othiym23> you shouldn't need it
23:30 < zimfo> othiym23: to work with appjs
23:30 < othiym23> you might want to look at using nvm or nave instead of Homebrew to manage your node binaries if you're going to be trying to use more than one
23:30 < othiym23> zimfo: https://github.com/isaacs/nave
23:30 < othiym23> nave is probably an easier place to start if you want to have special-purpose builds
23:32 < zimfo> othiym23: Thank You!  I will try it.
23:37 < aboudreault> hehe, hadn't seen the topic.
23:38 < langpavel> anybody can kick in there :-) https://github.com/visionmedia/express/pull/1362
23:41 < langpavel> are spam bots here? changing nicck and no ask..
23:41 < niggler> is there an analogue of doxygen for javascript?
23:42 < langpavel> javascrit has no types
23:42 < niggler> doxygen is a documentation format 
23:43 < langpavel> doxygen gives most from types
23:43 < niggler> sure
23:44 < niggler> whats the best way of commenting and generating documentation
23:44 < langpavel> javadoc like format
23:45 < othiym23> YUIDoc or some other JSDoc are probably the closest you're going to get to Doxygen for Node
23:45 < othiym23> there's also whatever crazy hairball thing TJ uses for generating the Express documentation
23:45 < niggler> is there a standard for node
23:45 < niggler> nodes or even javascript
23:45 < othiym23> niggler: some form of JSDoc is as close as there is to a standard
23:46 < niggler> or is documentation one of those things to be eschewed 
23:46 < othiym23> not on my watch!
23:46 < EyePulp> anyone using uglifyJS 2 ?
23:46 < othiym23> I use generic JSDoc, but I haven't gotten around to automatically generating docs from my builds yet
23:46 < othiym23> mostly because I'm the only consumer of my code
23:47 < niggler> lol I'm finding ways to get others to help me out
23:48 < niggler> so i need to generate documentation sooner rather than later :)
23:49 < othiym23> niggler: TJ's thing is https://github.com/visionmedia/dox, YUIDoc is http://yui.github.com/yuidoc/
23:50 < othiym23> TJ's thinger is probably more flexible, presentation-wise, but YUIDoc has lots of neat, possibly extraneous bells and whistles
23:51 < niggler> both seem to draw from a javadoc-like syntax
23:53 < langpavel> best doscumentation is yours docs, if you must use someone else lib, than only them can provide it, especcialy in dynamic language
23:54 < langpavel> doxygen if fact can extracts come extra from comments like javadoc
23:56 < jmoyers> dox is nice
23:56 < jmoyers> presentation agnostic
23:56 < jmoyers> doxygen is a poop
23:56 < niggler> yeah I'm thinking dox might be a better tool, but more importantly there are many tools using similarly-styled docs
23:56 < langpavel> doxygen is old, for c++ designed
23:57 < niggler> *similarly-styled comments
23:57 < jmoyers> yeah well, its all javadoc like syntax, so yeah
23:57 < jmoyers> its nice because you can use markdown too
23:57 < jmoyers> for examples
23:57 < jmoyers> but that makes for HUGE headers on each functions
23:58 < jmoyers> i started something similar to dox over a year ago using the ast instead of regex
23:58 < jmoyers> https://github.com/jmoyers/doc
23:58 < jmoyers> never did get all the way there, but fuck i learned a lot about the ast
23:59 < langpavel> oh, can anybody reccomends me perfect gnome client for IRC?
--- Log closed Thu Oct 11 00:00:27 2012
