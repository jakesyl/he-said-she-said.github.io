--- Log opened Thu Sep 06 00:00:29 2012
00:05 < pspeter3> Does anyone know of a good POP3 client for node.js?
00:06 < rmill> pspeter3: did you check npm?
00:06 < rmill> https://npmjs.org/package/pop3-client
00:06  * rmill has no idea if it's good or not :s
00:06 < pspeter3> rmill: I just tried to install it and it failed from waf
00:07  * rmill shrugs
00:07 < rmill> pspeter3: there's 'poplib' too
00:08 < rmill> but it looks like the same dude maintains it.
00:08 < rmill> so...
00:08 < pspeter3> rmill: Yeah, those are what I found too
00:27 < Ramone> hey all... anyone have any ideas on how to track down the cause of an unhandled error event?
00:28 < Ramone> I'm not sure what in the entire system could be emitting it
00:29 < astropirate> Ramone, look in your JavaScript console
00:29 < astropirate> use Firebug for firefox
00:29 < astropirate> chrome comes with one
00:29 < astropirate> i'm out. peace
00:29 < Ramone> i'm talking about node
00:29 < Ramone> heh
00:42 < thatguydan> So, callback err's should be instanceof Error, but i'm writing a library and I'm thinking it would be a good idea to also include the statusCode in the error
00:42 < thatguydan> Has anybody seen a good way to do that
00:47 < tjholowaychuk> thatguydan just add a prop err.statusCode = n
00:51 < ang3lfir3> omg exciting!!! :) :) 
00:51  * ang3lfir3 is bored ..... 
01:06 < ChrisPartridge> tjholowaychuk: loving your "component" idea
01:07 < tjholowaychuk> not my idea, drupal and friends have (kinda) done this forever
01:07 < tjholowaychuk> just not on the client for some reason
01:09 < ang3lfir3> component .... like "controls" ??? 
01:13 < ChrisPartridge> tjholowaychuk: you mention in the article about your components that contain server side code, testing is done with its own self contained express instance, do you have an example by chance that I can take a gander at?
01:17 < tjholowaychuk> ChrisPartridge just in our private app ATM but I'll add an example to the express repo when i've got more done on component(1)
01:17 < tjholowaychuk> pretty soon
01:22 < theBrettman> so if certain javascript functions only work in certain browsers, how do I know what works in node?
01:23 < lohkey> node uses V8
01:23 < lohkey> so if it works in chrome it works in node
01:23 < theBrettman> ah
01:24 < theBrettman> cool, I can use copy in node! lol
01:24 < theBrettman> actually, that wouldn't work, would it?
01:24 < deoxxa> copy?
01:25 < theBrettman> copy can be used in the console to copy to the clipboard
01:25 < deoxxa> probably not
01:26 < deoxxa> but that's not part of javascript per se
01:26 < ChrisPartridge> tjholowaychuk: sounds good!
01:28 < jtomasrl> is there a easy way in node to search for a value in a JSON array
01:28 < deoxxa> JSON array? you mean a regular array?
01:29 < deoxxa> in which case yes, there is. Array.indexOf() - https://developer.mozilla.org/en-US/docs/JavaScript/Reference/Global_Objects/Array/indexOf
01:29  * BennyLava wonders what a JSON array is
01:30 < jtomasrl> array of json
01:30 < BennyLava> oh!
01:30 < BennyLava> I see, I see.
01:30 < deoxxa> ["{}", "{}", "{}"]
01:31 < BennyLava> lol deoxxa
01:32 < jtomasrl> I dont know if this is the best way of doint it, but its something like this: https://gist.github.com/3649675
01:32 < deoxxa> ok, that's just a normal array
01:33 < deoxxa> what exactly are you trying to do?
01:33 < jtomasrl> customs status codes
01:33 < jtomasrl> so if error, show a status code and its description
01:33 < deoxxa> why are they in an array?
01:34 < deoxxa> seems like it'd be easier to put them in an object
01:35 < jtomasrl> using the nmber as the key?
01:35 < deoxxa> bingo
01:35 < jtomasrl> got it
01:36 < jtomasrl> but, it is possible to "print" the key?
01:37 < deoxxa> for (var key in object) { console.log(key); }
01:37 < deoxxa> or
01:37 < deoxxa> console.log(Object.keys(object))
01:37 < deoxxa> or
01:37 < deoxxa> Object.keys(object).forEach(function(key) { console.log(key); })
01:37 < deoxxa> etc
01:37 < deoxxa> there's plenty of ways to do that :)
01:37 < mae> @substack: pull request for LiveScript 1.x.x support, very simple clean patch, https://github.com/substack/node-browserify/pull/218
01:38 < jtomasrl> deoxxa: ty ill try some
01:45 < matthewmoore> first time trying node here; are you guys using bogart, or are there other JSGI packages being used more commonly now?
02:00 < leo2007> Is there a download for documentation for offline use http://nodejs.org/api/vm.html
02:00 < retran> wget --spider
02:02 < leo2007> but recursion is disabled -- not retrieving.
02:03 < chrisdotcode> leo2007: why not download the single page view?
02:03 < leo2007> downloading
02:03 < chrisdotcode> leo2007: http://nodejs.org/api/all.html?
02:03 < retran> you mean robots?
02:03 < leo2007> yeah, but I pass -r to wget and it downloads
02:04 < mscdex> someone did write a pdf of the docs...
02:04 < retran> -e robots=off
02:04 < mscdex> https://github.com/zeMirco/nodejs-pdf-docs
02:04 < mscdex> there's a pre-compiled version available for 0.8.3
02:05 < retran> maybe i can publish a $0.99 ebook on amazon
02:07 < leo2007> My interest is in integrating the doc with my editor of choice.
02:08 < retran> you gonna publish a node.js eclipse plugin
02:12 < leo2007> emacs
02:12 < ChrisPartridge> retran: eclipse.. eww
02:13 < retran> But i do software development for a living, not as a lifestyle
02:14 < retran> i cant use emacs
02:14 < leo2007> cool
02:14 < retran> my memory isn't good enough to rmeember all the keystroke sequences
02:14 < leo2007> I only use eclipse for the only thing it can.
02:15 < retran> making an enemies computer run really slow w/o doing anything?
02:15 < leo2007> hehe
02:16 < retran> i use it b/c has all these mature plugins
02:16 < retran> remote system explorer, and SVN/GIT/CVS plugins
02:17 < retran> i wish something that was non-java was just as great at doing it
02:17 < leo2007> yeah same here in emacs
02:17 < leo2007> emacs is like a lisp machine for most people who love it
02:18 < lvx3> woohoo, editor holy war. I'm clearly in the right place :) 
02:19 < retran> remember when NetBeans was taken seriously
02:19 < mscdex> nano for life!
02:20 < retran> vim or nothin
02:20 < lvx3> word.
02:20 < retran> the lead developer at my work before i came, only used remote VIM
02:20 < retran> (VIM over ssh)
02:20 < lvx3> I do that a lot
02:21 < retran> i do it too, quick fixes, configuration
02:21 < lvx3> I actually work for hours at a time like that
02:21 < lvx3> sure beats notepad over RDP ;)
02:21 < retran> syntax highlighting is for pussies
02:49 < lvx3> dear lord, mIRC really isn't very good.
03:32 -!- mode/#Node.js [+o piscisaureus_] by ChanServ
03:39 < Nuck> Okay, what the face.  Nodejitsu's node-http-proxy lib has no documentation on how to make a middleware or how to modify the request before it's made
03:39 < Init--WithStyle-> How can one do a "bulk" insert on a mongoDB database?
03:39 < Nuck> Like, I want to change my Host header and path, but there's no docs.  Anyone feel like helping me out here?
03:41 < tuhoojabotti> lvx3: irssi ftw
03:43 < Nuck> Why do all Nodejitsu libs have such terrible docs? :(
03:43 < jesusabdullah> be the change you wish to see in the world Nuck
03:43 < jesusabdullah> I would say the proxy's docs are pretty good though
03:43 < Nuck> jesusabdullah: I can't comprehend half their libs, that's why I want docs to begin with
03:44 < Nuck> jesusabdullah: The docs are good for copy pasting, but give me nothing I need to know for anything more
03:44 < ccowan> How are people deploying thier apps?
03:44 < Nuck> If my use case lies outside their examples, I'm screwed.
03:44 < Nuck> ccowan: GNU Screen, obviously.
03:45 < ccowan> we've been using capistrano (since that's what the teams been using for the last 2 years)
03:45 < AAA_awright> Nuck: Ultimimate documentation, the source code is
03:45 < Nuck> AAA_awright: It would be good, if their source code weren't such a damn mess
03:45 < ccowan> my biggest problem is that `npm install` keeps crapping out
03:45 < AAA_awright> lolol
03:45 < ccowan> I'm using npm shrinkwrap
03:45 < AAA_awright> You can't do this operation in your own header?
03:45 < AAA_awright> er, own application?
03:46 < Nuck> AAA_awright: I'm building a reverse proxy which adds the cross-origin header for a friend
03:47 < Nuck> But I need to edit the request it makes based on the URL field I'm being passed
03:47 < leo2007> In node's repl who to get help?
03:47 < leo2007> s/who/how/
03:47 < Nuck> leo2007: There is no "help" â€” it's just regular ol' JS
04:09 < Init--WithStyle-> Any idea why 50 inserts into a mongoDB collection would end up with only one insert actually happening?
04:13 < Init--WithStyle-> The answer is because of duplicate ID keys
04:13 < Init--WithStyle-> :/
04:26 < lvx3> tuhoojabotti: true that, I'll need to see if theres a windows native one that doesn't suck
04:26 < tuhoojabotti> Winodws. :E
04:26 < lvx3> tuhoojabotti: I know ;(
04:27 < tuhoojabotti> well there's the putty version
04:27 < tuhoojabotti> http://www.irssi.org/files/irssi_0_8_15_TEST3.exe
04:27 < tuhoojabotti> works as if you were using it via ssh, only no latency
04:27 < lvx3> interesting
04:28 < lvx3> I have quite a niche use case atm
04:28 < tuhoojabotti> Just use it via ssh from Windows. ;-)
04:28 < lvx3> I can't atm
04:28 < tuhoojabotti> Why not
04:28 < lvx3> currently have an IRC bot which establishes a DCC connection to stream some data about some of our operations stuff
04:29 < lvx3> and it's currently firewalled to only allow that DCC from the office IP
04:29 < tuhoojabotti> haha
04:29 < lvx3> I haven't had time to add authentication to it yet :)
04:29 <@Nexxy> lol
04:29 < tuhoojabotti> That's hardcore man
04:29 < lvx3> 20 minute hack haha
04:29 < lvx3> but it's quite handy
04:29 < tuhoojabotti> but DCC?
04:29 < lvx3> sure, why not? :)
04:30 < tuhoojabotti> So, run irssi on the office server and ssh to it? ;-)
04:30 < lvx3> it's just like telnetting in, except I can request the connection via irc
04:30 < lvx3> the correct fix is to add authentication to the connection
04:30 < lvx3> I suppose SSL it too.. but it's not *that* sensitive ;)
04:30 < tuhoojabotti> Well either that or mIRC
04:31 < lvx3> hehe
04:31 < tuhoojabotti> And I'll beat your ass.
04:31 < tuhoojabotti> for using mIRC
04:31 < lvx3> it's ok, the self loathing is the same as a daily ass-beating
04:31 < tuhoojabotti> I hope you use a whip
04:32 < lvx3> heh
04:32 < lvx3> it'd be cheaper to hire a squad of kung-fu pros
04:32 < lvx3> *cheaper and more effective
04:33 < lvx3> better beating to yuan ratio ;P
04:33 < tuhoojabotti> you lost me
04:34 < mscdex> late night #node.js discussions
04:47 -!- mode/#Node.js [+o piscisaureus_] by ChanServ
04:53 < SomeoneWeird> how big is hoarders?
04:53 < SomeoneWeird> lol
05:20 < pringlescan> I have no spine and the problem is global. What should I do?
05:20 < pringlescan> .. I did not mean to send that, disregard.
05:26 < lvx3> or sorry, yuan renmimbi - I'm in China at the moment ;)
05:26 < abraxas> how exactly am I supposed to read the blog posts of older releases? eg, 0.9.0
05:26 < abraxas> (on blog.nodejs.org)
05:28 < pringlescan> abraxas, archive.org?
05:28 < abraxas> nice :)
05:41 < ryanj> #boogiebarn
06:49 < bcave> hello, how is everyone today?
06:52 < bcave> have a question regarding using Monit to manage service availability of a node application. I am not using upstart, but have my own init script for 2 node projects that work together.
06:53 < bcave> project-one: an express project. project-router is an http-proxy proxy that routes incoming requests (i also have project-two, etc that the router routes for).
06:54 < flockonus> sounds interesting
06:56 < bcave> im getting there..
06:57 < bcave> just doing a pastebin to explain a strange problem I have with monit....
06:57 < bcave> http://pastie.org/4672520
06:57 < bcave> ok - so the node configuration, shown by 
06:57 < bcave> "Project Router" at the bottom routes incoming requests to "/ping" to the project-one app
06:58 < bcave> the top section is my monit configuration for monitoring
06:58 < bcave> so now, from console, i can curl localhost:3000 and curl localhost:3030. I get the same response.
06:59 < bcave> however, when using monit, the localhost:3030 test fails with a 404 error
07:12 < romenov> hi, anyone using whiskers here in combination with Express framework? I'm trying to have like a seperate header / content / footer template but I'm having a hard time finding out how to do that :) any help would be welcome
07:18 < flockonus> brave this syntax is not even valid, (is it?) var options = { router: { '/ping': localhost:3000 } };
07:18 < flockonus> * bcave
07:18 < bcave> yeah, it is
07:18 < flockonus> var options = { router: { '/ping':  {localhost:3000} } };
07:18 < flockonus> orâ€¦ 
07:18 < flockonus> var options = { router: { '/ping': "localhost:3000" } };
07:19 < bcave> yeah - that one
07:19 < bcave> I have variables. 
07:19 < _Tristan> socket.io + cluster + redisStore. Does it exist? I see many articles, questions, answers, and github repos, but not one explanation.
07:19 < bcave> var oneHost = "localhost"; var onePort = 3000; "/ping": oneHost + ":" + onePort
07:19 < bcave> that part is working
07:19 < bcave> the routing
07:19 < bcave> i can open :3000/ping and get a response and :3030/ping
07:23 < flockonus> romenov I grew used to http://paularmstrong.github.com/swig/
07:23 < flockonus> it is simple html, template and blocks based
07:25 < bcave> great, pastie is down :s
07:25 < bcave> anyway... 
07:25 < bcave> if I do a curl -vv, there are 2 differences in the response. "server: myCustom Server Header" vs "Server: myCustom Server Header" and the 1 is connection: keep-alive and the other is connection: close
07:26 < bcave> here's another strange symtom. If I run monit manually with verbose output, the test passes:
07:26 < bcave> monit -c /etc/monit.conf -vv
07:26 < bcave> all tests pass
07:26 < bcave> however if i start it via the init script, that last test fails. *scratches head*
07:27 < romenov> flockonus: does it integrate well with Express?
07:28 < flockonus> brave sorry man, cannot help much, I used to use forever
07:28 < flockonus> but nowadays I just throw it to PaaS
07:28 < flockonus> it is like.. Heroko/Nodejitsu: deal wit hit
07:28 < flockonus> *it
07:28 < romenov> flockonus: nevermind, didn't see the large text saying Express compatible =)
07:29 < flockonus> yes it is =P 
07:31 < [AD]Turbo> hola
07:33 < flockonus> romenov I use a module called consolidate to integrate swig in
07:33 < flockonus> it is actually a general vanilla for plugin template
07:34 < flockonus> more exacyly I stripped it down for what I needed; you can see more in the repo: https://github.com/flockonus/gartsb/blob/master/app.js
07:34 < flockonus> there are some "non-vanilla" configs to be done
07:37 < rio{> Is it ok, or not ok to ask a question that is Express specific here? :D
07:40 < flockonus> it sure is ok to ask
07:40 < flockonus> lol
07:42 < rio{> Heh well some channels are really hard on those cases. Like you could get shot asking a Drupal related question in #php for example.
07:42 < rio{> I am building this web app using express. It is also using Backbone.js for client-side MVC, How can I include backbone.js from the node_modules/backbone folder on my client side without making the whole node_modules/backbone folder statically available
07:43 < flockonus> ohh I get you.. you don't wanna do thatâ€¦
07:43 < rio{> why not?
07:44 < flockonus> some people have a ./shared folder and require stuff from there
07:44 < flockonus> -- i mean.. I know your point, you are right
07:44 < purr> Let it be known that flockonus hates i mean.. I know your point, you are right.
07:46 < flockonus> and then.. some line like this: app.use(express['static'](path.join(__dirname, 'shared')));
08:31 < AustinYun> so what are the best practices for handling options in modules? i see a lot of options objects, is that basically just the way to do it?
08:33 < AustinYun> meh, i'll just copy substack
08:38 < timoxley> AustinYun what do you mean options?
08:42 < AustinYun> as an example, for my string -> json finder, whether or not to only check for top level open/close braces on their own lines
08:43 < AustinYun> or whether to return only the first json object found, or an array of them if there's more than one json object in the string
08:50 < AustinYun> timoxley: i was just wondering if there's like, an accepted way to do it
08:52 < AustinYun> as it is my module.exports is the function itself, but i might have it be a function of the options object that returns (mostly) what it is now
08:52 < AustinYun> i just don't like var jsonfinder = require("json-finder")(); in the default case even though it's only an extra pair of parens :p
08:52 < AustinYun> just bothers me for some reason
08:53 < bmatusiak> Hello guys, i was wondering if fs.watch() also worked on directories + its subDirectories 
08:54 < timoxley> AustinYun yeah that bothers me a little too. you could always just return a function with the default settings on require() and a reconfigured function on require()()
08:54 < AustinYun> really? how do you do that?
08:54 < timoxley> actually
08:55 < timoxley> wtf, no. that won't work
08:55 < timoxley> well it could, if you could figure out if they're trying to initialise vs trying to invoke
08:55 < AustinYun> i suppose a better question is if there's not a better way to do option parsing, because after looking at the source of a couple modules
08:55 < AustinYun> they all seem to do it differently
08:56 < AustinYun> like https://github.com/substack/difflet/blob/master/index.js#L6
08:57 < AustinYun> my first instinct was "copy substack" but the options parsing for difflet seems bizarelly complicated (because i'm an idiot)
08:57 < timoxley> AustinYun it's good you're looking into how others do it
08:59 < timoxley> AustinYun what does your json finder actually do?
08:59 < AustinYun> https://npmjs.org/package/json-finder
09:00 < AustinYun> basically my blog works by just parsing markdown files into html and sticking them in a template
09:00 < timoxley> interesting
09:00 < AustinYun> and i stick a json object at the top of my blog entries that has metadata like title, author (useless so far), date written, etc.
09:02 < AustinYun> just use the json finder to find and parse the metadata object at the top of the articles -- luckily in 90% of cases it works on the first loop but the algorithm for finding stuff is exhaustive
09:02 < timoxley> AustinYun I think how to node does something like that https://github.com/creationix/howtonode.org
09:02 < timoxley> https://github.com/creationix/howtonode.org#article-format
09:03 < nathan7> timoxley: You mean using https://github.com/creationix/wheat?
09:03 < timoxley> yeah it's probably wheat doing it
09:03 < AustinYun> yeah if you read the README for it, i basically started off cloning wheat minus the git stuff to learn about how node works
09:03 < AustinYun> https://npmjs.org/package/rice
09:06 <@konobi> AustinYun: how about using multimarkdown?
09:10 < AustinYun> afaik i don't need any of the features mmd provides over md
09:10 <@konobi> AustinYun: metadata?
09:10 <@konobi> =0)
09:10 < rio{{> If I have backbone as a dependency of my application. Is it a good idea to use the postinstall hook in my application's package.json to copy Backbone.js to a directory where my (web)client can include this file
09:11 < bmatusiak> does anybody feel like making a npm module
09:11 < AustinYun> O_o so you can stick metadata somewhere in an mmd file, so that when it's parsed, the metadata is available to the server from the markdown parser itself?
09:11 < deoxxa> rio{{: better would be using something like ender or browserify to make sure it's packaged correctly for a browser
09:11 <@konobi> AustinYun: yar
09:13 < AustinYun> ok looks like it's time to find a mmd parser in npm
09:13 < bmatusiak> austinYun
09:13 <@konobi> also, custom classes would also be useful i'd reckon
09:14 < bmatusiak> take a look at my wiki and see if you like that parser
09:14 < AustinYun> i know marked is really fast and pure js
09:14 < timoxley> AustinYun rio{{ also, I don't think people generally package their clientside scripts through inclusion of modules in npm. Mainly since not everything is a
09:14 < timoxley> oops
09:14 < timoxley> AustinYun https://github.com/dtjm/node-multimarkdown
09:15 < timoxley> rio{{ â€¦since not everything is available on npm, it makes more sense to opt for consistency and just manage your clientside deps seperately
09:16 < AustinYun> well if there's nothing else i guess i'll use node-multimarkdown, but i don't like modules that require C bits :p
09:16 < AustinYun> bmatusiak: link?
09:17 < timoxley> rio{{ I just have a folder called 'vendor' which contains all my clientside libs. my build script will processes them, and the app mounts them as /libs/jquery/ /libs/etc 
09:17 < bmatusiak> i sent in PM
09:17 < AustinYun> oh rofl
09:18 < AustinYun> always miss PMs in irssi and weechat
09:18 < bmatusiak> yea.. i had same problem and then i switched to xchat
09:19 < AustinYun> i ssh / tmux from my ipad too much for that to work
09:19 < bmatusiak> o lol
09:19 < AustinYun> used to use xchat until i actually had to start leaving my house sometimes
09:20 < rio{{> timoxley: Yeah maybe you have a good point there
09:20 <@konobi> that mmd parser doesn't give you metadata, iirc... it's a _very_ light wrapper
09:21 < bmatusiak> austinYun did that help any?
09:31 < bmatusiak> https://gist.github.com/3653480
09:32 < bmatusiak> ^^ could be a useful npm package
09:33 < lperrin> first, check: http://www.codinghorror.com/blog/2006/01/flattening-arrow-code.html
09:39 < strk> ..FATAL ERROR: v8::HandleScope::Close() Local scope has already been closed
09:40 < strk> first time I see it, ideas ? it's v0.8.5-pre
09:40 <@konobi> writing an addon?
09:49 < strk> konobi: no, just running regression tests for an application (which has some add-ons among its deps)
09:55 < AustinYun> ok i just took a shower, konobi yeah that doesn't provide metadata :(
10:05 < puicha> hello
10:06 < puicha> anyone alive in here
10:06 < lvx3> nope, just a bunch of corpses 
10:07 < puicha> is it possible to use nodejs instead of javascript in the script tag of html
10:09 < dogmatic69> puicha: node is server side
10:10 < puicha> yes ..but is it possible to make it client side only
10:10 < BitScout> puicha, what do you want to achieve?
10:10 < puicha> the idea is to use nodejs instead of javascript
10:11 < puicha> in the html script tag, using nodejs 
10:11 < mihamina> puicha: using node.js without javascript?
10:12 < puicha> yes
10:12 < onre> what
10:12 < onre> this sounds like proper confusion
10:12 < mihamina> puicha: I think you misunderstood many thing ;-)
10:12 < BitScout> puicha, you realize you write a .js file for NodeJS and run it on a server?
10:12 < sriley> nodejs is javascript, its just a bunch of apis for accessing filesystem etc
10:15 < BitScout> Wanting to write NodeJS without JavaScript is like wanting to speak german without speaking german.
10:15 < BitScout> hint: The "JS" in NodeJS stands for JavaScript :)
10:17 < strk> puicha: javascript can call methods which are part of the interpreter. node.js has something which isn't in browser,and viceversa. "process" is only in node.js, "document" is only in browser
10:17 < strk> anyone please correct me if I'm wrong
10:18 < strk> maybe substitute "interpreter" with "runtime environment"
10:20 < BitScout> puicha?
10:20 < lvx3> I think he/she imploded
10:33 < jonno11> Hi, I've been playing around with Express/socket.io for a while now and I'm just about to start developing an app. Are there any good resources you could recommend for organising the project structure? At the moment I'm bundling lots of code into the app.js file :S
10:35 < lvx3> just encapsulate common code/data and externalize it?
10:36 < lvx3> also browse github and look at how other apps are structured
10:37 < jonno11> What's the best way to externalise it?
10:37 < jonno11> in your opinion
10:37 < lvx3> I'm still pretty new to node, but... http://nodejs.org/api/modules.html
10:40 < strk> if you're just starting I would suggest you look for a preprocessor :)
10:40 < strk> I'm missing it a lot
10:41 < strk> have done good in the past just using cpp(1), when doing similar thing with actionscript (still ECMAScript)
10:41 < strk> then you can #include and your externalization will be so comfortable !
10:41 < strk> no idea how would single TU affect node.js performance though
10:43 < lvx3> I think one of the things I like the most about node, is that if I do something 'wrong' it never seems to be a huge deal of effort to refactor it
10:43 < lvx3> it could just be the scale of the stuff I've been writing though
10:44 < strk> I think that unstructured languages generally give this impression at first, but easily become an hell after a few rounds of that kind of refactoring
10:44 < lvx3> I can imagine :)
10:45 < lvx3> though, equally, tight iteration loops and some forethought should stave off the worst of that ;)
10:46 < strk> I was more thinking about interfaces, taking obect parameters that change form as you go
10:46 < strk> ending up with ever-changing structures
10:46 < jonno11> I agree
10:47 < jonno11> I've written a number of javascript apps
10:47 < jonno11> but never with Node.js
10:47 < jonno11> and all of them wind up a hell to navigate!
10:48 < lvx3> well, now is home time
10:48 < lvx3> night all :)
10:49 < jonno11> night!
10:54 < simenbrekken> Any Makefile wizards here? Not quite sure what channel they might be in. Anyway, I'm trying to concat a bunch of JS files while adding a semicolon in front of each file to help with combining them before minification
10:55 < strk> show the line ?
10:56 < strk> (why not adding the semicolon in each file, btw?)
10:59 < trodrigues> hey guys, I think I need a bit of sanity checking on something
11:00 < trodrigues> i've created private github repos and used them as npm packages before. i've created a new one now, the repo exists, I can clone it both on my machine and our CI server, I can npm install it locally, all with no problems
11:00 < trodrigues> but when the CI server tries to npm install it, it just can't find the repo
11:00 < trodrigues> i'm thinking if I might've forgotten something obvious
11:01 < strk> how does the CI server authenticate with github ?
11:02 < simenbrekken> strk: because the files in question are libraries
11:02 < trodrigues> strk: ssh keys. and other packages which are on the same repo are being installed properly
11:02 < trodrigues> mmm...maybe i forgot something in the repo configs
11:03 < mAritz> simenbrekken: why not use a dedicated minifier? i think they should mostly handle this?!
11:04 < trodrigues> ahhh right. i forgot to give access to the developers team on that repo :)
11:04 < trodrigues> strk: haha, thanks, that did make me think of the repo configs, even though it didn't have anything to do with it
11:04 < simenbrekken> mAritz: I haven't seen an option like that for uglify or closure compiler
11:05 < mAritz> maybe r.js?
11:06 < simenbrekken> mAritz: that's an AMD loader right? I'm in a UNIX shell and I'd like to do it there (which I suppose is possible=
11:08 < mAritz> nvm, it uses uglifyjs or closure as well
11:08 < mAritz> simenbrekken: this is for delivery to the browser through, right?
11:09 < simenbrekken> mAritz: no, Makefiles are for making :=)
11:11 < sriley> the injection of semi colons sounds like a monkey patch to badly formatted files
11:12 < mAritz> simenbrekken: uhm... so what happens with the concated js file?
11:13 < simenbrekken> sriley: it is, in this case it's underscore and backbone that don't include any delimiters so they break when concat'ed
11:13 < mAritz> (i meant though in my previous question, not through :D )
11:13 < simenbrekken> mAritz: they are concatenated and break
11:13 < mAritz> yeah, hate that. twitters bootstrap had similar problems, not sure if they fixed that. last time i checked the response in the issue was: "go fuck yourselfs, it works for us"
11:15 < mAritz> simenbrekken: yeah, not what i meant. either way: can't you just create a quick node.js script to do it and call that from your makefile? it's not the ideal solution, but would work and we'd be more likely be able to help in the node.js channel. ;)
11:16 < mAritz> there are some shell magicians in here though, so if you're patient maybe one will spawn :D
11:16 < simenbrekken> that was my first idea :P
11:17 < sriley> well you want something like echo ';' `cat somefile.js` >> catfile.js (but having that in a loop over all the files)
11:22 < jonno11> Does anybody know how Geddy plays with socket.io?
11:40 < jim_> It kicks sand in its face and stomps on its castles.
11:41 < mAritz> anyone else having github sometimes fork projects for you you're just looking at? am i just accidentally clicking the fork button and mindlessly ignoring the resulting fork page?
11:50 < deoxxa> mAritz: i've never had that happen and i spend quite a bit of time on github
11:51 < mAritz> maybe i'm special! :D
11:53 < mAritz> seriously though: just did a fresh clone of cloud9, looked up some blame history on some files and then suddenly got an email saying that i'm now automatically notified of changes in my cloud9 fork.
12:02 <@konobi> mAritz: that's a recently thing
12:04 <@konobi> is you automatically get added as a watcher to your own forks with the recent changes
12:12 < mAritz> yeah, and that's totally fine. but as far as i know i didn't click the fork button... ever.
12:13 <@konobi> mAritz: ah... must be that sleep-cloning they've been talking about on the news
12:13 <@konobi> =0P
12:22 < jhsto> i would need to make sure a javascript function is run when a user clicks a submit button, how do i do this?
12:22 < jhsto> i mean, what i now think is wrong with my code is that the function im calling is not running completely
12:23 < nicolaas> is this is client-side or server-side js function ?
12:25 < jhsto> server-side function is what needs to be executed
12:34 < AustinYun> wait
12:34 < AustinYun> js doesn't have tail call elimination?
12:34 < AustinYun> ...time to un-rewrite my librarly, rofl
12:38 < FireFly> AustinYun: this might be of your interest: https://gist.github.com/1697037
12:41 < FireFly> but yes, the lack of TC optimisation is silly :(
12:48 < mape> is os.loadavg() suppose to work on windows? I keep getting 0,0,0 even though the cpus have load
12:51 < alexw> what is the best way to populate a global variable using node.js?
12:51 <@konobi> don't
12:52 < alexw> lol
12:52 < mape> konobi: any idea why loadavg is only returning [0,0,0] ?
12:53 <@konobi> mape: not at all, no idea about win32 stuff
12:53 < alexw> Basically I want to loop a list - if the subsequent API call is successful I want to update a database as a batch
12:53 < alexw> rather then calling sql for each api call
12:53 <@konobi> alexw: that's what sessions are for
12:54 < alexw> i.e. 
12:54 < alexw> http://pastebin.com/2Fa4HuEF
12:55 < alexw> so if the api call is successful I want to populate a list
12:55 < alexw> then once the async has run I can do one big SQL 
12:55 < alexw> batch update
12:55 < alexw> right now each MySQL query takes ~900ms (as it is going USA -> AU)
12:55 < alexw> so one query would be better
12:55 <@konobi> alexw: use a session to track wether it was successful
12:56 < alexw> konobi: what are these sessions you shall speak off
12:56 < alexw> of*
12:56 < alexw> I am running jobs using Kue
12:56 < alexw> if that influences it it any way
12:58 < alexw> would redis be a better option?
13:18 < alexw> konobi: was looking for async.map ;)
13:41 -!- mode/#Node.js [+o piscisaureus_] by ChanServ
13:47 < patweb99> Is there any way to compile a string version of a function into a function object at run time?
13:48 < EyePulp> eval?
13:48 < patweb99> tried that
13:48 < patweb99> fails for me
13:48 < patweb99> although JS shows that eval should be what's used
13:48 < EyePulp> patweb99: I'd say there's like a better way to do what you want.
13:48 < EyePulp> *likely
13:49 < patweb99> agreed EyePulp
13:49 < benvie> I use Function
13:49 < benvie> since it doesn't leak scope
13:49 < patweb99> any thoughts? what i am trying to do is store the function in Redis for use later
13:49 < EyePulp> if you paste your code someplace, the gentle helpers of #node.js will descend upon you like a gentle collection of bricks from above.
13:50 < patweb99> var o = eval( a ); 	console.log( o ); 	if ( typeof o == 'function' ) { 		o(); 	}
13:50 < benvie> v8> new Function('scope', 'return function _'+Math.random().toString(36).slice(2)+'(){ return scope.x }')({ x: 'hi' })
13:50 < purr> benvie: (function) _jfjmkxieq8q9qkt9
13:50 < benvie> v8> new Function('scope', 'return function _'+Math.random().toString(36).slice(2)+'(){ return scope.x }')({ x: 'hi' })()
13:50 < purr> benvie: (string) 'hi'
13:51 < patweb99> interesting
13:51 < patweb99> purr and benvie. i will give those a shot
13:51 < benvie> eval has this issue
13:52 < benvie> v8> (function(){ var priv='leak'; return eval('priv') })()
13:52 < purr> benvie: (string) 'leak'
13:52 < benvie> v8> (function(){ var priv='leak'; return new Function('priv')() })()
13:52 < purr> benvie: ReferenceError: priv is not defined
13:53 < patweb99> this is basically my function
13:53 < patweb99> var run = function( command ) { 	console.log( command ); }
13:53 < patweb99> i call run.toString() to store as a the string version of the function
13:53 < benvie> yeah something I do just for readability is like
13:54 < benvie> new Function('return '+function(){ /* code */ })
13:54 < benvie> so it is actually a function to gets turned to code in place
13:55 < benvie> another useful thing about Function is this
13:55 < patweb99> score benvie
13:55 < patweb99> i think that may have worked
13:56 < benvie> v8> Function.apply(null, ['a', 'b', 'c', 'return [a,b,c]']).apply(null, ['x', 'y', 'z'])
13:56 < purr> benvie: (object) ['x', 'y', 'z']
13:56 < patweb99> gotcha
13:56 < patweb99> thanks benvie
13:57 < patweb99> i'm setting up my mac to take voice commands and want it to run general functions for me
13:57 < patweb99> through a main cortex
13:57 < patweb99> like redis
13:59 < EyePulp> patweb99: that sounds interesting
13:59 < benvie> v8> Function.apply(null, Object.getOwnPropertyNames(global).concat('return Object')).apply(null, Object.getOwnPropertyNames(global).map(function(k){ return { wrapped: global[k] } }))
13:59 < purr> benvie: ReferenceError: global is not defined
13:59 < benvie> oops
13:59 < patweb99> @EyePulp yeah. i take care of a pretty large environment
14:00 < patweb99> and i want this (calling it HAL9000) to talk to me whenever systems go down and such
14:00 < EyePulp> patweb99: I take care of a plant in my office that I keep forgetting to water.
14:00 < patweb99> I will be talking through a bluetooth headset to talk back while it runs against Redis to figure out answers
14:01 < patweb99> i'm hoping to have something working today
14:02 < EyePulp> patweb99: I may have missed it, but you're planning on storing the functions in redis as well as the data?
14:10 < CIA-116> node: Bert Belder v0.8 * r4899116 / (10 files in 7 dirs): v8: upgrade to 3.11.10.22 - http://git.io/QJzVNg
14:10 < CIA-116> node: Bert Belder v0.8 * rc5e554d / (deps/v8/build/common.gypi deps/v8/tools/gyp/v8.gyp): v8: reapply floating patches - http://git.io/-I9PDg
14:10 < CIA-116> node: Fedor Indutny v0.8 * r052e63f / (2 files in 2 dirs): v8: fix semaphore on MacOS - http://git.io/Nz6X5A
14:12 < patweb99> EyePulp are you getting my messages?
14:35 < deedubs> substack: with seaport if I wanted to fire up service with a specific branch of a repo would you suggest I use meta data to tag it with the branchname?
14:35 < context> to anyone living in europe, where do you live and whats the current gas price?
14:38 < lperrin> in which currency ?
14:38 < C0deMaver1ck> bitcoin ;)
14:39 < lperrin> in Paris, France, it's around 1.6â‚¬/litre
14:39 < lperrin> (on a good day)
14:45 < pandark_> Hi. Can someone tell me what is wrong with this simple code? http://pastebin.mozilla.org/1807389
14:47 < pandark_> (probably a wrong use of callbacksâ€¦)
14:48 < Rhodesy> Anyone know if you can define a server when doing a dns.lookup ?
14:48 < mscdex> Rhodesy: why not?
14:49 < mscdex> pandark_: what is the problem?
14:49 < Rhodesy> why not what/
14:50 < mscdex> Rhodesy: there is no reason why you couldn't
14:50 < pandark_> mscdex: It doesn't seem to do anything.
14:50 < Rhodesy> well, im not sure how you do it...
14:50 < mscdex> pandark_: you're not executing `call` in foo(), you're returning a function instead
14:51 < timeturne> not exactly node related but is there a way to check how big a document will be when saved to mongo?
14:51 < mscdex> Rhodesy: same way you would if you weren't doing a dns lookup?
14:51 < Rhodesy> i've never used the dns functions, and would have expected a server parameter.... but maybe my naming conventions are just different
14:51 < mscdex> Rhodesy: sorry i misunderstood
14:53 < mscdex> Rhodesy: i don't think there is a way to specify a dns server to use
14:54 < mscdex> at least currently
14:54 < Rhodesy> hmm
14:54 < Rhodesy> might have to write something for it then
14:55 < timoxley> Rhodesy what are you trying to do?
14:56 < Rhodesy> i just want to query some nameservers for a domain
15:07 < pandark_> mscdex: Soâ€¦ what should I change?
15:11 < mscdex> pandark_: don't return a function and replace res/err() with calls to call() instead
15:12 < mscdex> call(new Error('...')) if there was an error, otherwise call(null, 'results')
15:12 < pandark_> ok, thanks.
15:23 < timoxley> Rhodesy https://github.com/tjfontaine/node-dns
15:23 < jtomasrl> need some help with a test code, im getting no response for a apache benchmark i think the code is pretty simple. https://gist.github.com/3657293
15:24 < astropirate> This is the wieredest bug EVER. when I use formidable to parse incoming form, and then make a reference to the "fields" that it returns... the connection hangs
15:24 < astropirate> if i comment that line the connection continues
15:26 < Rhodesy> timoxley: Thanks :)
15:27 < timoxley> jtomasrl is that all the code? 
15:27 < RLa> timoxley, hey, remember me?
15:27 < timoxley> RLa yep
15:27 < jtomasrl> timoxley: yup
15:27 < RLa> i was doing data sync stuff
15:27 < timoxley> RLa yep
15:27 < timoxley> Hows' that going
15:27 < timoxley> jtomasrl how are you calling that?
15:28 < RLa> i noticed you have a package on npm
15:28 < jtomasrl> timoxley: server.get('test', cmd.Test); (using restify)
15:28 < RLa> but i could not find source repo for it
15:28 < timoxley> RLa that isn't uptodate, my open source efforts were 'shut down'
15:29 < RLa> timoxley, we got our stuff working but now i'm checking out how to do things in better ways
15:29 < RLa> ah damn
15:29 < timoxley> nice
15:29 < timoxley> yeah
15:29 < timoxley> reminds me I should unpublish that
15:29 < RLa> have you heard of json-patch?
15:30 < timoxley> RLa yeah, it looks pretty decent
15:30 < astropirate> Could someone take a look at this code. http://pastie.org/4674557  if i comment line 7 everything works...
15:30 < astropirate> If i don't then user request just hangs
15:30 < duc1199> Its always line 7 (or 6)
15:30 < slaskis> hmm, can i use bitshift to convert 0xff0000 to 0x22ff0000 in some cool way? 
15:30 < RLa> i thought it could be directly used
15:30 < astropirate> duc1199, sometimes 8
15:30 < RLa> if you have document db
15:31 < timoxley> astropirate my guess it's not that, rather it's something that uses the fields
15:32 < RLa> timoxley, just save snapshot after sync, then diff it with the current state on the next sync to get differences to send
15:32 < RLa> and on server apply differences
15:32 < astropirate> timoxley, good tip. thanks
15:32 < RLa> that would have been perfect for my app
15:32 < jtomasrl> timoxley: could it be possible that a missing ";" should make my apache benchmark not to finish?
15:32 < timoxley> astropirate I thought it might have been some kind of getter or something ut looking at the source it's just a normal object https://github.com/felixge/node-formidable/blob/master/lib/incoming_form.js#L117
15:33 < timoxley> jtomasrl unlikely.
15:33 < timoxley> jtomasrl you're probably not listening on a port
15:33 < duc1199> astropirate: do you know what fields looks like? I'd use http://nodejs.org/api/debugger.html to watch the variable
15:33 < timoxley> or something
15:33 < jtomasrl> tomoxley, well it random works then
15:33 < mscdex> slaskis: (v >>> 8) | (0x22 << 24) ?
15:34 < duc1199> astropirate: this way you can trace the variable down to a point when things to wrong
15:34 < mscdex> er wait that's wrong
15:34 < astropirate> duc1199, it was a very silly erro :p
15:35 < slaskis> mscdex: thanks, got it with (0xff0000 | 0x22 << 24).toString(16)
15:35 < astropirate> thank you timoxley duc1199 
15:35 < mscdex> slaskis: yeah
15:36 < duc1199> astropirate: regardless, if you learn to operate the debugger, you will instantly feel like programming is more fun than now
15:36 < astropirate> duc1199, there was also a debugger for node that used chrome. you know what its called?
15:36 < duc1199> nope
15:36 < duc1199> historically, debugging has been a bitch in node
15:36 < astropirate> duc1199, ohh i've used my share of debuggers :p  didn't know node now had one
15:38 < astropirate> duc1199, https://github.com/dannycoates/node-inspector
15:55 < jmpe> Can anyone direct me to a node-tar use guide? Googling node tar has been fruitless.
15:57 < jmpe> Would like to tar and untar a Windows directory within node.
15:57 < nkuttler> is there some html tidy app for node or will i have to write something myself?
16:02 < djazz> my nodejs program just freezes, can't kill it with Ctrl+C, I'm using the module serialport and when trying to send something over bluetooth (rfcomm) it freezes. I'm on armhf
16:26 < jtomasrl> need some help with restify plz, apache benchmanrk take ages, https://gist.github.com/3657293
16:47 < AviMarcus> Does anyone use connect-roles? It looks good for role-based security... but I've not yet tried it or even implementing role based security
16:48 < djazz> nvm my nodejs freezing, i upgraded serialport, now its workin'
16:48 < djazz> mindstorms NXT, here we go!
16:52 < felixge> fg
16:53 < AAA_awright> Life would be so much easier if ECMAScript would create a new variable whenever you used "var" x_x
16:56 < jammsen> Since mysql doesnt support notifications, how can i work around that? i want to display the new inserted row from my database live on the site, when it happens, which way do i have other then notification?
16:57 < felixge> jammsen: if you control all applications writing to your mysql database, I would add some code that broadcasts these kinds of events to a redis instance via pub sub
16:57 < felixge> which all of your app servers could listen to
16:58 < mscdex> jammsen: or get hacky and use posix queue mysql plugin and push to a queue on a trigger and listen on that queue in node :-D
16:58 < jammsen> felixge: how do you mean that, broadcast? you mean my website should tell node hat there is something new?
16:59 < jammsen> mscdex: is there a demo/tutorial?
16:59 < mscdex> jammsen: not readily, but if you're in control of what's going in the database, you should definitely be notifying node instead, it's much more direct
17:00 < jammsen> mscdex: how? im totally new to that kind of stuff
17:00 < mscdex> jammsen: where are you updating the database from?
17:00 < mscdex> php?
17:01 < jammsen> mscdex: i want to insert via a php script my database, that script connects to a rcon port from a gameserver ^^
17:01 < jammsen> mscdex: so anyone chats on server, i get the mysql entry and then i want to use node.js/socket.io to display it live
17:02 < mscdex> jammsen: one way is to have a simple tcp server running in node listening for notifications from your php script
17:05 < jammsen> so my eventconsole is not only inserting my entry into the database, it notifys my nodeserver that broadcast to the client that there is something new?
17:05 < jammsen> or do i have to use 2 servers? o0
17:05 < jammsen> @ mscdex
17:06 < malditogeek> Hi guys, trying to install zmq in ubuntu 12.04, has anyone seen this error before? http://pastebin.com/VgeP4dXL (got libzmq-dev and libzmq installed, and all the dependencies seem to be satisfied)
17:06 < mscdex> jammsen: have your socket.io server have a tcp server also. then either every time you go to insert into the db or after you've done all your insertions, send the relevant new data by connecting to the tcp server from php
17:07 < mscdex> then the tcp server can broadcast over socket.io
17:07 < mscdex> malditogeek: update node
17:08 < jammsen> mscdex: so u mean 2 server in one script right?
17:08 < mscdex> malditogeek: or use the zmq master branch
17:08 < mscdex> jammsen: yeah
17:09 < jammsen> mscdex: i just done livestats via var tail = spawn('tail', ['-f', '/srv/bf3/176.57.134.106_47200.log']); tail.stdout.on('data', function(data) {socket.send(data);});
17:09 < jammsen> how can both server communicate with each other?
17:10 < mscdex> jammsen: you can have both a tcp and socket.io server in the same process.... from there it's just a matter of accessing the relevant (server) instances by variable name
17:11 < mscdex> jammsen: and on the php side you just use fsockopen(), fwrite/fputs, fclose iirc
17:11 < jammsen> mscdex: but tail triggers an event, i need there to write a function that gets data and streams it right?
17:28 -!- mode/#Node.js [+o piscisaureus_] by ChanServ
17:29 < malditogeek> mscdex: thanks man, updated to 0.8.8, worked
17:30 < drudge_> hrmm, request's .form() always fails with Object #<Request> has no method 'append'
17:31 < n3lthon> hi, to uninstall node.js from debian squeeze make uninstall is enough ( i have installed it using the wiki method)?
17:34 < jtomasrl> for mongodb driver is it require a db.open?
17:41 < WarheadsSE> Anyone having any ARM issues ?
17:43 < TooTallNate> WarheadsSE: not at all
17:43 < TooTallNate> what kind of problems?
17:44 < TooTallNate> WarheadsSE: http://n8.io is running on a raspberry pi like a champ
17:45 < WarheadsSE> Good to hear.
17:45 < WarheadsSE> v8 guys have pretty much ignored my reported problem on v5tl
17:46 < WarheadsSE> The problem is still there, but intermittant
17:47 < superjoe> is it possible to do SSL termination without breaking long lived connections?
17:47 < superjoe> e.g. proxy http to https
17:49 < WarheadsSE> staring at your patches now TooTallNate 
17:54 < WarheadsSE> Is that setup from upstream in V8 ? (ala higher than dep's)
17:54 < jammsen> https://pastee.org/hvw2t when i connect on http://localhost:4002 i got 2 log entries in the console, not just one, why?
17:55 < jammsen> mscdex: any clue?
17:59 -!- ryah changed the topic of #Node.js to: https://soundcloud.com/whatsonot/what-so-not-the-ripe-house-party-tour-guest-mix
18:05 < drudge_> does anyone know how to remove a header from a request, like curl's -H
18:05 < tuhoojabotti> ?
18:06 < EyePulp> remove in order to read it, or remove before making the request?
18:07 < drudge_> EyePulp: remove before making the request
18:07 < EyePulp> are you using a library (e.g. request) to make the request?
18:07 < drudge_> yes, the request lib
18:08 < EyePulp> request.get({uri:'someurl','headers':null},fn(){});
18:09 < tuhoojabotti> yeah
18:09 < drudge_> yeah i tried this, but i'm using req.form() to set some multi-part data, and it looks like it is adding headers there which is screwing up the request
18:10 < Taar779_w> JSLint is always complaining about this: http://vpaste.net/Hkt60 Is there a different way you should format this? Or do I have to live with JSLint complaining all the time?
18:10 < Almindor> how do you guys "test" out PUT and POST requests?
18:11 < Almindor> is there some nifty tool for this?
18:11 < EyePulp> Taar779_w: I allow a laxcomma = true argument in my jshint preferences
18:12 < EyePulp> Almindor: the request module is pretty good
18:13 < EyePulp> Almindor: https://github.com/mikeal/request#forms
18:14 < EyePulp> Almindor: https://github.com/mikeal/request#requestput
18:14 < Almindor> EyePulp: thanks, seems fine
18:15 < Taar779_w> EyePulp: thank you, I didn't see that option in the jslint's docs
18:15 < EyePulp> Taar779_w:  it may not be - I think I'm using jshint
18:16 < EyePulp> not lint
18:16 < EyePulp> =)
18:21 < Taar779_w> EyePulp: Is JSHint a better choice than JSLint?
18:21 < EyePulp> couldn't say - jshint is built into sublimelinter, the linter I use with sublimetext2, my editor.  It's been good for me, but I haven't used others to compare.
18:22 < Aldus> wow. I am starting with node.js and loving it. Built a basic chat in half a day...
18:23 < Aldus> if anybody dares helping me in testing it, try http://chat.put.it/
18:23 < EyePulp> Taar779_w: if looks like I can use hint or lint  -- https://github.com/SublimeLinter/SublimeLinter#linter-specific-notes
18:25 < Taar779_w> EyePulp: Interesting, well it appears that JSHint is JSLint but just given some extra flavor
18:25 < bradgignac> Taar779_w: there separate codebases
18:25 < tuhoojabotti> Aldus: http://www.imgur.com/Xw8an.png
18:25 < bradgignac> JShint is not as strict as LSlint
18:26 < Taar779_w> bradgignac: a fork of JSLint
18:26 < tuhoojabotti> Aldus: and it crashed Chrome for Android 
18:28 < Aldus> tuhoojabotti, thank you for trying. I didn't test it on mobile yet
18:28 < slick> well that was fun to break ^_^ :D
18:28 < Aldus> (thank you for breaking it :D ) 
18:29 < Aldus> I was just rickrolled 
18:29 < WarheadsSE> hehe
18:29 < slick> lol
18:29 < slick> that's a good idea
18:29 < Aldus> sanitized chat messages but not usernames - lolz. Listening to the whole song as a punishment
18:29 < slick> haha
18:29  * WarheadsSE hattip
18:31 < jammsen> is there a way to send via the function sendUpdate data to my io.socket?
18:31 < jammsen> https://pastee.org/fuw64
18:41 < ben_alman> how can i compare 2 buffers to see that they have the same binary data? it can be a lib, but has to be pure js. for unit tests
18:43 < TooTallNate> ben_alman: you can do that with a simple for loop
18:43 < ben_alman> ok
18:43 < ben_alman> seems simple enough
18:44 < ben_alman> surprised there isn't some kind of .equals method
18:55 < djazz> hehe, mindstorms + node.js + webcam + raspberry pi
18:55 < djazz> http://djazz.mine.nu:8082/
18:58 < ben_alman> thanks TooTallNate 
19:00 < TooTallNate> djazz: it crashed?
19:00 < AAA_awright> I connected, then it died
19:00 < AAA_awright> I think I broke it
19:00 < AAA_awright> TooTallNate: Lol
19:00 < AAA_awright> There we go again
19:00 < TooTallNate> there's a serious battle here
19:00 < TooTallNate> for control
19:00 < TooTallNate> hahaha
19:01 < djazz> TooTallNate: ws crashed when im tried to send to broken socket
19:01 < djazz> i think
19:01 < AAA_awright> I'm trying to get all the lights on at the same time
19:01 < djazz> only one at a time, lego limitations
19:02 < TooTallNate> AAA_awright: i think you need 3 people for that :p
19:02 < djazz> for the colors
19:02 < TooTallNate> ahh shoot
19:02 < AAA_awright> Or ECMAScript-Fu
19:02 < djazz> not all at once
19:02 < djazz> also, cam crashes sometimes too
19:02 < djazz> buggy drivers for ARM?
19:06 < TechnoCat> anyone know of a good starting place for implementing a multiplayer browser game using socket.io and node.js?
19:07 < blueadept> TechnoCat: http://wordsquared.com/
19:07 < AAA_awright> TooTallNate: Ah! YOu can hold down r+g+b on the keyboard
19:08 < jammsen> djazz: did you make that?
19:08 < djazz> yes
19:08 < pringlescan1> TechnoCat, substack has https://github.com/substack/shoe that you might want to check out
19:08 < TooTallNate> djazz: how are you interacting with the camera?
19:08 < djazz> this afternoon xD
19:08 < djazz> motion
19:08 < djazz> $ motion -n
19:08 < jammsen> djazz: how the hell did you do that? xD
19:08 < TooTallNate> what's that?
19:08 < djazz> did some settings in the conf files
19:08 < chrisjaure> djazz: that's awesome, good work
19:08 < blueadept> TechnoCat: ah sorry, yeah wordsquard is a solid implementation, not a clear example layout
19:08 < TechnoCat> heh yeah, this is cool and all
19:08 < djazz> motion is to put your cam as webcam server
19:09 < TooTallNate> ahh 
19:09 < TooTallNate> http://linux.die.net/man/1/motion
19:09 < djazz> i used the mindstorms_bluetooth module
19:09 < djazz> to communicate with the robot
19:09 < djazz> i wrote the robot's software in NXC
19:09 < djazz> it only recieve commands and set motor/colors
19:10 < djazz> it also send light sensor value and battery state
19:10 < djazz> node.js is running on the Raspberry Pi
19:10 < TooTallNate> AAA_awright: it looks like only one stays activated still
19:10 < djazz> its in the right of the image
19:10 < AAA_awright> It looked like I could get cyan, though
19:10 < AAA_awright> Maybe that's just a bad camera
19:11 < jammsen> djazz: so you are advanced in node right?
19:11 < djazz> ya
19:11 < djazz> i've done the most related to http/websockets
19:11 < djazz> in node
19:12 < jammsen> djazz: can you tell me what i do wrong? https://pastee.org/9yfj5
19:12 < jammsen> i got a io server that sends data
19:12 < jammsen> and a server that i wanna call
19:12 < jammsen> the socket server should send just a text to all clients
19:12 < jammsen> when i connect to the other server
19:12 < jammsen> what do i wrong?
19:12 < djazz> long time ago i used socket.io
19:13 < ben_alman> is there a way to get all the encoding types Buffer supports by default, programatically?
19:13 < jammsen> djazz: is there another way?
19:13 < ben_alman> not sure i want to hard-code this list http://nodejs.org/docs/latest/api/buffer.html#buffer_buffer
19:13 < lyaunzbe> Can anyone recommend me a node project that has a lot of good async tests? Im having some issue's with mocha's done
19:13 < TechnoCat> if you send it something it doesn't support what happens? it throws an error?
19:14 < drudge_> I can't for the life of me figure out why the curl command works, and the request() call gives a 503 https://gist.github.com/2e31de49061844573920
19:14 < jammsen> djazz: so no clue?
19:14 < djazz> jammsen: what are you trying to do?
19:15 < TooTallNate> ben_alman: there's no way to get a listing, you'll have to hard-code it
19:15 < djazz> no listener?
19:15 < TechnoCat> drudge_, what server are you requesting from?
19:15 < TooTallNate> but that list changes once in a blue moon so it's not so bad
19:15 < jammsen> djazz: yeah kinda, i wanted to show on my site a new entry from my mysql database table
19:16 < drudge_> TechnoCat: the same in both cases
19:16 < jammsen> djazz: but i heard that mysql does no notifications, so i want to call a url to let the server now, there is something new
19:16 < jammsen> got it?
19:16 < TechnoCat> so no cross domain stuff is going on?
19:16 < djazz> jammsen: i usually store all clients in an arrao
19:16 < djazz> array
19:16 < drudge_> no
19:16 < djazz> so i can send to them later
19:17 < jammsen> djazz: but how do you check for new entries in mysql-table?
19:17 < djazz> but socket.io got a built in broadcast function
19:17 < djazz> ehm, perodically?
19:17 < jammsen> but that is not live right?
19:18 < jammsen> because it does not react to an event right?
19:18 < djazz> do you use node.js to insert into mysql?
19:18 < djazz> in same file?
19:19 < jammsen> no, php eventconsole self programmed that receives server data live
19:19 < djazz> well.. you could just ditch node.js and use ajax...
19:20 < djazz> xD
19:20 < TechnoCat> but when you have a hammer, everything looks like a nail
19:20 < djazz> what kind of mysql updates?
19:20 < jammsen> djazz: how do you mean that? i think i cant follow your thoughts
19:20 < ben_alman> TooTallNate: i'm thinking of "detecting" if it's invalid by wrapping a try/catch around new Buffer("", encoding);
19:21 < TooTallNate> ben_alman: you can do that, but node master branch just got a Buffer.isEncoding() function
19:21 < ben_alman> too bad i can't "register" a new encoding to like, process buffers with a callback
19:21 < jammsen> djazz: new entries, on a event on php console, a entry is written, simple INSERT
19:21 < TooTallNate> which does just that
19:21 < djazz> jammsen: im not good at helping with code/learn others xD
19:21 < jammsen> djazz: im not new, i just dont understand what you mean with use ajax, in which way ^^
19:22 < djazz> you use mysql through node.js  as well?
19:22 < jammsen> djazz: i never used mysql in node :(
19:22 < jammsen> only logfiles with tail -f instance spawns
19:23 < djazz> so, when that variable change, you want to broadcast data to all connected clients?
19:23 < jammsen> djazz: yeah that would be cool
19:23 <@konobi> drudge_: mix of event+callback style?
19:24 < djazz> jammsen: http://socket.io/#how-to-use scroll down to broadcast
19:24 < drudge_> konobi: i took this style from mikeal's examples and tests
19:25 < djazz> i dont know how to broadcast to everyone
19:25 <@konobi> drudge_: yeah, example seems confusing
19:25 < djazz> maybe its io.sockets.broadcast.emit()
19:25 < drudge_> konobi: was referring to https://github.com/mikeal/request/blob/master/tests/test-form.js#L66
19:25 < TechnoCat> broadcast will send to all connected clients but itself i believe
19:25 <@konobi> drudge_: you can pass the 'form' object in as part of the options
19:25 < drudge_> konobi: thought that didn't work with multipart
19:25 < djazz> jammsen: http://stackoverflow.com/questions/7352164/update-all-clients-using-socket-io
19:26 < jammsen> djazz: the content is send, but i think i use the wrong event or so
19:27 < jammsen> when i use while(true) the server is busy and reacts to nothing more
19:27 < djazz> use setinterval?
19:27 <@konobi> huh, odd
19:27 < djazz> and dont put this in the connection event listener
19:27 < djazz> a broadcast can be outside of it
19:28 < djazz> io.sockets.emit('my event', DATA);
19:28 < djazz> works
19:28 <@konobi> drudge_: what do you get if you remove the 'Expect:' header?
19:29 < drudge_> konobi: i can't see it actually passing an Expect header, headers only contains 'host'
19:29 <@konobi> in your curl you do though
19:30 < pringlescan> This is bizare, I can SSH into all my non-AWS boxes, but I can't SSH into any of themâ€¦ but they're all up and responding to other protocolsâ€¦ 
19:31 < drudge_> konobi: the -H removes the expect header, you mean try the curl without removing it?
19:31 < jammsen> djazz: setinterval inside from the connection right?
19:32 < djazz> no
19:32 < djazz> to check for mysql updates
19:33 < jammsen> djazz: i thought that i should use the interval to send the message?
19:33 < djazz> when you recieve your new data from http client (i think, you do the broadcast
19:33 < djazz> (i think)*
19:34 < TechnoCat> yeah, usually the clients don't communicate directly with eachother
19:34 < djazz> use setinterval in the http response to wait X seconds to update again
19:34 < djazz> settimeout*
19:35 < drudge_> konobi: curl works fine either way, but the -H without a value after the colon removes the header if it exists in curl. I was attempting to match the requests identically
19:36 < djazz> jammsen: what do the listen server do?
19:38 < jammsen> djazz: the original idea was, one server that sends data(http_send), the other one that my script calls when something new is inserted into the database(http_listen), then the listen server should send data to the socket, but i cant access socket because its a var inside the io.socket server, you understand?
19:38 < samholmes> Shouldn't http.clientResponse be documented as a Class in the nodejs.org documentation?
19:39 <@konobi> drudge_: yeah... i just wonder... how the hell does it know when you've stopped appending multipart items and end the request?
19:39 < djazz> ah
19:39 < drudge_> konobi: i was thinking the same, so i added logging to see if it was actually appending them before the request and it is
19:40  * nkuttler wonders how many node feed readers there are.. he's just writing one..
19:41 < TechnoCat> feed readers are becoming pretty popular learning projects lately
19:41 < TechnoCat> even microsofts windows 8 example project is a feed reader
19:41 < nkuttler> i wanted to write one for years because i don't like anything out there..
19:41 < TechnoCat> i love google reader
19:42 < nkuttler> now it's just my second node project, socket.io and a few other libs. very nice
19:42 < nkuttler> google reader isn't bad but i don't want to share all my subscriptions with google..
19:42 < nkuttler> in fact, i just need opml import/export and it'll be bye bye google reader
19:43 < nkuttler> well, import would do for now
19:43 < jammsen> djazz: you understand?
19:44 < djazz> jammsen: no sorry :/
19:44 < TechnoCat> nkuttler, what are you using socket for
19:44 < TechnoCat> just to communicate back home with read/unread?
19:44 < djazz> node.js code for my NXT remote: http://pastebin.com/dy9cxerZ
19:44 < nkuttler> TechnoCat: send new articles from the server, config from the client, etc
19:45 < TechnoCat> sounds like a fun project
19:45 < nkuttler> yeah, i'll put it on github in 0.1 or 0.2
19:46 < nkuttler> it's really really simple though. kinda like the safari built-in reader, which is one of the few things i liked about my mac
19:47 < jammsen> djazz: im trying to put it simple, just think of a website, when a new news entry is inserted in mysql-database-table i wanna to show it instantly on the site. the admin would be done by another website, seperated from that. just showing nearly instant would be fine
19:47 < drudge_> konobi: interesting, if i remove request completely and just use form-data it works
19:47 <@konobi> drudge_: user-agent weirdness? 
19:47 < jammsen> djazz: understood?
19:47 <@konobi> o.O
19:47 < djazz> jammsen: node.js check for the update, how?
19:48 < jammsen> djazz: thats what i try to find out
19:48 < samholmes> TechnoCat: I would love a reader service that allows me to subscribe to "concepts" instead of site feeds.
19:48 < drudge_> konobi: working https://gist.github.com/5d80946c1c9000105233
19:48 < djazz> jammsen: the content is accessable from a php script?
19:49 < TechnoCat> samholmes, reddit
19:49 < djazz> use a HTTP request to fetch this?
19:49 < jammsen> djazz: yes i could do that
19:49 < jammsen> djazz: how do i check if there is a new entry?
19:49 < djazz> jammsen: or, send something from php to node
19:49 < samholmes> TechnoCat: not exactly. I'm looking for something a little less /b/ if you know what I mean.
19:49 < djazz> over localhost
19:49 < samholmes> but then again I've never really used reddit much
19:49 < djazz> simple tcp message
19:50 < jammsen> djazz: yeah, thats the problem, how can i tell them, NOW send update?
19:50 < jammsen> how to check that?
19:50 < nkuttler> samholmes: how would that work though? scan the feed entries for keywords, or.. ?
19:51 < nkuttler> i've been thinking about adding tags to feeds but that doesn't serve the same purpose
19:51 < nkuttler> samholmes: maybe you want google news?
19:51 < jammsen> djazz: i need to acces the socket variable insinde of io.sockets.on('connection' ... or not?
19:52 < nkuttler> jammsen: you open a new socket from each client
19:52 < djazz> jammsen: in php: $f = fsockopen('127.0.0.1', <port (4010)>, $errstr, $errno, TIMEOUT);
19:52 < djazz> fwrite($f, MYSQL DATA);
19:52 < djazz> fclose($f);
19:52 < djazz> in node you make a simple TCP client
19:52 < nkuttler> jammsen: not sure what the problem is. the server then handles passing on data
19:52 < jammsen> djazz: i mean in node.js
19:52 < djazz> that collects all data until socket closes
19:52 < samholmes> nkuttler: Nah. It'd be like hacker news where anyone could post a link and tag it with category/tags. Then you just subscribe to certain tags in your feed.
19:53 < djazz> this is the new blog post whatever
19:53 < TechnoCat> socket close is \0\0 right?
19:53 < djazz> json data perhaps
19:53 < nkuttler> samholmes: yeah, sounds like reddit..
19:53 < samholmes> nkuttler: is there a good redit chrome extension that aggregates all my subs?
19:53 < nkuttler> samholmes: no idea
19:54 < TechnoCat> isn't the reddit home page an aggregate of all your subs?
19:54 < nkuttler> yeah, maybe it has a feed as well. not sure though how to auth your feed reader
19:55 < jammsen> djazz: nkuttler: but how do i get the event to check all that? just use a interval inside the connection of io.sockets.on('connection', function(socket) { ?
19:55 < djazz> noo
19:55 < djazz> a tcp listens from php connections
19:55 < jammsen> djazz: i got all that how to make, but i dont now how to combine and the order in node xD
19:55 < djazz> when you get data, you do the io.sockets.emit();
19:56 < djazz> you dont do ANYTHING in the connection event
19:56 < nkuttler> well, maybe some init action
19:56 < jammsen> okay. that sounds weird, and then?
19:57 < Hyper_Coder> Okay, so I installed Node.js. Now what?
19:58 < djazz>  jammsen: when a clients connect he/she already got the latest data, right?
19:58 < djazz> on the site
19:58 < jammsen> djazz: if you go on the first time, no
19:58 < nkuttler> Hyper_Coder: what do you want to do with it?
19:58 < TechnoCat> Hyper_Coder, what sort of platform are you interested in running node on/for?
19:59 < TechnoCat> web? embedded? cli?
19:59 < Hyper_Coder> windows 64 bit, but doesnt nodejitsu allow you to deploy the code for anyone to view?
20:00 < Hyper_Coder> I wish to start developing and deploying code so others can use my applications I build. First step make a "hello world"..
20:00 < Hyper_Coder> https://gist.github.com/3651713
20:00 < nkuttler> i hear the web is about being platform agnostic
20:00 < Hyper_Coder> I wish to run it on linux
20:00 < Hyper_Coder> but nodejitsu allows what?
20:00 < samholmes> why was http.createClient depreciated?
20:01 < Hyper_Coder> Maybe I don't fully understand
20:01 < nkuttler> ew, sudo npm install?
20:01  * nkuttler wonders what sudo does on window anyway..
20:01 < jammsen> djazz: wow that works :D
20:01 < TechnoCat> it doesn't do anything
20:01 < nkuttler> Hyper_Coder: have you even installed node yet?
20:01 < TechnoCat> Hyper_Coder, it looks like you don't have node.exe in your PATH
20:01 < Hyper_Coder> Yes, I have
20:01 < jammsen> djazz: just one problem, it does it twice? why that? o_0
20:01 < djazz> jammsen: wat?
20:01 < CIA-116> node: Pooya Karimian v0.8 * r0087bc6 / doc/api/cluster.markdown : cluster.worker description and examples ere missing from the top level of docs - http://git.io/4SW6oA
20:01 < djazz> twice what?
20:02 < nkuttler> Hyper_Coder: then it's not in your PATH or whatever windows uses
20:02 < jammsen> djazz : wait pastebin
20:02 < Hyper_Coder> nkuttler: so what should I do to get it in my PATH?
20:02 < nkuttler> Hyper_Coder: i haven't used windows since win2k
20:02 < jammsen> djazz: https://pastee.org/m683
20:03 < Hyper_Coder> Please explain what nodejitsu is, please?
20:03 < Hyper_Coder> I may have the wrong idea of it
20:03 < nkuttler> looks like a nodejs hosting platform
20:03 < mmalecki> nodejitsu is a hosting for node.js applications
20:03 < jammsen> when i call the server on :4010 the console shows me twice "new update request" and sends 2 times "io.sockets.emit('share', newmessage)" to the client ^^
20:03 < mmalecki> source: I work there
20:04 < nkuttler> Hyper_Coder: i'd try the "how it works" link on their front page
20:04 < jammsen> crazy
20:04 < jammsen> i dont get why?
20:04 < djazz>  jammsen: because browser wants a favicon too
20:04 < Hyper_Coder> kk
20:04 < djazz> ;DD
20:04 < djazz> use TCP
20:04 < jammsen> thats it? o0
20:04 < djazz> its easier from php
20:04 < djazz> yes
20:04 < nkuttler> Hyper_Coder: btw, if you want to run this on linux why not simply install linux on a computer?
20:04 < jammsen> how to setup a node server for tcp?
20:05 < djazz> var net = require('net');---
20:05 < Hyper_Coder> nkuttler, I want to deploy the code on a server
20:05 < Hyper_Coder> Why is everyone deploying it on their computer?
20:05 < TechnoCat> i deploy my stuff on my home computer. =P
20:05 < samholmes> why?
20:05 < Hyper_Coder> Yes but why?
20:05 < nkuttler> Hyper_Coder: i dev on localhost and then push it to one of my servers..
20:05 < TechnoCat> i do the same as nkuttler 
20:05 < Hyper_Coder> Yes, that is what I wish to do
20:06 < djazz> jammsen: http://nodejs.org/api/net.html#net_net_createserver_options_connectionlistener
20:06 < nkuttler> because python -m SimpleHTTPServer mostly
20:06 < nkuttler> so no need to mess with a real server's config..
20:07 < TechnoCat> how do i split out node servers into virtual directories? right now i have it split by port which is ugly.
20:07 < nkuttler> TechnoCat: i have nginx in front which can reverse proxy any location to any port
20:07 < drudge_> konobi: thanks for your help btw, https://github.com/drudge/pastie.chocmixin
20:07 < TechnoCat> oooh sexy
20:08 < nkuttler> not the websocket stuff though atm..
20:08 < Hyper_Coder> Okay..... so nodejitsu is what I want... I understand what is it .. but NOW how the heck do I start?
20:08 < TechnoCat> ergh
20:08 < jammsen> djazz: WOW that works xD
20:08 < Hyper_Coder> I know javascript and wish to run the code on the server rather then on the clients side
20:08 < Hyper_Coder> that is my goal
20:08 < jammsen> djazz: that was all? xD
20:08 < TechnoCat> Hyper_Coder, nodejitsu is a node application hosting service. it has some api features too i believe.
20:08 < nkuttler> Hyper_Coder: you'll have to check their docs
20:08 < jammsen> djazz: goooosh long way xD
20:09 < Hyper_Coder> Check whos docs?
20:09 < mmalecki> Hyper_Coder: if you need help with nodejitsu, feel free to join #nodejitsu
20:09 < TechnoCat> nodejitsu's docs
20:09 < nkuttler> TechnoCat: there's some tcp module for nginx though that you could build to get websocket proxy support
20:09 < nkuttler> (afaik)
20:09 < mscdex> node.js rules!
20:09 < Hyper_Coder> lmao
20:09 < djazz> jammsen: :)
20:10 < Hyper_Coder> I thought I was in the nodejitsu channel
20:10 < Hyper_Coder> sorry guys
20:10 < TechnoCat> no, lol, this is #node.js
20:10 < TechnoCat> very related though
20:10 < Hyper_Coder> will be back though
20:10 < mscdex> dun dun dunnnn
20:10 < jammsen> djazz: one last question, can i post a json array into into that tcp server and pass it on as a parameter? when yes, how?
20:11 < kokotron> how is everyones coding going today?
20:11 < djazz> jammsen: fwrite($f, json_encode("my" => "json", "data" => true));
20:11 < jammsen> djazz: thatside is clear, i mean node, side
20:12 < TechnoCat> json strings are passed as strings just fine
20:12 < djazz> jammsen: in the 'data' listener, append ALL data you get to a string
20:12 < jammsen> TechnoCat: i mean how can i store that sended data inside node.js and pass it on ^^
20:12 < djazz> and then use that data when you get the 'end' event
20:13 < TechnoCat> in a db, in a file, in memory
20:13 < djazz> var data = JSON.parse(chunks);
20:16 < djazz>  jammsen: var chunks = []; client.on('data', function (chunk) {chunks.push(chunk.toString());}); client.on('end', function () {var ALLDATA = chunks.join("");});
20:18 < samholmes> http://nodejs.org/api/http.html#http_http_clientresponse should be http://nodejs.org/api/http.html#http_class_http_clientresponse
20:18 < jammsen> djazz: just inside the server right?
20:18 < djazz> jammsen: yeah
20:18 < djazz> in the connect listener
20:18 < djazz> for new TCP clients
20:19 < jammsen> djazz : client is undefined :o
20:19 < jammsen> while module is that?
20:20 < TechnoCat> client will be the name of your connections
20:20 < TechnoCat> should be passed into the callback
20:20 < djazz> var tcpServer = net.createServer(function (client) {...});
20:23 < samholmes> Where should I store private keys for things like reCAPTCHA and what not, my fellow nodejsers? XD
20:24 < jammsen> djazz: PHP -> https://pastee.org/heasc
20:24 < jammsen> djazz: node -> https://pastee.org/rdcpp
20:24 < djazz> jammsen: it works?
20:24 < jammsen> array is send but in node just comes []
20:25 < AAA_awright> samholmes: In a configuration file?
20:25 < djazz> uncomment the $data?
20:25 < jammsen> djazz: still in console []
20:26 < djazz> do console.log(chunks); in the END event LOL
20:26 < djazz> XD
20:26 < djazz> and console.log(ALLDATA);
20:26 < djazz> or console.log(JSON.parse(ALLDATA));
20:27 < context> what? no $_POST ?
20:27 < stisti> npm search finds tons of twitter libraries. what's the best for tweeting from command line?
20:28 < jammsen> djazz: OH MY GOD :D
20:28 < jammsen> { my: 'json', data: true }
20:28 < jammsen> WEEEEEEEEEEEEEW xD
20:28 < djazz> yayaay
20:28 < jammsen> hell yeah!
20:28 < djazz> put this php after mysql insert
20:29 < jammsen> djazz: yeah php side is clear :) i work with it since 13 years ^^
20:29 < jammsen> just node newb =)
20:30 < jammsen> djazz: if you are ever in germany :) i wont give you a beer, i will give you a box of it =)
20:30 < djazz> jammsen: im from sweden, and, i dont drink XD
20:30 < jammsen> djazz: pizza or something you like :P
20:30 < djazz> xD
20:31 < djazz> maybe a visit on my site?
20:31 < djazz> http://djazz.mine.nu/
20:31 < jammsen> delivery services have much to offer you know? xD
20:31 < TechnoCat> jazz jackrabbit
20:31 < djazz> JJ++
20:32 < jammsen> djazz: what game is that?
20:32 < jammsen> on servers
20:32 < djazz> jammsen: an old 2D platform game shoot em up multiplayer capture the flag ETC
20:33 < jammsen> rcon? :P
20:33 < djazz> try the level editor on my site
20:33 < djazz> i made it
20:33 < jammsen> omg ^^
20:33 < jammsen> ok :P
20:33 < TechnoCat> jammsen, do you use canvas, webgl, or css?
20:33 < TechnoCat> er, djazz*
20:34 < djazz> TechnoCat: in the editor?
20:34 < djazz> TechnoCat: WebGL for 3D textured background
20:34 < jammsen> TechnoCat: :D
20:34 < djazz> 2D canvas for tiles
20:34 < TechnoCat> i see
20:34 < jammsen> djazz: i just build that
20:34 < jammsen> http://i.imgur.com/b5Gkt.png
20:34 < djazz> I'm working on a new version using WebGL for tiles
20:34 < jammsen> livestats from my battlefield3 game server :)
20:34 < djazz> ehm
20:34 < djazz> :)
20:34 < jammsen> RCON protocol ^^
20:35 < TechnoCat> which browsers don't have webgl?
20:35 < jammsen> double hash and the crazy bullshit ^^
20:35 < zomg> TechnoCat: Opera and IE
20:36 < TechnoCat> safari did it?
20:36 < jammsen> djazz: how do i play? o0
20:36 < zomg> Well I believe Opera has it but it's disabled by default
20:36 < zomg> Not entirely sure why
20:36 < djazz> jammsen: WebJJ2? WebJCS?
20:36 < jammsen> djazz: that webgl thing
20:36 < djazz> jammsen: the minecraft thing is just an animation
20:37 -!- mode/#Node.js [+o piscisaureus_] by ChanServ
20:37 < jammsen> djazz: i thought you made a webgl game, sorry xD
20:37 < jammsen> WHAT THE
20:37 < zomg> jammsen: livestats from bf3?
20:37 < djazz> heh
20:37 < jammsen> how the hell did you made that xD
20:37 < djazz> what?
20:37 < zomg> jammsen: did that with node, using bf3's rcon protocol
20:37 < jammsen> zomg: aye thats right
20:38 < jammsen> zomg: no what at the title of shell
20:38 < zomg> I had actually an entire application for that, with stats tracking, admin commands and all the jazz
20:38 < zomg> Oh right PHP? boo
20:38 < zomg> =)
20:38 < jammsen> zomg: php  rcon.php
20:38 < jammsen> zomg: what?! in node?!
20:38 < zomg> Yes
20:38 < jammsen> zomg: show me xD
20:38 < zomg> I suppose I could put it on github with the usual warnings of it possibly being shit
20:38 < djazz> jammsen: level editor demo: http://www.youtube.com/watch?v=zwpZVtzSLPs
20:38 < jammsen> zomg: yeah you could ^^
20:39 < djazz> im so proud of that editor <3
20:39 < jammsen> zomg: i need to see :D
20:39 < zomg> Moment, I need to sort out the actual bf3 protocol related stuff from the application
20:39 < djazz> porting a level editor with it's file formats is a hard work XD
20:39 < jammsen> zomg: what you mean with sort out?
20:40 < djazz> (its using node.js for the collaboration, websockets)
20:40 < jammsen> zomg: i thought you could show me a running version or so ^^
20:40 < jammsen> djazz: how the hell does webgl work? is it difficult?
20:41 < djazz> i use Three.JS mostly
20:41 < jammsen> how many lines?
20:41 < djazz> what?
20:41 < jammsen> http://djazz.mine.nu/lab/minecraft_items/
20:41 < jammsen> how many lines is that long ^^
20:42 < djazz> var rightleg = new THREE.Mesh(new THREE.CubeGeometry(4, 6, 4)....);
20:42 < TechnoCat> you use three.js for 2d also?
20:42 < djazz> idk
20:42 < djazz> TechnoCat: i have tried
20:42 < djazz> but its so slow
20:42 < TechnoCat> heh
20:42 < djazz> i prefer plain WebGL there
20:42 < TechnoCat> i've read good things about canvas though
20:42 < djazz> TechnoCat: http://blog.tojicode.com/2012/08/more-gpu-tile-map-demos-zelda.html
20:42 < djazz> i got my 2D code from there
20:43 < djazz> try it here: http://djazz.mine.nu:8011/
20:43 < djazz> TechnoCat: how many fps?
20:44 < TechnoCat> 63fps when i open it
20:44 < djazz> TechnoCat: also, gameplay from Jazz Jackrabbit 2: http://www.youtube.com/watch?v=kGyM_kX7xkY
20:45 < djazz> my playing in the bash
20:46 < dj_jack> question for room - what is the general sentiment on using node's cluster module (in current, "stability 1" state) in a serious production environment?
20:46 < zomg> jammsen: https://github.com/jhartikainen/node-bf3rcon
20:46 < TechnoCat> wait, your jazz jackrabbit is multiplayer too?
20:46 < zomg> I can't show you a running version because it crashes right away due to certain issues with it which I haven't really looked into very deeply
20:46 < djazz> i didnt make the game
20:46 < zomg> Most likely caused by changes to the protocol or other stuff with the new DLC
20:46 < djazz> but yea, the LEVEL EDITOR is multiplayer
20:47 < djazz> you can edit levels TOGETHER in REALTIME
20:47 < BennyLava> DAT CAPS
20:48 < Hy> Node is hard 
20:48 < BennyLava> I'm hard too
20:48 < Hy> I guess never really using Terminals perviously..
20:48 < Hy> previously
20:49 < Hy> How can I get a Hello World page working?
20:49 < jammsen> zomg: how is that tool accessed?
20:49 < BennyLava> Hy: http://nodejs.org/
20:50 < zomg> jammsen: it isn't, it doesn't exist anymore since I closed it... I just pulled that code out from it
20:51 < TechnoCat> hello world page? like a static http server?
20:51 < jammsen> zomg: so these are just functions?
20:51 < zomg> jammsen: there are docs about how the bf3 rcon protocol works somewhere, you could probably use my code as a base to do something with it. It should work right off the box or after small modifications
20:51 < zomg> Yes, but these functions can be used to connect to a BF3 server and receive events and send commands to it
20:52 < jammsen> zomg: i already covered that in php xD
20:52 < jammsen> is yours a eventconsole and tool to input?
20:52 < jammsen> at the same time?
20:53 < zomg> It was a web based admin tool where you could add any number of servers and any number of admins
20:53 < sebicas> Hi, I am new in node.js and I have a problem...
20:53 < zomg> You would get a page where you can see the list of all players, recent events (eg kills, etc.) and recent chat message
20:53 < sebicas> Why 3.901696 - 3.9 could be equal to 0.0016959999999999198?
20:53 < sebicas> Any ideas?
20:53 < zomg> It would also allow you to send chat, do commands (like kick, ban..), also from ingame itself
20:54 < TechnoCat> floating point
20:54 < sebicas> Yes, but shouldn't be .001696 instead of 0.0016959999999999198
20:54 < AviMarcus> floating point can do that sometimes.
20:54 < zomg> jammsen: if you want to see if it works, just do new bf3.Server({ ip: server_ip, port: server_port, password: server_rcon_pass })... it if doesn't crash, good! =)
20:55 < sebicas> Any way to avoid that?
20:55 < zomg> jammsen: oh and then you'd need to run s.connect() assuming s is the server
20:55 < sebicas> Or force it to 8 decimals?
20:55 < AviMarcus> you can do (3.901696 - 3.9).toFixed(8) but then that's a string
20:55 < zomg> jammsen: if you look at the code for Server you'll see it is an eventemitter and you can listen to certain events from it in order to catch stuff from the server, and by calling the methods on the server object, you can perform actions on the server
20:56 < AviMarcus> or Math.round((3.901696 - 3.9)*100000000)*100000000 but that's a bit messy. I should make a common-use round function for decimals.
20:56 < sebicas> Tx AviMarcusâ€¦ but I need the exact number..
20:56 < AviMarcus> erm--  )/
20:56 < sebicas> Any library that can help me?
20:56 < jammsen> zomg: but if you listen like mine does, and you wanna kick someone, does it make a new connection? or does it use the same where the event console is listening?
20:57 < zomg> jammsen: same connection
20:57 < jammsen> WOA
20:57 < jammsen> crazy dude xD
20:57 < zomg> why would it need another connection for it? =)
20:57 < zomg> you can send and receive from the same socket no problem
20:57 < jammsen> in php its a while true
20:58 < jammsen> to start an event console that stays on
20:58 < jammsen> so there is no room for check for inputs you know?
20:58 < jammsen> well wrong, i just got a idea ^^
20:58 < zomg> I suppose if you do it like that yeah
20:58 < jammsen> i could store that command in DB and check before :P
20:59 < zomg> If you're interested in how my application worked, here's a post I wrote about it http://codeutopia.net/blog/2012/03/10/nodejs-application-architecture-battlefield-3-web-commander/
20:59 < jammsen> much
20:59 < jammsen> very much ^^
21:00 < jammsen> zomg: is mongodb like mysql?
21:01 < TechnoCat> no
21:01 < TechnoCat> but i'm a fan of mongodb too
21:01 < zomg> Well it is in the way that it's a database :P
21:01 < TechnoCat> mongo is no-sql
21:01 < jammsen> does mongodb has notifications?
21:01 < zomg> You do query it and such like you'd query MySQL databases
21:01 < zomg> but it just works somewhat differently
21:01 < AviMarcus> couchdb has a changes feed
21:01 < zomg> both the query language and how the data is modeled in the DB
21:02 < jammsen> as long as you can use sql ^^
21:02 < RLa> data is modeled also differently, docs instead of tables
21:02 < zomg> Yah Mongo doesn't use SQL =)
21:02 < TechnoCat> it is not relational
21:02 < zomg> You just give it JavScript objects which it parses and uses as the query
21:02 < RLa> think of navigational dbs from 50's
21:02 < jammsen> zomg : does it have notifications? like when you post a news on a side, the side is updateble via node.js socket.io?
21:02 < TechnoCat> if you're using mongoose or a js driver maybe
21:02 < jammsen> with an event
21:03 < zomg> jammsen: nah you'd probably want to use something like a messagequeue for that
21:03 < zomg> zeromq or whatever
21:03 < EyePulp> redis has pusub
21:03 < samholmes> when sending an HTTP request, shouldn't I pass a body string like "foo=bar&baz=23" to the req.end()?
21:03 < EyePulp> er, pubsub
21:03 < samholmes> What encodings are there for req.end and req.write?
21:15 < Hy> locally i got the sample .js running
21:17 < TechnoCat> hooray
21:22 < ins0mnia> Hi guys, can a socket client connect to multiple ports on the same host?
21:23 < jtomasrl> i have my files separed into .js files and a couple of them use the db.open command to open a mongodb connection, is there a way to reuse that call instead of calling it on every file?
21:25 < TechnoCat> ins0mnia, i'm guessing you'd have to open multiple client connections
21:26 < ins0mnia> TechnoCat: So basically for each connection I need to create a new client?
21:26 < TechnoCat> each connection with a new port/host i would guess
21:27 < ins0mnia> TechnoCat: Yes, that means new client because the connect() methods accepts PORT, and HOST params (and the callback)
21:27 < ins0mnia> Unless client events can listen to specific ports?
21:28 < ins0mnia> for example, client.on('data', function(data) { ... } });
21:28 < ins0mnia> if I could specify the port in the call back then I can reuse the same client to establish two connections
21:29 < EyePulp> anyone using jquery or jsdom?  I'd like to take an entire html source and plug it in to do some dom work on it, but most of the examples appear to be working primarily within the 'body' object
21:29 <@konobi> ins0mnia: that's not how sockets work
21:29 <@konobi> ins0mnia: sounds like you really want a multiplexed connection
21:29 < ins0mnia> konobi: Correct
21:30 < ins0mnia> konobi: Any advice on best approach to achieve this?
21:30 <@konobi> well, depends what you're sending over the wire
21:30 < ins0mnia> konobi: I'm sending XML RPC calls
21:30 <@konobi> o.O
21:31 < ins0mnia> konobi: So I need to have multiple open socket connections, potentially hundreds, to different machines and ports
21:31 <@konobi> http?
21:31 < ins0mnia> konobi: No, using net.Socket() 
21:31 < ins0mnia> konobi: I wish I could use HTTP with keep-alive though, but that's not the case
21:32 <@konobi> no idea... sounds like you need to open a new socket per call
21:32 < ins0mnia> konobi: Yeah
21:33 <@konobi> unless the xmlrpc server supports some sort of inline multiplexing
21:33 < ins0mnia> konobi: It's super basic, I'm connecting to super dummy sensors
21:35 < ins0mnia> konobi: I guess I'm gonna push all clients to an array and start connecting each one of them one by one
21:35 < ins0mnia> konobi: Sounds wrong to me :)
21:44 < jcrew> ins0mnia: what OS ?
21:45 < ins0mnia> jcrew: The sensor(s) I'm connecting to are basic HW devices, not sure which OS I'd assume Linux (can't be Win right); not sure which though. The machine which I'm running to spawn connections is Debian
21:45 < ins0mnia> jcrew: (It's my machine)
21:46 < ins0mnia> jcrew: Just trying to figure out the best approach to spawn hunders of TCP clients from a single node app to hundreds of hardware sensors
21:46 < jcrew> UDP isn't an option?
21:46 < ins0mnia> jcrew: Unfortunately not
21:47 < jcrew> if it really is just hundreds then you shouldn't have too many problems 
21:47 < ins0mnia> jcrew: I'm trying to think of there's a better approach than pushing all clients to an array and establishing many connections
21:48 < jcrew> and your debian server isn't from the early 90s
21:48 < ins0mnia> jcrew: Hundreds that's at this point, eventually it should scale to tens of thousands
21:48 < ins0mnia> jcrew: hehe no it's not; I'm planning to deploy this on Nodejitsu
21:49 < jcrew> just build it so that it can be in a clustered environment and then if it scales you just spin up more machines
21:50 < ins0mnia> jcrew: Yeah that's the plan
21:50 < jcrew> so if you hit 8k clients and it starts to error it's not time intensive (or lost $ opportunity)
21:50 < jcrew> cool
21:50 < jcrew> what kind of hw sensors?
21:51 < ins0mnia> jcrew: wireless network
21:53 < Hy> soooo..
21:53 < Hy> I got hello world to work =)
21:54 < TechnoCat> console.log?
21:54 < spion> wooo
21:54 < Hy> http server?
21:54 < Hy> web server
21:54 < TechnoCat> you displayed it on a browser then?
21:54 < Hy> correct
21:54 < TechnoCat> cool
21:54 < Hy> not on the console
21:55 < TechnoCat> i use express to do that
21:55 < Hy> i just installed express
21:55 < TechnoCat> =p
21:55 < Hy> how do I start with it now?
21:55 < Hy> Any suggestions?
21:55 < Hy> i guess they have docs, about to get to reading
21:55 < TechnoCat> http://expressjs.com/guide.html#intro
22:16 < Hy> I installed Express
22:16 < Hy> but when I try and run the server with a express module it says it cannot find it
22:16 < TechnoCat> where did you install express?
22:17 < Hy> i just installed it, i didnt direct it anywhere
22:17 < Hy> when installing it I was in nodejs directory
22:17 < TechnoCat> npm installs to the current directory unless you specify -g (-g is not recommended for express)
22:17 < Hy> oh
22:17 < Hy> i used -g
22:18 < TechnoCat> i think it should find it then
22:18 < Hy> oh i see the problem, thank you
22:21 < Hy> great, got express running
22:24 < TechnoCat> =]
22:26 < jmar777> Need some API advice for a Mongoose user model. want to have a `User.getAuthenticated(username, password, cb)` method, but not sure what's a clean callback signature to denote: 1) username not found, 2) username and password didn't match + reached max login attempts, 3) username and password didn't match, but more login attempts available, and 4) username and password matched
22:34 < jcrew> jmar777: using passport would be best option, barring that i use something like the old enum's - ie {"USER_PASS_MISMATCH":2,"LOGIN_NOT_POSSIBLE":3,"LOGIN_SUCCESSFUL":4}
22:34 < jcrew> and by old i mean cool
22:35 < jmar777> jcrew: ya, i was thinking something along the enums route - except that the user would actually get returned on success. so maybe treat all unsuccessful outcomes as an error with a "AuthenticationFailure" enum added?
23:03 <@konobi> is there a decent reference implementation of the middleware pattern for javascript anywhere?
23:03 < chilts> middleware for web servers?
23:04 <@konobi> nope
23:04 <@konobi> "processing"
23:04 < RLa> isn't that just a list of functions
23:04 <@konobi> along with how to execute them in a row? etc.
23:06 < RLa> hm
23:07 < RLa> i guess it also depends what arguments you want to pass through them
23:08 <@konobi> ah... got something
23:18 < chilts> konobi: what did you find?
23:19 <@konobi> chilts: http://stephensugden.com/middleware_guide/
23:19 <@konobi> just enough for me to work out what's going on underneath
23:22 < endra> hey
23:23 < endra> Does node pre-parse events?
23:23 < endra> For example, if I do: something.connect(); event.on('connect', function())
23:23 < endra> Is it possible that it connects before it reads event.on('connect') ?
23:27 < zomg> endra: I think it would depend on what exactly connect does... but I'd say it's possible, but if it actually does network IO or whatever, it would be unlikely
23:27 < zomg> I could be wrong however.
23:27 < endra> zomg: well I'm using it for redis pub sub so I do redid.createConnection() and in the connect event I want to subscribe
23:28 < endra> redis* damn autocorrect
23:28 <@konobi> well, you can't read data until you connect
23:28 < chilts> konobi: thanks, will read :)
23:29 < chilts> so yeah, I was gonna say to look at connect, except you said not for web servers :)
23:29 <@konobi> chilts: it's pretty damn basic... i just wanted something without the connect-isms and http fluff
23:29 < chilts> fair enough
23:29 < chilts> that's all connect though :)
23:33 < dmilith> hi.. i have quite fancy problem
23:33 < dmilith> http://u.verknowsys.com/fUKI
23:33 < dmilith> anybody have an idea what might be wrong/
23:33 < dmilith> ?
23:33 < dmilith> kernel with grsecurity on linux 2.6.32
23:33 < dmilith> Linux draCore 2.6.32.59-grsec-dracore-11 #1 SMP Fri Sep 7 00:18:31 CEST 2012 x86_64 GNU/Linux
23:35 <@konobi> dmilith: nope... no idea what grsecurity even is
23:35 < dmilith> gosh.. 
23:35 < dmilith> 0.6.18 hasn't got similar issues
23:35 < dmilith> 0.8.8 is a drama currently
23:36 < dmilith> isaacs: any ideas?
23:39 <@konobi> dmilith: don't use grsecurity? =0P
23:39 < dmilith> ...
23:39 < dmilith> please man.. 
23:39 < dmilith> I really need help
23:40 < mmalecki> dmilith: most likely a v8 issue
23:40 < mmalecki> try building it in debug mode maybe?
23:40 < dmilith> I enabled memory hardening options in kernel..
23:40 < dmilith> that's probably it
23:40 < dmilith> node is the only app server software with such problem
23:41 < mmalecki> well, because it generates assembly on the fly, maybe?
23:41 < Lorentz> what exactly does grsecurity do?
23:42 < dmilith> makes linux usable
23:42 <@konobi> oh... it's an RBAC layer
23:43 < dmilith> not only
23:43 <@konobi> dmilith: did you get a core dump?
23:43 < dmilith> I may
23:43 < dmilith> while kernel is rebuilding
23:44 <@konobi> you may be able to work out where it bailed and if there is an applicable policy for that
23:46 < dmilith> konobi: no core is dumped
23:46 < dmilith> nothing at all
23:46 < endra> anyone having problems with redisClient thinking it is still in pub sub even if the server disconnects, therefore failing to send a new subscribe command on reconnection?
23:48 < dmilith> konobi: the only thing I have is shown on screenshot
23:49 <@konobi> dmilith: paxctl -m /usr/bin/node ?
23:49 < mmalecki> dmilith: ulimit -c unlimited will dump the core
23:49 < mmalecki> er, enable dumping cores
23:49 < dmilith> mmalecki: nope.. it's kernel level
23:49 < mmalecki> ah, it's a oops
23:49 < dmilith> yup
23:50 < dmilith> but not critical
23:50 < mmalecki> well, you made kernel oops with nod
23:50 < dmilith> I mean kernel still works
23:50 < mmalecki> *node
23:50 < mmalecki> now that's something
23:50 < dmilith> ;] yea.. .that's me
23:53 < dmilith> it's looks like some ipc communication
23:53 < dmilith> issue
--- Log closed Fri Sep 07 00:00:35 2012
